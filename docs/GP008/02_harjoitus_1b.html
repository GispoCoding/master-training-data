<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<link rel="icon" href="/master-training-data/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="/master-training-data/favicon.ico" type="image/x-icon">

<!-- Based on TemplateMo 553 Xtra Blog: https://templatemo.com/tm-553-xtra-blog -->

<meta name="robots" content="noindex, nofollow" />
<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Harjoitus 1b: Viivakohteet ja sääntöpohjainen visualisointi | Kartat ja taitot" />
<meta property="og:type" content="book" />





<meta name="author" content="Gispo Ltd." />

<meta name="date" content="2024-03-26" />


<meta name="description" content="Harjoitus 1b: Viivakohteet ja sääntöpohjainen visualisointi | Kartat ja taitot">

<title>Harjoitus 1b: Viivakohteet ja sääntöpohjainen visualisointi | Kartat ja taitot</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="custom.css" type="text/css" />

<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/hamburgers.css" rel="stylesheet">

</head>

<body>


<div class="main-content">
<!-- special comment to mark beginning of title section for bookdown -->
<!-- bookdown comments must be in this order: title, toc, body -->

<div class="main-content-wrapper">

<div class="row">
<div class="col-sm-12">
<header class="main-toc sidebar" id="sidebar">
<div class="sidebar-wrapper">

<button class="navbar-toggle hamburger hamburger--collapse" id="navbar-toggle"
type="button" onclick="navToggle()" aria-label="Toggle navigation">
<span class="hamburger-box"><span class="hamburger-inner"></span></span>
</button>

<div class="sidebar-title-wrapper">
<img alt="Logo" width="100" src="img/gispo_white_sm.png" class="sidebar-logo">
<div class="sidebar-title"><h1>Kartat ja taitot</h1></div>
<div class="abstract-sidebar"><p>QGISin perusteet karttojen tulostamisen ja taittojen hallinnan näkökulmasta</p></div>
</div>

<nav class="sidebar-nav">
<div id="TOC" class="toc">
<ul>
<li class="has-sub"><a href="index.html#kartat-ja-taitot">Kartat ja taitot</a>
<ul>
<li><a href="index.html#tervetuloa-kurssille">Tervetuloa kurssille!</a></li>
<li><a href="index.html#lukuohje">Lukuohje</a></li>
<li><a href="index.html#mistä-lisätietoja">Mistä lisätietoja?</a></li>
<li><a href="index.html#virheet">Virheet</a></li>
<li><a href="index.html#lisenssi-ja-oikeudet">Lisenssi ja oikeudet</a></li>
</ul></li>
<li class="has-sub"><a href="01_harjoitus_1a.html#harjoitus-1a-vektoriaineistojen-visualisointi-pisteet-ja-alueet">Harjoitus 1a: Vektoriaineistojen visualisointi: pisteet ja alueet</a>
<ul>
<li><a href="01_harjoitus_1a.html#harjoituksen-sisältö">Harjoituksen sisältö</a></li>
<li><a href="01_harjoitus_1a.html#harjoituksen-tavoite">Harjoituksen tavoite</a></li>
<li><a href="01_harjoitus_1a.html#kurssimateriaalin-lataus">Kurssimateriaalin lataus</a></li>
<li><a href="01_harjoitus_1a.html#valmistautuminen">Valmistautuminen</a></li>
<li><a href="01_harjoitus_1a.html#aineiston-tuonti-ja-järjestely">Aineiston tuonti ja järjestely</a></li>
<li class="has-sub"><a href="01_harjoitus_1a.html#tasojen-visualisointi">Tasojen visualisointi</a>
<ul>
<li><a href="01_harjoitus_1a.html#polygonien-visualisointi">Polygonien visualisointi</a></li>
<li><a href="01_harjoitus_1a.html#pistekohteet">Pistekohteet</a></li>
</ul></li>
<li><a href="01_harjoitus_1a.html#lisätehtävä-päällekäiset-kuvaustekniikat-samalle-tasolle">Lisätehtävä: päällekäiset kuvaustekniikat samalle tasolle</a></li>
</ul></li>
<li class="has-sub"><a href="02_harjoitus_1b.html#harjoitus-1b-viivakohteet-ja-sääntöpohjainen-visualisointi">Harjoitus 1b: Viivakohteet ja sääntöpohjainen visualisointi</a>
<ul>
<li><a href="02_harjoitus_1b.html#harjoituksen-sisältö-1">Harjoituksen sisältö</a></li>
<li><a href="02_harjoitus_1b.html#harjoituksen-tavoite-1">Harjoituksen tavoite</a></li>
<li class="has-sub"><a href="02_harjoitus_1b.html#valmistautuminen-1">Valmistautuminen</a>
<ul>
<li><a href="02_harjoitus_1b.html#sääntöpohjainen-visualisointi">Sääntöpohjainen visualisointi</a></li>
<li><a href="02_harjoitus_1b.html#tieaineisto">Tieaineisto</a></li>
<li><a href="02_harjoitus_1b.html#rautatie">Rautatie</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="03_harjoitus_2.html#harjoitus-2-nimiöt">Harjoitus 2: Nimiöt</a>
<ul>
<li><a href="03_harjoitus_2.html#harjoituksen-sisältö-2">Harjoituksen sisältö</a></li>
<li><a href="03_harjoitus_2.html#harjoituksen-tavoite-2">Harjoituksen tavoite</a></li>
<li class="has-sub"><a href="03_harjoitus_2.html#teiden-nimiöinti">Teiden nimiöinti</a>
<ul>
<li><a href="03_harjoitus_2.html#vaatekaupat-tason-nimiöinti">Vaatekaupat-tason nimiöinti</a></li>
</ul></li>
<li><a href="03_harjoitus_2.html#apuviivat-callouts">Apuviivat (Callouts)</a></li>
<li><a href="03_harjoitus_2.html#lisätehtävä-rivinvaihto-ja-muokatut-nimiöt">Lisätehtävä: rivinvaihto ja muokatut nimiöt</a></li>
<li><a href="03_harjoitus_2.html#lisätehtävä-kustomoitu-nimiö-merikoskelle">Lisätehtävä: Kustomoitu nimiö Merikoskelle</a></li>
</ul></li>
<li class="has-sub"><a href="04_harjoitus_3.html#harjoitus-3-teemakartta">Harjoitus 3: Teemakartta</a>
<ul>
<li><a href="04_harjoitus_3.html#harjoituksen-sisältö-3">Harjoituksen sisältö</a></li>
<li><a href="04_harjoitus_3.html#harjoituksen-tavoite-3">Harjoituksen tavoite</a></li>
<li><a href="04_harjoitus_3.html#lisätehtävä-wms-tason-visualisointi">Lisätehtävä: WMS-tason visualisointi</a></li>
</ul></li>
<li class="has-sub"><a href="05_harjoitus_4.html#harjoitus-4-taitto">Harjoitus 4: Taitto</a>
<ul>
<li><a href="05_harjoitus_4.html#harjoituksen-sisältö-4">Harjoituksen sisältö</a></li>
<li><a href="05_harjoitus_4.html#harjoituksen-tavoite-4">Harjoituksen tavoite</a></li>
<li><a href="05_harjoitus_4.html#uuden-taiton-luominen-ja-sijoittelua-helpottavat-työkalut">Uuden taiton luominen ja sijoittelua helpottavat työkalut</a></li>
<li><a href="05_harjoitus_4.html#elementtien-lisääminen">Elementtien lisääminen</a></li>
<li><a href="05_harjoitus_4.html#uusi-sivu-uusi-kartta-ja-teemat">Uusi sivu, uusi kartta ja teemat</a></li>
<li><a href="05_harjoitus_4.html#tallennus-taittomalliksi-ja-pdf-tuloste">Tallennus taittomalliksi ja PDF-tuloste</a></li>
</ul></li>
<li class="has-sub"><a href="06_harjoitus_5.html#harjoitus-5-kartta-atlas">Harjoitus 5: Kartta-atlas</a>
<ul>
<li><a href="06_harjoitus_5.html#harjoituksen-sisältö-5">Harjoituksen sisältö</a></li>
<li><a href="06_harjoitus_5.html#harjoituksen-tavoite-5">Harjoituksen tavoite</a></li>
<li><a href="06_harjoitus_5.html#kartta-atlaksen-tekeminen">Kartta-atlaksen tekeminen</a></li>
</ul></li>
<li class="has-sub"><a href="07_harjoitus_6.html#lisäharjoitus-oman-väripaletin-ja-oletusfontin-lisääminen">Lisäharjoitus: Oman väripaletin ja oletusfontin lisääminen</a>
<ul>
<li><a href="07_harjoitus_6.html#harjoituksen-sisältö-6">Harjoituksen sisältö</a></li>
<li><a href="07_harjoitus_6.html#harjoituksen-tavoite-6">Harjoituksen tavoite</a></li>
<li><a href="07_harjoitus_6.html#väripalettien-luominen">Väripalettien luominen</a></li>
<li><a href="07_harjoitus_6.html#uusien-oletusfonttien-määrittely">Uusien oletusfonttien määrittely</a></li>
</ul></li>
</ul>
</div>
</nav>
</div>
</header>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="harjoitus-1b-viivakohteet-ja-sääntöpohjainen-visualisointi" class="section level1">
<h1>Harjoitus 1b: Viivakohteet ja sääntöpohjainen visualisointi</h1>
<div id="harjoituksen-sisältö-1" class="section level2">
<h2>Harjoituksen sisältö</h2>
<p>Harjoituksessa visualisoidaan viivakohteita vektoriaineistosta
käyttäen hyväksi sääntöpohjaista visualisointia.</p>
</div>
<div id="harjoituksen-tavoite-1" class="section level2">
<h2>Harjoituksen tavoite</h2>
<p>Koulutettava oppii viivakohteiden visualisointitavat sekä
ymmärtää, miten luoda sääntöpohjaisia kuvaustekniikoita
tasoille. Koulutettava oppii myös tieaineistoihin liittyviä
edistyneempiä kuvaustekniikoita.</p>
</div>
<div id="valmistautuminen-1" class="section level2">
<h2>Valmistautuminen</h2>
<p>Avaa edellisessä harjoituksessa luotu QGIS-projekti.</p>
<div id="sääntöpohjainen-visualisointi" class="section level3">
<h3>Sääntöpohjainen visualisointi</h3>
<p>Viivakohteet voivat olla päällekkäisiä tasoja muiden tyyppisten tasojen
päällä. Jotta viivakohteet erottuvat taustasta (esimerkiksi puistoalueiden
läpi menevät polut), ne laitetaan usein aluekohteiden päälle.
Aineistossa tiet ja rakennukset menevät usein päällekkäin eivätkä toimi
kaikilla mittakaavatasoilla sujuvasti yhteen. Tehdään siis ensiksi
<strong>rakennus</strong>-polygonitasolle siis <strong>sääntöpohjainen visualisointi</strong>.</p>
<p><img src="img/harjoitus1/img6.png" /></p>
<p>Tasolla on oletuksena yksi sääntö (kaikki kohteet kuvataan kaikilla
mittakaavoilla samalla tavalla), tuplaklikkaa sitä muokataksesi sitä.</p>
<p><img src="img/harjoitus1/img7.png" /></p>
<p>Tarkoituksena on luoda sääntö, jonka perusteella QGIS näyttää
rakennukset vain 1 : 10 000 -mittakaavassa ja sitä tarkemmissa
mittakaavatasoissa.</p>
<p>Haluamme valita visualisointiin kaikki talot, joten
valitse suodattimeksi <strong>“Else”</strong>. Suodatuksen lisävalintoihin pääsemme
tieaineiston parissa. Nyt meille riittää, että laitamme täpän Scale
range -kohtaan ja täytämme pienimmäksi mittakaavaksi 1:10 000 ja
suurimmaksi 1:1. Tämä mittakaavaväli on se, jolla mm. monia opaskarttoja
tarkastellaan.</p>
<p><img src="img/harjoitus1/img8.png" /></p>
<p>Nyt kun muutat QGISin näkymässä kartan mittakaavaa (käyttämällä vaikkapa
hiiren rullaa tai kannettavan tietokoneen hiiren lähennystä ja
loitonnusta), huomaat että rakennukset tulevat näkyviin ja katoavat
mittakaavatason mukaan.</p>
</div>
<div id="tieaineisto" class="section level3">
<h3>Tieaineisto</h3>
<p>Tieviiva-aineisto sisältää erityyppisiä teitä. Avaa aineiston
attribuuttitaulukko ja tarkastele mitä se sisältää. Huomaat, että
Kohdeluokka-sarakkeessa tiet on luokiteltu seitsemään eri luokkaan.
Kartoissa on kuitenkin usein vain neljä eri luokkaa tietyypeille, joten
käytetään samaa luokittelua.</p>
<div class="hint-box">
<p>Tässä harjoituksessa käytetyt kohdeluokat perustuvat
Maanmittauslaitoksen luokitukseen Autotie Ia (12111), Autotie Ib
(12112), Autotie IIa (12121), Autotie IIb (12122), Autotie IIIa (12131),
Autotie IIIb (12132), Ajotie (12141). Tarkemmat tiedot aineistosta
löytyvät:
<a href="https://www.maanmittauslaitos.fi/sites/maanmittauslaitos.fi/files/attachments/2023/06/Maastotietokohteet_2023_05.pdf" class="uri">https://www.maanmittauslaitos.fi/sites/maanmittauslaitos.fi/files/attachments/2023/06/Maastotietokohteet_2023_05.pdf</a></p>
</div>
<p>Jotta saamme luotua mittakaavaperusteisen näkyvyyden aineistolle ja
tehtyä eri luokille omat visualisointinsa, valitaan tieviiva-aineistolle
sääntöpohjainen visualisointi. Tee uusi sääntö paneelin vasemmasta
alareunasta <img src="img/harjoitus1/img9.png" /> -painikkeesta. Tästä tulee
<strong>luokka 1</strong>.</p>
<p>Lisää suodatin, scale range (mittakaavaperusteinen näkyvyys) sekä
kaksi visualisointitasoa kohteelle:</p>
<p><strong>Otsikko:</strong> Luokka 1</p>
<p><strong>Suodatin</strong>: <code>"kohdeluokka" = 12111 OR "kohdeluokka" =12112</code></p>
<p><strong>Scale range</strong>: 1:100000000, 1:1</p>
<p>Valitse aineistolle ensin yksi yksinkertainen täyttö, jossa on haluamasi
väri. Sen jälkeen paina <img src="img/harjoitus1/img9.png" /> -painiketta ja
lisää toiseksi väriksi musta. Ensimmäisestä väristä tehdään tien pääväri
ja mustasta tien reunaviivan väri.</p>
<p><img src="img/harjoitus1/img10.png" /></p>
<p>Jotta saat mustan värin reunaviivaksi, aseta se visualisointijärjestyksessä
alimmaiseksi painamalla <img src="img/harjoitus1/img11.png" /> -painiketta ja
asettamalla mustan viivan paksuus täyttövärin paksuutta isommaksi. Näin
QGIS luo siis ensin leveän mustan viivan, jonka päälle tulee toisella
värillä hieman kapeampi viiva - lopputulos saa tieaineiston näyttämään
tiealueelta, jolla on reunaviiva.</p>
<div class="hint-box">
<p>Esimerkkikuvan asetukset luokalle 1 olivat:</p>
<p><strong>Viiva 1 (sisus)</strong>: täyttöväri: #f1a342 paksuus: 2,2 mm</p>
<p><strong>Viiva 2 (reuna)</strong>: täyttöväri: #000000 paksuus: 2,6 mm</p>
</div>
<p>Tee lopuille kolmelle luokalle samalla tavalla sääntöpohjainen
luokittelu ja mittakaavaperusteinen näkyvyys näillä arvoilla:</p>
<div class="hint-box">
<p><strong>Luokka 2</strong> "kohdeluokka" =12121 OR "kohdeluokka" =12122</p>
<p>Scale range: 1:20001, 1:1</p>
<p>Viiva 1: täyttöväri: #f7e27c paksuus: 2,8 mm</p>
<p>Viiva 2: täyttöväri: #000000 paksuus: 3,1 mm</p>
<p><strong>Luokka 3</strong> "kohdeluokka" = 12131 OR "kohdeluokka" = 12132</p>
<p>Scale range: 1:10001, 1:1</p>
<p>Viiva 1: täyttöväri: #ffffff paksuus: 1,2</p>
<p>Viiva 2: täyttöväri: #7e7a7a paksuus 1,6</p>
<p><strong>Luokka 4</strong> "kohdeluokka" = 12141</p>
<p>Scale range: 1:10 001, 1:1</p>
<p>Viiva 1: täyttöväri: #ffffff paksuus: 1,2</p>
<p>Viiva 2: täyttöväri: #a4a9a2 paksuus: 1,8 Viivan tyyli: pisteviiva</p>
</div>
<p>Nyt tiet ovat muuten valmiita, mutta monissa kohdin reunaviivat
näyttävät menevän väärin, esimerkiksi risteykset näyttävät
sekaville. Muutetaan siis vielä teiden piirtojärjestys,
jotta reunaviivat menevät piiloon. Paina “symbolitasot”:</p>
<p><img src="img/harjoitus1/img12.png" /></p>
<p>Määrittele järjestys kuvan mukaisesti klikkaamalla värin kenttää ja
kirjoittamalla siihen (musta jää 0:ksi, muut värit muutetaan arvoon 1):</p>
<p><img src="img/harjoitus1/img13.png" /></p>
<p>Nyt QGIS piirtää mustan värin ensin ja sen päälle täyttövärin. Näin
reunaviivat on saatu piiloon. Seuraavaksi vielä asetetaan teiden
keskinäinen piirtojärjestys niin, että päätiet piirtyvät pikkuteiden
päälle. Klikkaa alalaidasta “Tason piirto” -kohtaa ja laita täppä “Säädä
kohteiden piirtojärjestystä” -kohtaan. Tämän jälkeen paina sen vieressä
olevaa symbolia avataksesi lisäasetukset.</p>
<p><img src="img/harjoitus1/img14.png" /> <img src="img/harjoitus1/img15.png" /></p>
<p>Aseta arvot kuten kuvassa (Lauseke: <em>kohdeluokka</em>, Nouseva/laskeva:
<em>Laskeva</em>). Nyt QGIS järjestää kohteet kohdeluokka-sarakkeen arvojen
mukaan niin, että isoimman arvon omistavat kohteet tulevat
päällimmäisiksi. Paina <strong>OK</strong>.</p>
</div>
<div id="rautatie" class="section level3">
<h3>Rautatie</h3>
<p>QGISissä on myös valmiita visualisointeja, jotka näkyvät
visualisointiasetusten alkunäkymässä. Katso symbolikirjaston
suosikeista, miltä näyttäisi vaikkapa “topo railway”. Saat
valmiin kuvaustyylin käyttöön klikkaamalla sitä hiiren vasemmalla
painikkeella. Voit tutkia, miten tyyli on tehty, klikkaamalla sen
visualisointitapoja. Mitä saat muutettua “Pistesymboliviiva”- tai
“Yksinkertainen pistesymboli”-otsikoiden alta?</p>
<p><img src="img/harjoitus1/img16.png" /></p>
<p>Voit käyttää valmista symbolia visualisointisi pohjana, jota
alat editoimaan. Esimerkiksi “topo railwayn” alle voit lisätä alle
valkoisen yhtenäisen viivan samaan tapaan kuin teissä lisättiin
musta reunaviiva päävärin alle. Tämän voit tehdä valitsemalla
Yksinkertainen viiva -visualisointitason ja muokkaamalla siinä
olevan mustan, kapean viivan leveäksi ja valkoiseksi.</p>
<p>Muokattavat kohdat ja esimerkkiarvot:</p>
<p><img src="img/harjoitus1/viiva.png" /></p>
<p>Lopputulos:</p>
<p><img src="img/harjoitus1/img17.png" /></p>
<p>Kun olet valmis, tallenna projektitiedosto kurssihakemistoon pikanäppäimellä CTRL + S tai päävalikosta Projekti &gt; Tallenna.</p>

</div>
</div>
</div>
<p style="text-align: center;">
<a href="01_harjoitus_1a.html"><button class="btn btn-default">Previous</button></a>
<a href="03_harjoitus_2.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>

<footer class="footer text-center">

<div class="footer-container text-center">

<div class="footer-info">
<h5 class="footer-title">Kartat ja taitot</h5>
<span class="footer-version">v2024-03-26</span>
<div class="license"><img src="img/by-nd.svg" width="80px" alt="CC-BY-ND"></div>
</div>

<div class="footer-info">
<h5 class="footer-title footer-company">Gispo Oy.
<span class="footer-copyright-year">© 2024</span></h5>
<span class="footer-contact-info">Kumpulantie 3, 3 krs
<br>00520 Helsinki, Finland
<br>info@gispo.fi
</span>
</div>

</div>
</div>
</footer>
</div>


<script src="js/nav-script.js"></script>
<script src="js/answer-key.js"></script>

</body>
</html>

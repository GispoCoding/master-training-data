<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<link rel="icon" href="/master-training-data/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="/master-training-data/favicon.ico" type="image/x-icon">

<!-- Based on TemplateMo 553 Xtra Blog: https://templatemo.com/tm-553-xtra-blog -->

<meta name="robots" content="noindex, nofollow" />
<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Harjoitus 2: QGIS-projektin valmistelu, synkronointi ja digitointi | Paikkatiedon mobiilikeruu Mergin Mapsilla" />
<meta property="og:type" content="book" />





<meta name="author" content="Gispo Oy" />

<meta name="date" content="2024-01-18" />


<meta name="description" content="Harjoitus 2: QGIS-projektin valmistelu, synkronointi ja digitointi | Paikkatiedon mobiilikeruu Mergin Mapsilla">

<title>Harjoitus 2: QGIS-projektin valmistelu, synkronointi ja digitointi | Paikkatiedon mobiilikeruu Mergin Mapsilla</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="custom.css" type="text/css" />

<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/hamburgers.css" rel="stylesheet">

</head>

<body>


<div class="main-content">
<!-- special comment to mark beginning of title section for bookdown -->
<!-- bookdown comments must be in this order: title, toc, body -->

<div class="main-content-wrapper">

<div class="row">
<div class="col-sm-12">
<header class="main-toc sidebar" id="sidebar">
<div class="sidebar-wrapper">

<button class="navbar-toggle hamburger hamburger--collapse" id="navbar-toggle"
type="button" onclick="navToggle()" aria-label="Toggle navigation">
<span class="hamburger-box"><span class="hamburger-inner"></span></span>
</button>

<div class="sidebar-title-wrapper">
<img alt="Logo" width="100" src="img/gispo_white_sm.png" class="sidebar-logo">
<div class="sidebar-title"><h1>Paikkatiedon mobiilikeruu Mergin Mapsilla</h1></div>
<div class="abstract-sidebar"><p>Peruskurssi mergin maps-lisäosan ja mobiilisovelluksen käytöstä.</p></div>
</div>

<nav class="sidebar-nav">
<div id="TOC" class="toc">
<ul>
<li class="has-sub"><a href="index.html#paikkatiedon-mobiilikeruu-mergin-mapsilla"><strong>Paikkatiedon mobiilikeruu Mergin Mapsilla</strong></a>
<ul>
<li><a href="index.html#tervetuloa-paikkatiedon-mobiilikeruun-peruskurssille"><strong>Tervetuloa paikkatiedon mobiilikeruun peruskurssille!</strong></a></li>
<li><a href="index.html#mergin-maps-inputin-taustaa"><strong>Mergin Maps Inputin taustaa</strong></a></li>
<li><a href="index.html#miksi-mergin-maps"><strong>Miksi Mergin Maps?</strong></a></li>
<li><a href="index.html#lukuohje"><strong>Lukuohje</strong></a></li>
<li><a href="index.html#mistä-lisätietoja"><strong>Mistä lisätietoja?</strong></a></li>
<li><a href="index.html#virheet"><strong>Virheet</strong></a></li>
<li><a href="index.html#lisenssi-ja-oikeudet"><strong>Lisenssi ja oikeudet</strong></a></li>
</ul></li>
<li class="has-sub"><a href="01_Ennen_harjoituksia.html#ennen-harjoituksia-asennus-ja-käyttöönotto"><strong>Ennen harjoituksia: Asennus ja käyttöönotto</strong></a>
<ul>
<li><a href="01_Ennen_harjoituksia.html#valmistautuminen"><strong>Valmistautuminen</strong></a></li>
<li><a href="01_Ennen_harjoituksia.html#sovelluksen-asentaminen-sovelluskaupasta"><strong>Sovelluksen asentaminen sovelluskaupasta</strong></a></li>
<li><a href="01_Ennen_harjoituksia.html#käyttäjätunnusten-luominen-pilvipalveluun"><strong>Käyttäjätunnusten luominen pilvipalveluun</strong></a></li>
</ul></li>
<li class="has-sub"><a href="02_Harjoitus_1.html#harjoitus-1-sovelluksen-käyttöönotto"><strong>Harjoitus 1: Sovelluksen käyttöönotto</strong></a>
<ul>
<li><a href="02_Harjoitus_1.html#sovelluksen-avaaminen-ja-käyttöliittymä"><strong>Sovelluksen avaaminen ja käyttöliittymä</strong></a></li>
<li><a href="02_Harjoitus_1.html#mergin-mapsin-käyttöliittymä"><strong>Mergin Mapsin käyttöliittymä</strong></a></li>
</ul></li>
<li class="has-sub"><a href="03_Harjoitus_2.html#harjoitus-2-qgis-projektin-valmistelu-synkronointi-ja-digitointi"><strong>Harjoitus 2: QGIS-projektin valmistelu, synkronointi ja digitointi</strong></a>
<ul>
<li><a href="03_Harjoitus_2.html#valmistautuminen-1"><strong>Valmistautuminen</strong></a></li>
<li><a href="03_Harjoitus_2.html#projektin-perusasetukset"><strong>Projektin perusasetukset</strong></a></li>
<li><a href="03_Harjoitus_2.html#mergin--lisäosan-asentaminen-ja-palveluun-kirjautuminen"><strong>Mergin -lisäosan asentaminen ja palveluun kirjautuminen</strong></a></li>
<li><a href="03_Harjoitus_2.html#mergin-lisäosan-käyttö"><strong>Mergin-lisäosan käyttö</strong></a></li>
<li><a href="03_Harjoitus_2.html#taustakarttojen-lisäys"><strong>Taustakarttojen lisäys</strong></a></li>
<li><a href="03_Harjoitus_2.html#tasojen-luonti"><strong>Tasojen luonti</strong></a></li>
<li><a href="03_Harjoitus_2.html#projektin-synkronointi-pilveen-ja-siihen-liittyviä-huomioita"><strong>Projektin synkronointi pilveen ja siihen liittyviä huomioita</strong></a></li>
<li><a href="03_Harjoitus_2.html#projektin-avaaminen-mobiililaitteessa"><strong>Projektin avaaminen mobiililaitteessa</strong></a></li>
<li><a href="03_Harjoitus_2.html#digitointitila"><strong>Digitointitila</strong></a></li>
<li><a href="03_Harjoitus_2.html#lisätehtävä-tasojen-luominen"><strong>Lisätehtävä: Tasojen luominen</strong></a></li>
</ul></li>
<li class="has-sub"><a href="04_Harjoitus_3.html#harjoitus-3-lomakkeet"><strong>Harjoitus 3: Lomakkeet</strong></a>
<ul>
<li><a href="04_Harjoitus_3.html#valmistautuminen-2"><strong>Valmistautuminen</strong></a></li>
<li><a href="04_Harjoitus_3.html#taustatietoja"><strong>Taustatietoja</strong></a></li>
<li><a href="04_Harjoitus_3.html#ominaisuustietolomakkeen-muokkaus"><strong>Ominaisuustietolomakkeen muokkaus</strong></a></li>
<li><a href="04_Harjoitus_3.html#laji-tietokenttä"><strong>Laji-tietokenttä</strong></a></li>
<li><a href="04_Harjoitus_3.html#lisätiedot-tietokenttä"><strong>Lisätiedot-tietokenttä</strong></a></li>
<li><a href="04_Harjoitus_3.html#luoja--ja-muokkaaja--tietokenttien-automatisointi"><strong>Luoja- ja muokkaaja -tietokenttien automatisointi</strong></a></li>
<li><a href="04_Harjoitus_3.html#luonti--ja-muokkausaika--tietokentät"><strong>Luonti- ja muokkausaika -tietokentät</strong></a></li>
<li><a href="04_Harjoitus_3.html#kohteen-uuid-kenttä"><strong>Kohteen uuid-kenttä</strong></a></li>
<li><a href="04_Harjoitus_3.html#lomakkeen-välilehdet"><strong>Lomakkeen välilehdet</strong></a></li>
<li><a href="04_Harjoitus_3.html#näyttö-ja-kohdelistaus"><strong>Näyttö ja kohdelistaus</strong></a></li>
<li><a href="04_Harjoitus_3.html#tarttumisen-asetukset"><strong>Tarttumisen asetukset</strong></a></li>
<li><a href="04_Harjoitus_3.html#lomakkeet-mergin-mapsissa"><strong>Lomakkeet Mergin Mapsissa</strong></a></li>
</ul></li>
<li class="has-sub"><a href="05_Harjoitus_4.html#harjoitus-4-relaatioiden-käyttö"><strong>Harjoitus 4: Relaatioiden käyttö</strong></a>
<ul>
<li><a href="05_Harjoitus_4.html#valmistautuminen-3"><strong>Valmistautuminen</strong></a></li>
<li><a href="05_Harjoitus_4.html#kasvualusta-taso"><strong>Kasvualusta-taso</strong></a></li>
<li><a href="05_Harjoitus_4.html#relaatioiden-luonti"><strong>Relaatioiden luonti</strong></a></li>
<li><a href="05_Harjoitus_4.html#lomakkeen-asetusten-määrittäminen"><strong>Lomakkeen asetusten määrittäminen</strong></a></li>
<li><a href="05_Harjoitus_4.html#lapsikohteiden-luominen-merginissä"><strong>Lapsikohteiden luominen Merginissä</strong></a></li>
</ul></li>
<li class="has-sub"><a href="06_Harjoitus_5.html#harjoitus-5-lisäominaisuudet-ja-kenttätyö"><strong>Harjoitus 5: Lisäominaisuudet ja kenttätyö</strong></a>
<ul>
<li><a href="06_Harjoitus_5.html#valmistautuminen-4"><strong>Valmistautuminen</strong></a></li>
<li><a href="06_Harjoitus_5.html#laitteen-paikannuksen-käyttäminen"><strong>Laitteen paikannuksen käyttäminen</strong></a></li>
<li><a href="06_Harjoitus_5.html#edistyneemmät-digitointityökalut"><strong>Edistyneemmät digitointityökalut</strong></a></li>
<li><a href="06_Harjoitus_5.html#tarttuminen-sekä-topologinen-editointi"><strong>Tarttuminen sekä topologinen editointi</strong></a></li>
<li><a href="06_Harjoitus_5.html#taitepiste--ja-halkaisutyökalut"><strong>Taitepiste- ja halkaisutyökalut</strong></a></li>
<li><a href="06_Harjoitus_5.html#lyhyt-ohjeistus-kenttätöihin"><strong>Lyhyt ohjeistus kenttätöihin</strong></a></li>
</ul></li>
</ul>
</div>
</nav>
</div>
</header>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="harjoitus-2-qgis-projektin-valmistelu-synkronointi-ja-digitointi" class="section level1">
<h1><strong>Harjoitus 2: QGIS-projektin valmistelu, synkronointi ja digitointi</strong></h1>
<p><strong>Harjoituksen sisältö</strong></p>
<p>Harjoituksessa luodaan QGIS-työpöytäohjelmistolla projekti, jota myöhemmin käytetään mobiilisovelluksessa. Lisäksi asennetaan QGISin Mergin Maps -lisäosa, joka mahdollistaa projektitiedostojen siirron tietokoneen ja mobiililaitteen välillä.</p>
<p><strong>Harjoituksen tavoite</strong></p>
<p>Koulutettava oppii luomaan QGIS-projektin sekä paketoimaan ja siirtämään sen mobiililaitteeseen Mergin Maps -lisäosaa käyttäen.</p>
<p><strong>Arvioitu kesto</strong></p>
<p>60 min.</p>
<div id="valmistautuminen-1" class="section level2">
<h2><strong>Valmistautuminen</strong></h2>
<p>Avaa <strong>QGIS</strong>-työpöytäohjelmistotietokoneellasi ja aloita siellä uusi QGIS-projekti (ylävalikosta <strong>Projekti &gt; Uusi</strong>). Tallenna projektitiedosto <strong>(Projekti &gt; Tallenna nimellä...</strong>) nimellä <strong>“MerginMaps-kurssiprojekti” tai vastaava</strong>. Harjoituksessa oletetaan myös, että Input-ohjelmisto on valmiiksi asennettu mobiililaitteeseen.</p>
</div>
<div id="projektin-perusasetukset" class="section level2">
<h2><strong>Projektin perusasetukset</strong></h2>
<p>Avaa QGISin ylävalikosta projektin ominaisuudet (<strong>Projekti &gt; Ominaisuudet</strong>) ja sieltä <strong>Yleiset</strong>-välilehti. Etsi sieltä asetus <strong>Tallenna polut</strong> ja valitse alasvetovalikosta arvoksi <strong>suhteellinen</strong>. Tällöin projektia siirrettäessä eri laitteille projekti ja sen aineistot löytyvät, sillä hakemistopolut viittaavat ainoastaan projektin kotihakemistoon, eivätkä esimerkiksi C-levyn juureen ja laitekohtaiseen hakemistorakenteeseen.</p>
<p>Tämän jälkeen mennään vielä samassa <strong>Projektin ominaisuudet</strong> -ikkunassa <strong>Koordinaattijärjestelmä</strong>-välilehdelle ja valitaan koordinaattijärjestelmäksi <strong>EPSG:3067</strong>.</p>
</div>
<div id="mergin--lisäosan-asentaminen-ja-palveluun-kirjautuminen" class="section level2">
<h2><strong>Mergin -lisäosan asentaminen ja palveluun kirjautuminen</strong></h2>
<p>Asennetaan ensin lisäosa QGISin ylävalikosta: <strong>Lisäosat &gt; Hallitse ja asenna lisäosia</strong>, kirjoita hakukenttään <strong>Mergin</strong> ja klikkaa “<strong>Asenna lisäosa</strong>”. Lisäosan asennuttua se löytyy Lisäosat-ylävalikosta.</p>
<p>Mergin Maps edellyttää palveluunsa kirjautumista, joko yksityishenkilönä tai yritystilin kautta. Tällöin aineisto on käytössä useamman henkilön kesken organisaation sisällä ja tietojen päivittäminen laitteiden välillä on sujuvampaa.</p>
<p><img src="img/harjoitus_2/image1.png" /></p>
<p>Uusi projekti tulee synkronoida myös Mergin Mapsin pilvipalveluun, johon pääsen kirjautumaan ladatun lisäosan “<strong>hammasratas</strong>”-kuvaketta painamalla. Kun olet kirjautunut verkkopalveluun, pääset samoilla tunnuksilla yhdistämään QGISin Mergin Mapsin palvelimeen. Jos haluat tulevia sessioita varten tallentaa kirjautumistietosi, laita valinta kohtaan “save your credentials”. Custom Mergin Maps server on oletuksena alla olevan kuvan mukaisesti:</p>
<p><img src="img/harjoitus_2/image2.png" /></p>
<div class="hint-box">
<p>Yhteyttä muodostaessa ohjelma saattaa joskus herjata virhettä, että annetun serverin URL-osoite on väärä. Tähän ongelmaan voi kokeilla ratkaisuksi muuttaa QGISin käyttäjäprofiilia - eli käytännössä luoda uusi profiili. Uusi profiili tehdään ylävalikosta <strong>Asetukset-käyttäjäprofiilit-uusi profiili.</strong> Uusi käyttäjäprofiili asettaa QGIS-ohjelman oletustilaan, eli tällöin Mergin-lisäosa tulee asentaa uudestaan. Käyttäjäprofiileja luomalla voi myös luoda itselleen erilaisia työtiloja, mikäli työskentelee hyvin erilaisten projektien ja työkalujen kanssa.</p>
<p><img src="img/harjoitus_2/image3.png" /></p>
</div>
<p>Omalle tilille pääset kirjautumaan myös selaimen kautta osoitteessa: <a href="https://app.merginmaps.com/login" class="uri">https://app.merginmaps.com/login</a>. Selaimen kautta pääset tarkastelemaan kaikkia tilin projekteja ja käyttäjiä sekä muuttamaan asetuksia ja tarkastelemaan historiatietoja. Selaimen kautta voit myös luoda uusia projekteja ja jakaa niitä eri käyttäjille.</p>
</div>
<div id="mergin-lisäosan-käyttö" class="section level2">
<h2><strong>Mergin-lisäosan käyttö</strong></h2>
<p>Kirjautumisen jälkeen voit luoda uuden projektin työkalun plus-ikonia painamalla:</p>
<p><img src="img/harjoitus_2/image4.png" /></p>
<p>Kun lähdetään luomaan täysin uutta sisältöä, valitaan “New basic QGIS project”. Jos sinulla on jo olemassa valmis QGIS projekti, jonka haluat kääntää mobiililaitteelle, valitse “Package current QGIS project”. Klikataan siis “New basic QGIS project”. Mikäli olet kirjautunut oikein, työtilan kohdalla pitäisi olla, tai pitäisi olla valittavissa tilisi. Anna projektille haluamasi nimi kohtaan “Project Name”. Älä tee projektista julkista (ainakaan vielä), joten jätä valitsematta “Make the project public”. Uusi projekti tallentuu myös koneellesi, joten valitse vielä tiedostolähteeksi sama kansio, mihin projektitiedosto on tallennettu koneellasi.</p>
<p><img src="img/harjoitus_2/image5.png" /></p>
<p><img src="img/harjoitus_2/image6.png" /></p>
<p>Uuteen projektiin aukeaa oletusarvoisesti taustakartta, sekä pistetaso. Nämä ovat poistettavissa tai jatkojalostettavissa omaa käyttötarkoitusta varten.</p>
<p><img src="img/harjoitus_2/image7.png" /></p>
</div>
<div id="taustakarttojen-lisäys" class="section level2">
<h2><strong>Taustakarttojen lisäys</strong></h2>
<p>Taustakarttoja voi lisätä myös omien mieltymysten ja tarpeiden mukaan. Taustakartan voi lisätä sekä esimerkiksi WMS-tasona, jos mobiililaite on varustettu internet-yhteydellä tai se voidaan lisätä tiedostotasona jos yhteyttä ei ole, se on liian hidas, tai sitä ei muusta syystä haluta käyttää.</p>
<div class="hintbox">
<p><strong>Eräs mahdollisuus on myös lisätä taustakartta rajapintana QGIS-projektiin, mutta muuttaa se ilman internet-yhteyttä käytettäväksi Geopackage-tiedostoksi halutulta alueelta projektitiedoston siirron/synkronoinnin yhteydessä. Tästä lisää myöhemmin.</strong> |</p>
</div>
<p>Lisätään nyt taustakartta koko Suomen alueelta käyttäen QGISin <strong>QuickMapServices</strong>-lisäosaa. Asennetaan ensin lisäosa QGISin ylävalikosta: <strong>Lisäosat &gt; Hallitse ja asenna lisäosia</strong>, kirjoita hakukenttään <strong>QuickMapServices</strong> ja klikkaa “<strong>Asenna lisäosa</strong>”. Lisäosan asennuttua se löytyy Verkko-ylävalikosta. Lisäksi QGIS-ikkunaan aukeaa “<strong>Search QMS</strong>”-paneeli, jolla saatavissa olevia taustakarttapalveluita voi etsiä. Jos paneeli ei aukea automaattisesti, sen voi avata ylävalikon kautta. Hae paneelin avulla “<strong>Kapsi - taustakartta</strong>” ja lisää projektiin kaksoisklikkaamalla.</p>
<p><img src="img/harjoitus_2/image8.png" /></p>
<div class="hintbox">
<p><strong>Projektiin voi halutessaan lisätä useammankin taustakartan, joita voidaan käyttää Mergin Mapsissa yhtäaikaisesti. Tässä voi myös hyödyntää QGISin karttateemat-ominaisuutta.</strong></p>
</div>
<div class="hintbox">
<p>**Digitointia auttamaan saattaisi olla hyödyllistä käyttää lisäksi esimerkiksi ortoilmakuvaa, joka löytyy myös QuickMapServicen “Kapsi”-haulla.</p>
</div>
<p>Pidetään projekti nyt mahdollisimman yksinkertaisena ja pidetään vain “Kapsi - taustakartta” -taso.**</p>
</div>
<div id="tasojen-luonti" class="section level2">
<h2><strong>Tasojen luonti</strong></h2>
<p>Käytämme tässä kohtaa harjoitusta varten luotua GeoPackagea testaamisen nopeuttamiseksi. Myöhemmissä harjoituksissa jalostamme tasoja edelleen ja tutustumme visualisoinnin hienouksiin ja tiedon tallettamisen nopeuttamiseen. Mikäli kuitenkin tarvitset kertausta perusmuotoisen GeoPackage-tason luomisessa, ohjeet tämän tekemiseen löydät tämän harjoituksen lopusta osiosta “lisätehtävät”. Käy hakemassa kurssihakemistosta kaksi tasoa, “lintuhavainnot” ja “luontoselvitys” vektoritasojen lisäyksen kautta. Molemmat tasot on pakattu saman GeoPackagen (luontoselvitys) sisälle.</p>
<p>Järjestä vielä projektiin luodut tasot Tasot-paneelissa, kuten alla olevassa kuvassa. Järjestyksen muuttaminen onnistuu esimerkiksi tasoja “raahaamalla” (ns. drag &amp; drop). Ylempänä listassa olevat taso piirretään alempana olevan päälle, joten on luontevaa, että taustakartta ja polygoni-tasot ovat alimpina. Ajan salliessa, voit myös muuttaa tasojen kuvaustyylejä itsellesi mieleiseksi. Kysy tarvittaessa apua kouluttajalta.</p>
<p><img src="img/harjoitus_2/image9.png" /></p>
<p>Voit nyt vertailun vuoksi testata, miltä editointi ja tietojen lisäys näyttää QGISissa työskenneltäessä. Aseta siis <strong>lintuhavainnot</strong>-taso editoitavaksi, esimerkiksi klikkaamalla tason kohdalta hiiren oikealla napilla ja valitsemalla <strong>Editointi päälle/pois</strong>. Paina <strong>Lisää pistekohde</strong> -nappia digitoinnin työkalupalkista (kts. kuvaa alla). Klikkaa kartalla lisätäksesi pistemäisen kohteen, jolloin lomake aukeaa. Testaa kutakin kenttää ja huomaa, että niihin lisätään tietoja eri tavoilla. Nyt ei kuitenkaan ole tarpeen lisätä kohdetta, joten testattuasi voit klikata <strong>Peru</strong>.</p>
<p><img src="img/harjoitus_2/image10.png" /></p>
<p>Kun olet valmis, tallenna vielä projektitiedosto pikanäppäimellä <strong>CTRL + T</strong> tai päävalikosta <strong>Projekti &gt; Tallenna</strong>. Nyt perustasot ja -aineistot on lisätty QGIS-projektiin, joten valmistellaan seuraavaksi projektin siirto mobiililaitteeseen.</p>
<div class="hintbox">
<p><strong>Merginin kehittäjät suosittelevat GeoPackagen käyttöä vektoridatalle, ja myös rasteridatalle erityisesti suurten tiedostokokojen takia. Lisätietoja näiden esivalmistelusta löytyy <a href="https://merginmaps.com/docs/gis/supported_formats/">dokumentaatiosta</a></strong></p>
</div>
</div>
<div id="projektin-synkronointi-pilveen-ja-siihen-liittyviä-huomioita" class="section level2">
<h2><strong>Projektin synkronointi pilveen ja siihen liittyviä huomioita</strong></h2>
<p>Kun projekti on siinä tilassa, että se on valmis vietäväksi pilveen ja mobiililaitteelle, voidaan painaa työkaluvalikon <strong>Syncronize</strong>-painiketta.</p>
<p><img src="img/harjoitus_2/image11.png" /></p>
<p>Ennen synkronointia ohjelma antaa varoituksen, mikäli tiedostoissa on joitain häiriöitä, mitkä voivat vaikuttaa tiedon siirtymiseen ja niiden toimintaan mobiililaitteella. Erityismerkit, muutokset taulukoissa sekä tietolähteissä antavat herkästi virheilmoituksen, mutta voit tässä kohtaa olla välittämättä niistä. Rajapinnasta haettujen aineistojen haasteena on se, etteivät ne lataudu ilman verkkoyhteyttä. Tämä voi tulla vastaan maastokartoituksissa, joissa ollaan verkon ulottumattomissa.</p>
<p>Tilanteessa, jossa tiedät etukäteen olevasi verkon ulottumattomissa, voit luoda offline-tilassa toimivan rajatun tason rajapinnasta “Generate xyz Tiles” (MBTiles) -työkalun avulla. Valitse “Extent” valikkoon “Use Map Canvas Extent”, tarkkuustasoja haluttu määrä (tässä esimerkissä välille 10-15) ja lopussa tallennuskansioksi projektin kansio. Paina sitten <strong>Suorita</strong>. Taustakartan mittakaava ja zoomattavien tasojen määrä vaikuttaa prosessointiaikaan ja tiedoston kokoon.</p>
<p><img src="img/harjoitus_2/image12.png" /></p>
<p>Prosessin jälkeen voit järjestellä tasot haluamallasi tavalla ja tämän jälkeen muista synkronoida projekti pilvipalveluun.</p>
</div>
<div id="projektin-avaaminen-mobiililaitteessa" class="section level2">
<h2><strong>Projektin avaaminen mobiililaitteessa</strong></h2>
<p>Avataan Mergin maps nyt mobiililaitteellasi. Aluksi sovellus ohjaa sinut kirjautumissivulle, johon sinun tulee syöttää samat tunnukset, kuin selaimessa ja QGISissä.</p>
<p><img src="img/harjoitus_2/image13.png" /></p>
<p>Kirjautumisen jälkeen sinulle aukeaa kaikki projektit, jotka olet synkronoinut pilvipalveluun. Paina tämän harjoituksen yhteyteen luodun projektin lautauslinkkiä, niin QGISin puolella valmisteltu projekti aukeaa mobiililaitteelle.</p>
<p><img src="img/harjoitus_2/image14.png" /></p>
<p>Tarkastellaan nyt Mergin Mapsin työtilaa. Alavalikon vasemmassa reunassa on “Projektit”, josta pääset tarkastelemaan kaikkia käyttäjän luomia työtiloja. “GPS” -painike ohjaa sinut nykyiseen sijaintiisi, mikäli GPS-haku on aktivoitu. “Tallenna”-valikosta pääset digitoimaan ja syöttämään uutta tietoa. “Lisää”-valikko avaa mm. tasot nähtäviksi.</p>
<p><img src="img/harjoitus_2/image15.png" /></p>
<p>“Lisää”-valikon avaamalla pääset muokkaamaan projektin asetuksia mobiilisovelluksessa. Tässä kohtaa tärkeimmät valikot ovat “Tasot” sekä “Asetukset”, joita tarkastelemme kohta lähemmin.</p>
<p><img src="img/harjoitus_2/image16.png" /></p>
<p>Tarkastellaan ensiksi “Tasot”-välilehteä. Klikkaamalla <strong>tasot</strong>-välilehteä aukeaa uusi valikko, mistä nähdään projektissa muokattavina olevat tasot. <strong>Silmäsymbolia</strong> painamalla saadaan taso näkyviin ja pois näkyvistä. <strong>Asetukset</strong>-välilehdellä voidaan säätää GPS-paikannuksen asetuksia. Ylävalikosta GPS saadaan päälle tai pois päältä. Värisymboli kertoo sen hetkisestä tarkkuudesta, mihin sijoitut kartalla. Voit myös Bluetoothin avulla muodostaa yhteyden ulkoiseen GPS-vastaanottimeen. Valinta kannattaa olla päällä valinnoissa “Käytä uudelleen edellisen arvon…” sekä “Synkronoi muutokset automaattisesti”.</p>
<p><img src="img/harjoitus_2/image17.png" /></p>
</div>
<div id="digitointitila" class="section level2">
<h2><strong>Digitointitila</strong></h2>
<p>Tarkastellaan vielä juuri luodulla projektillamme kuinka piste- ja aluekohteiden digitointi tapahtuu. Emme ole vielä määrittäneet ominaisuustietojen syöttötapaa sen tarkemmin, vaan käytössä on oletusasetukset. Tietojen syöttäminen helpottuu ja tehostuu kuitenkin merkittävästi seuraavan harjoituksen jälkeen. Perehdymme nimittäin siinä tarkemmin QGISin lomakkeiden käyttöön ja automatisointiin Mergin Mapsissa.</p>
<p><img src="img/harjoitus_2/image18.png" /></p>
<p>Paina “Tallenna” -painiketta jonka jälkeen osoitin muuttuu “tähtäimeksi”. Alhaalta voi valita muokattavan tason (projektissamme lintuhavainnot tai luontotyyppi) ja sitten painaa alhaalta “Lisää”. Mikäli aktiivisena on aluetaso, piirrä mieluisa alue, tai pistetasolla syötä uusi piste ja paina sitten “Valmis”. Tämän jälkeen sinulle aukeaa tason attribuuttitaulukko niillä tasoilla, joita aiemmin QGISin puolella loimme. Tässä kohtaa voit antaa “Laji” tai “luontotyyppi” sarakkeelle mieluisan nimen ja painamalla kalenterisymbolia ohjelma syöttää automaattisesti ajan. Voit kokeilla täyttää myös muita sarakkeita manuaalisesti. Huomaat että taulukkomuodolla on väliä - Esim. pinta-ala-sarakkeessa pystyt syöttämään vain numeerisia arvoja. Kun olet valmis paina tallenna, ja uusi alue tai piste ilmestyy kartalle ja synkronoituu automaattisesti pilvipalveluun (jos tämä on aktivoituna asetuksissa).</p>
<p><img src="img/harjoitus_2/image19.png" /></p>
<p>Klikkaamalla tallennettua kohdetta pääset muokkaamaan sitä painamalla <strong>Kynä-</strong>symbolia. Voit muokata taulukon tietoja tai vasemmasta alakulmasta poistaa tason. Klikkaa nyt oikeasta alakulmasta <strong>Päivitä</strong>-painiketta, jolloin lisätyt muutokset tallentuvat pilveen. Mene nyt QGISin puolelle ja <strong>synkronoi</strong> projekti. Nyt tehdyt muutokset pitäisi päivittyä myös QGISin puolelle. Jatkossa voimme pitää molemmat laitteet auki ja synkronoida tasaisin väliajoin, niin näemme, kuinka tieto päivittyy laitteiden välillä.</p>
</div>
<div id="lisätehtävä-tasojen-luominen" class="section level2">
<h2><strong>Lisätehtävä: Tasojen luominen</strong></h2>
<p>Luodaan uusi GeoPackage, johon kerättävät paikkatiedot tullaan lisäämään eri tasoina (ylävalikosta <strong>Tasot &gt; Luo taso &gt; Uusi GeoPackage-taso…</strong>). Valitse <strong>Tietokanta</strong>-kohdasta GeoPackagen tallennuspaikaksi sama kansio jossa itse QGIS-projekti sijaitsee. Tämä onnistuu painamalla <strong>Tietokanta</strong>-kohdan oikealta puolelta (painike, jossa 3 pistettä) ja navigoimalla kyseiseen kansioon. Anna GeoPackage-tiedoston nimeksi <strong>luontoselvitys</strong> ja paina Tallenna/Save. Seuraavan kohdan <strong>Taulun nimeksi</strong> (eli luotavan tason nimeksi) tulee nyt automaattisesti tämä äsken annettu tiedoston nimi. Valitaan tason geometriatyypiksi <strong>Multipolygoni</strong> ja koordinaattijärjestelmäksi <strong>EPSG 3067 - TM35FIN</strong></p>
<p><img src="img/harjoitus_2/image20.png" /></p>
<p>Lisätään vielä <strong>Uusi kenttä</strong> -kohdasta joitakin peruskenttiä tason ominaisuus-taulukkoon. Lisätään ensin <strong>luonto-/kasvillisyystyyppi</strong>-niminen kenttä ja valitaan alasvetovalikosta tyypiksi <strong>teksti</strong> (<strong>Text Data</strong>). Painetaan <strong>Lisää kenttälistaan</strong> -nappia. Lisätään lisäksi <strong>Muut havainnot</strong>-kenttä teksti-tyyppisenä sekä <strong>Pinta-ala</strong> decimal number (real). Muista klikata jokaisen kentän tietojen täytön jälkeen <strong>Lisää kenttälistaan.</strong></p>
<p>Lisätään tämän jälkeen vielä seuraavat datan hallintaan/ <strong>metatietoihin</strong> liittyvät kentät:</p>
<ul>
<li><p><strong>uuid</strong> (tyyppi: teksti)</p></li>
<li><p><strong>luoja</strong> (teksti)</p></li>
<li><p><strong>muokkaaja</strong> (teksti)</p></li>
<li><p><strong>luontiaika</strong> (päivämäärä ja aika)</p></li>
<li><p><strong>muokkausaika</strong> (päivämäärä ja aika)</p></li>
</ul>
<p>Tämän jälkeen klikkaa OK, jolloin taso on luotu ja se ilmestyy QGISin Tasot-selaimen listaukseen.</p>
<p>Lisätään vielä 1 taso samaan GeoPackageen (<strong>Tasot &gt; Luo Taso &gt; Uusi GeoPackage-taso…</strong> ). Navigoidaan nyt <strong>Tietokanta</strong>-kohdasta valiten äsken luotu <strong>Luontoselvitys</strong>-GeoPackage-tietokanta. Muutetaan nyt taulun nimeksi <strong>Lintuhavainnot</strong>, geometriatyypiksi <strong>Monipiste</strong>, koordinaattijärjestelmäksi EPSG:3067 kuten edellä sekä ominaisuustietokentiksi <strong>laji</strong> (teksti), <strong>lisätiedot</strong> (teksti), sekä samat <strong>metatiedot</strong> kuin edellä. Paina sitten OK. Esiin ponnahtaa ikkuna, jossa ilmoitetaan tiedoston jo olevan olemassa ja kysytään mitä sillä halutaan tehdä. Valitse <strong>Lisää uusi taso</strong>, jolloin samaan GeoPackage-tietokantaan lisätään uusi taso (<strong>Huom!</strong> “Korvaa”-vaihtoehto tässä kohtaa kirjoittaa edellä luodun luontoselvitys-tason päälle. Älä valitse sitä!).</p>
<p>Muista tallentaa projektisi!</p>
<p><br />
<br />
</p>

</div>
</div>
<p style="text-align: center;">
<a href="02_Harjoitus_1.html"><button class="btn btn-default">Previous</button></a>
<a href="04_Harjoitus_3.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>

<footer class="footer text-center">

<div class="footer-container text-center">

<div class="footer-info">
<h5 class="footer-title">Paikkatiedon mobiilikeruu Mergin Mapsilla</h5>
<span class="footer-version">v2024-01-18</span>
<div class="license"><img src="img/by-nd.svg" width="80px" alt="CC-BY-ND"></div>
</div>

<div class="footer-info">
<h5 class="footer-title footer-company">Gispo Oy.
<span class="footer-copyright-year">© 2024</span></h5>
<span class="footer-contact-info">Kumpulantie 3, 3 krs
<br>00520 Helsinki, Finland
<br>info@gispo.fi
</span>
</div>

</div>
</div>
</footer>
</div>


<script src="js/nav-script.js"></script>
<script src="js/answer-key.js"></script>

</body>
</html>

<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<link rel="icon" href="/master-training-data/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="/master-training-data/favicon.ico" type="image/x-icon">

<!-- Based on TemplateMo 553 Xtra Blog: https://templatemo.com/tm-553-xtra-blog -->

<meta name="robots" content="noindex, nofollow" />
<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="5 Harjoitus 4: Graafinen mallintaja | Tilastot ja analyysit QGISillä" />
<meta property="og:type" content="book" />





<meta name="author" content="Gispo Oy." />

<meta name="date" content="2023-12-18" />


<meta name="description" content="5 Harjoitus 4: Graafinen mallintaja | Tilastot ja analyysit QGISillä">

<title>5 Harjoitus 4: Graafinen mallintaja | Tilastot ja analyysit QGISillä</title>




<link rel="stylesheet" href="custom.css" type="text/css" />

<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/hamburgers.css" rel="stylesheet">

</head>

<body>


<div class="main-content">
<!-- special comment to mark beginning of title section for bookdown -->
<!-- bookdown comments must be in this order: title, toc, body -->

<div class="main-content-wrapper">

<div class="row">
<div class="col-sm-12">
<header class="main-toc sidebar" id="sidebar">
<div class="sidebar-wrapper">

<button class="navbar-toggle hamburger hamburger--collapse" id="navbar-toggle"
type="button" onclick="navToggle()" aria-label="Toggle navigation">
<span class="hamburger-box"><span class="hamburger-inner"></span></span>
</button>

<div class="sidebar-title-wrapper">
<img alt="Logo" width="100" src="img/gispo_white_sm.png" class="sidebar-logo">
<div class="sidebar-title"><h1>Tilastot ja analyysit QGISillä</h1></div>
<div class="abstract-sidebar"><p>Jatkokurssi QGISin käytöstä.</p></div>
</div>

<nav class="sidebar-nav">
<div id="TOC" class="toc">
<ul>
<li class="has-sub"><a href="index.html#tilastot-ja-analyysit-qgisillä"><span class="toc-section-number">1</span> Tilastot ja analyysit QGISillä</a>
<ul>
<li><a href="index.html#tervetuloa-qgis-jatkokurssille"><span class="toc-section-number">1.1</span> Tervetuloa QGIS-jatkokurssille!</a></li>
<li><a href="index.html#kurssimateriaalien-lataaminen"><span class="toc-section-number">1.2</span> Kurssimateriaalien lataaminen</a></li>
<li><a href="index.html#lukuohje"><span class="toc-section-number">1.3</span> Lukuohje</a></li>
<li><a href="index.html#mistä-lisätietoja"><span class="toc-section-number">1.4</span> Mistä lisätietoja?</a></li>
<li><a href="index.html#virheet"><span class="toc-section-number">1.5</span> Virheet</a></li>
<li><a href="index.html#lisenssi-ja-oikeudet"><span class="toc-section-number">1.6</span> Lisenssi ja oikeudet</a></li>
</ul></li>
<li class="has-sub"><a href="01_harjoitus_1.html#harjoitus-1-qgis-käyttöliittymän-konfigurointi"><span class="toc-section-number">2</span> Harjoitus 1: QGIS-käyttöliittymän konfigurointi</a>
<ul>
<li><a href="01_harjoitus_1.html#valmistautuminen"><span class="toc-section-number">2.1</span> Valmistautuminen</a></li>
<li><a href="01_harjoitus_1.html#käyttöliittymän-räätälöinti"><span class="toc-section-number">2.2</span> Käyttöliittymän räätälöinti</a></li>
<li><a href="01_harjoitus_1.html#muokkauksen-yleisasetukset"><span class="toc-section-number">2.3</span> Muokkauksen yleisasetukset</a></li>
<li><a href="01_harjoitus_1.html#käyttäjäprofiilit"><span class="toc-section-number">2.4</span> Käyttäjäprofiilit</a></li>
<li><a href="01_harjoitus_1.html#pikanäppäimet"><span class="toc-section-number">2.5</span> Pikanäppäimet</a></li>
<li><a href="01_harjoitus_1.html#taustakarttoja-lisäosien-avulla"><span class="toc-section-number">2.6</span> Taustakarttoja lisäosien avulla</a></li>
</ul></li>
<li class="has-sub"><a href="02_harjoitus_2.html#harjoitus-2-taulukosta-kartalle"><span class="toc-section-number">3</span> Harjoitus 2: Taulukosta kartalle</a>
<ul>
<li><a href="02_harjoitus_2.html#valmistautuminen-1"><span class="toc-section-number">3.1</span> Valmistautuminen</a></li>
<li><a href="02_harjoitus_2.html#pisteet-tekstitiedostosta-kartalle"><span class="toc-section-number">3.2</span> Pisteet tekstitiedostosta kartalle</a></li>
<li><a href="02_harjoitus_2.html#ilman-geometriaa-olevan-taulukon-tuominen"><span class="toc-section-number">3.3</span> Ilman geometriaa olevan taulukon tuominen</a></li>
<li><a href="02_harjoitus_2.html#taulukon-kenttien-tyypin-muokkaaminen"><span class="toc-section-number">3.4</span> Taulukon kenttien tyypin muokkaaminen</a></li>
<li><a href="02_harjoitus_2.html#taulukkotiedon-liittäminen-geometriaan"><span class="toc-section-number">3.5</span> Taulukkotiedon liittäminen geometriaan</a></li>
</ul></li>
<li class="has-sub"><a href="03_harjoitus_3.html#harjoitus-3-vektorianalyysi"><span class="toc-section-number">4</span> Harjoitus 3: Vektorianalyysi</a>
<ul>
<li><a href="03_harjoitus_3.html#valmistautuminen-2"><span class="toc-section-number">4.1</span> Valmistautuminen</a></li>
<li><a href="03_harjoitus_3.html#vektorianalyysi"><span class="toc-section-number">4.2</span> Vektorianalyysi</a></li>
<li><a href="03_harjoitus_3.html#tilastot"><span class="toc-section-number">4.3</span> Tilastot</a></li>
<li><a href="03_harjoitus_3.html#valinta-toisen-tason-sijainnin-perusteella"><span class="toc-section-number">4.4</span> Valinta toisen tason sijainnin perusteella</a></li>
<li><a href="03_harjoitus_3.html#dataplotly-lisäosa"><span class="toc-section-number">4.5</span> DataPlotly-lisäosa</a></li>
<li><a href="03_harjoitus_3.html#kohteiden-etäisyys-toisen-tason-pisteistä"><span class="toc-section-number">4.6</span> Kohteiden etäisyys toisen tason pisteistä</a></li>
<li><a href="03_harjoitus_3.html#pisteiden-lukumäärä"><span class="toc-section-number">4.7</span> Pisteiden lukumäärä</a></li>
<li><a href="03_harjoitus_3.html#aggregointi-ja-sulautus"><span class="toc-section-number">4.8</span> Aggregointi ja sulautus</a></li>
<li><a href="03_harjoitus_3.html#uusien-kenttien-laskeminen"><span class="toc-section-number">4.9</span> Uusien kenttien laskeminen</a></li>
<li><a href="03_harjoitus_3.html#päivittyvät-arvot"><span class="toc-section-number">4.10</span> Päivittyvät arvot</a></li>
<li><a href="03_harjoitus_3.html#etsi-omia-analyysityökaluja"><span class="toc-section-number">4.11</span> Etsi omia analyysityökaluja</a></li>
</ul></li>
<li class="has-sub"><a href="04_harjoitus_4.html#harjoitus-4-graafinen-mallintaja"><span class="toc-section-number">5</span> Harjoitus 4: Graafinen mallintaja</a>
<ul>
<li><a href="04_harjoitus_4.html#valmistautuminen-3"><span class="toc-section-number">5.1</span> Valmistautuminen</a></li>
<li><a href="04_harjoitus_4.html#graafisen-mallintajan-toiminnot"><span class="toc-section-number">5.2</span> Graafisen mallintajan toiminnot</a></li>
<li><a href="04_harjoitus_4.html#prosessin-laatiminen-ja-testaus"><span class="toc-section-number">5.3</span> Prosessin laatiminen ja testaus</a></li>
<li><a href="04_harjoitus_4.html#tallennetun-prosessin-käyttöönotto"><span class="toc-section-number">5.4</span> Tallennetun prosessin käyttöönotto</a></li>
</ul></li>
<li class="has-sub"><a href="05_harjoitus_5.html#harjoitus-5-python-konsoli"><span class="toc-section-number">6</span> Harjoitus 5: Python-konsoli</a>
<ul>
<li><a href="05_harjoitus_5.html#valmistautuminen-4"><span class="toc-section-number">6.1</span> Valmistautuminen</a></li>
<li><a href="05_harjoitus_5.html#python-konsolin-perusteet"><span class="toc-section-number">6.2</span> Python-konsolin perusteet</a></li>
<li><a href="05_harjoitus_5.html#python-skriptien-ajaminen-globe-builder--lisäosan-komentojen-hyödyntäminen"><span class="toc-section-number">6.3</span> Python-skriptien ajaminen: Globe Builder -lisäosan komentojen hyödyntäminen</a></li>
<li><a href="05_harjoitus_5.html#tee-bufferi-hyödyntäen-python-skriptiä"><span class="toc-section-number">6.4</span> Tee bufferi hyödyntäen Python-skriptiä</a></li>
</ul></li>
</ul>
</div>
</nav>
</div>
</header>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="harjoitus-4-graafinen-mallintaja" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Harjoitus 4: Graafinen mallintaja</h1>
<p><strong>Harjoituksen sisältö</strong></p>
<p>Harjoituksessa tutustutaan graafiseen mallintajaan. Mallintajalla laaditaan prosessi ja se tallennetaan myöhempää käyttöä varten.</p>
<p><strong>Harjoituksen tavoite</strong></p>
<p>Koulutettava oppii laatimaan monivaiheisen analyysiprosessin graafisen mallintajan avulla ja oppii käyttämään aiemmin ladattuja prosessimalleja.</p>
<p><strong>Arvioitu kesto</strong></p>
<p>30 minuuttia.</p>
<div id="valmistautuminen-3" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Valmistautuminen</h2>
<p>Avaa uusi QGIS-projekti (<strong>Projekti &gt; Uusi</strong>) ja tallenna se nimellä “<strong>QGIS-harjoitus 4</strong>”. Avaa projektiisi kurssihakemistosta aineistot </p>
<ul>
<li><p><strong>HallintoAlue.shp</strong></p></li>
<li><p><strong>SuojeluAlue.shp</strong></p></li>
</ul>
</div>
<div id="graafisen-mallintajan-toiminnot" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Graafisen mallintajan toiminnot</h2>
<p>Graafisella mallintajalla voit automatisoida ja tallentaa usein toistuvia, monivaiheisia analyysiprosesseja. Prosessin voi jakaa muille käyttäjille, ja sitä käytettäessä valitaan lähtöaineistot aina uudelleen. Prosessinmallintaja avataan yläpalkin valikosta <strong>Prosessointi &gt; Graafinen mallintaja…</strong> </p>
<p><img src="img/harjoitus_4/image1.png" /></p>
<p>Aukeavassa ikkunassa on vasemman reunan paneelissa kaksi välilehteä: <strong>Inputs</strong> ja <strong>Algoritmit</strong>. Näistä valitaan prosessin lähtötiedot ja työkalut, ja ne viedään kaaviomaisen esityksen laatikoiksi ikkunaan raahaamalla tai tuplaklikkaamalla.</p>
<p><img src="img/harjoitus_4/image2.png" /></p>
</div>
<div id="prosessin-laatiminen-ja-testaus" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> Prosessin laatiminen ja testaus</h2>
<p>Anna ensimmäiseksi prosessillesi nimi, esimerkiksi “Suojelualueet kunnissa”. Valitse <strong>Inputs-välilehdeltä Vektoritaso</strong> ja anna sille nimeksi <strong>Kunnat</strong>. Aseta tason geometriatyypiksi <strong>Monikulmio</strong> ja ruksi <strong>Pakollinen</strong>. Lisää toinenkin vektoritaso, anna sille nimeksi <strong>Suojelualueet</strong>,  geometriatyypiksi <strong>Monikulmio</strong> ja ruksi <strong>Pakollinen</strong>.</p>
<p><img src="img/harjoitus_4/image3.png" /></p>
<p>Siirry nyt <strong>Algoritmit-välilehdelle</strong>. Etsi työkalu <strong>Painopisteet</strong>, lisää se malliin ja anna sille syötetasoksi <strong>Suojelualueet</strong>. Huomaa, että voit siirrellä <strong>Input-</strong> ja <strong>Algoritmilaatikoita</strong> ja järjestää ne siistiksi prosessiksi.</p>
<p><img src="img/harjoitus_4/image4.png" /></p>
<p>Lisää seuraava työkalu: etsi algoritmi <strong>Laske polygonin sisällä olevien pisteiden lkm</strong> ja anna sille lähtötasoiksi <strong>Kunnat</strong> (alueet) sekä äsken laskettu <strong>Painopisteet</strong>. Anna lisäksi tulostason nimi.</p>
<p><img src="img/harjoitus_4/image5.png" /></p>
<p>Nyt mallisi määrittää suojelualueiden painopisteet, laskee kuinka monta pistettä kunkin kunnan sisällä on, ja luo uuden aluemaisen tulostason kunnista, joka sisältää tiedon suojelualueiden lukumäärästä.  </p>
<p>Testaa malliasi klikkaamalla <strong>Suorita malli -painiketta</strong> <img src="img/harjoitus_4/image6.png" />. Käynnistyvä prosessi kysyy lähtöaineistoja: valitse Kunnat-tasoksi <strong>HallintoAlue</strong> ja Suojelualueet-tasoksi <strong>SuojeluAlue</strong>. Nämä ovat valmiiksi avattuina projektissasi. Kun klikkaat <strong>Suorita</strong>, laatimasi prosessi käynnistyy ja tulostiedosto ilmestyy tasoluetteloon. Tallenna toimiva prosessi <img src="img/harjoitus_4/image7.png" />-painikkeella graafisen mallintajan ikkunassa. Tallenna myös QGIS-projektisi.</p>
</div>
<div id="tallennetun-prosessin-käyttöönotto" class="section level2" number="5.4">
<h2><span class="header-section-number">5.4</span> Tallennetun prosessin käyttöönotto</h2>
<p>Avaa uusi, tyhjä QGIS-projekti. Löydät laatimasi prosessin <strong>Prosessointityökalut-paneelista</strong> omalta välilehdeltään.</p>
<p><img src="img/harjoitus_4/image8.png" /></p>
<p>Avaa äsken luomasi malli ja käynnistä se <img src="img/harjoitus_4/image9.png" />-painikkeella. Valitse nyt lähtöaineistot <img src="img/harjoitus_4/image10.png" />-kohdasta, koska projektissa ei ole mitään tasoja avoinna. Valitse kunnat-aineistoksi tällä kertaa kurssihakemistosta <strong>Kunta1000k_2017.shp</strong> ja suojelualueet-aineistoksi <strong>NaturaKohde_ma.shp</strong>. Klikkaa <strong>Suorita</strong>.<img src="img/harjoitus_4/image11.png" /></p>
<p>Onnistunut prosessi luo uuden tulostason, jossa kuntageometrioilla on lisätietona kunnan sisällä olevien Natura-alueiden lukumäärä. Lähtötietona olleet aineistot eivät avaudu QGISiin lainkaan. </p>
<p>Tätä prosessia voi siis käyttää minkä tahansa aluemaisten kohteiden painopisteiden laskurina toisten alueiden sisällä. Annoimme tässä harjoituksessa lähtötiedoille melko yksiselitteiset nimet, mutta ne voi myös nimetä yleisemminkin, esim. “rajaavat alueet” ja “sisältyvät alueet”.</p>
<p>Kun olet valmis, tallenna projektitiedosto kurssihakemistoon pikanäppäimellä <strong>CTRL + T</strong> tai päävalikosta <strong>Projekti &gt; Tallenna</strong>.</p>
<div class="hint-box">
<p>Psst! Koulutuksen jälkeen saat henkilökohtaista tukea Gispon tukipalvelusta. Lähetä kysymyksesi tai kommenttisi osoitteeseen tuki@gispo.fi!</p>
</div>

</div>
</div>
<p style="text-align: center;">
<a href="03_harjoitus_3.html"><button class="btn btn-default">Previous</button></a>
<a href="05_harjoitus_5.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>

<footer class="footer text-center">

<div class="footer-container text-center">

<div class="footer-info">
<h5 class="footer-title">Tilastot ja analyysit QGISillä</h5>
<span class="footer-version">v2023-12-18</span>
<div class="license"><img src="img/by-nd.svg" width="80px" alt="CC-BY-ND"></div>
</div>

<div class="footer-info">
<h5 class="footer-title footer-company">Gispo Oy.
<span class="footer-copyright-year">© 2023</span></h5>
<span class="footer-contact-info">Kumpulantie 3, 3 krs
<br>00520 Helsinki, Finland
<br>info@gispo.fi
</span>
</div>

</div>
</div>
</footer>
</div>


<script src="js/nav-script.js"></script>
<script src="js/answer-key.js"></script>

</body>
</html>

<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<link rel="icon" href="/master-training-data/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="/master-training-data/favicon.ico" type="image/x-icon">

<!-- Based on TemplateMo 553 Xtra Blog: https://templatemo.com/tm-553-xtra-blog -->

<meta name="robots" content="noindex, nofollow" />
<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="4 Harjoitus 3: Lomakkeet | Paikkatiedon mobiilikeruu QFieldissä" />
<meta property="og:type" content="book" />





<meta name="author" content="Gispo Oy" />

<meta name="date" content="2023-12-18" />


<meta name="description" content="4 Harjoitus 3: Lomakkeet | Paikkatiedon mobiilikeruu QFieldissä">

<title>4 Harjoitus 3: Lomakkeet | Paikkatiedon mobiilikeruu QFieldissä</title>




<link rel="stylesheet" href="custom.css" type="text/css" />

<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/hamburgers.css" rel="stylesheet">

</head>

<body>


<div class="main-content">
<!-- special comment to mark beginning of title section for bookdown -->
<!-- bookdown comments must be in this order: title, toc, body -->

<div class="main-content-wrapper">

<div class="row">
<div class="col-sm-12">
<header class="main-toc sidebar" id="sidebar">
<div class="sidebar-wrapper">

<button class="navbar-toggle hamburger hamburger--collapse" id="navbar-toggle"
type="button" onclick="navToggle()" aria-label="Toggle navigation">
<span class="hamburger-box"><span class="hamburger-inner"></span></span>
</button>

<div class="sidebar-title-wrapper">
<img alt="Logo" width="100" src="img/gispo_white_sm.png" class="sidebar-logo">
<div class="sidebar-title"><h1>Paikkatiedon mobiilikeruu QFieldissä</h1></div>
<div class="abstract-sidebar"><p>Peruskurssi QField-mobiilisovelluksen ja QGISin QField-lisäosan käytöstä.</p></div>
</div>

<nav class="sidebar-nav">
<div id="TOC" class="toc">
<ul>
<li class="has-sub"><a href="index.html#paikkatiedon-mobiilikeruu-qfieldillä"><span class="toc-section-number">1</span> Paikkatiedon mobiilikeruu QFieldillä</a>
<ul>
<li><a href="index.html#tervetuloa-qfield-peruskurssille"><span class="toc-section-number">1.1</span> Tervetuloa QField-peruskurssille!</a></li>
<li><a href="index.html#qfieldin-taustaa"><span class="toc-section-number">1.2</span> QFieldin taustaa</a></li>
<li><a href="index.html#miksi-qfield"><span class="toc-section-number">1.3</span> Miksi QField?</a></li>
<li><a href="index.html#lukuohje"><span class="toc-section-number">1.4</span> Lukuohje</a></li>
<li><a href="index.html#mistä-lisätietoja"><span class="toc-section-number">1.5</span> Mistä lisätietoja?</a></li>
<li><a href="index.html#virheet"><span class="toc-section-number">1.6</span> Virheet</a></li>
<li><a href="index.html#lisenssi-ja-oikeudet"><span class="toc-section-number">1.7</span> Lisenssi ja oikeudet</a></li>
</ul></li>
<li class="has-sub"><a href="01_harjoitus_1.html#harjoitus-1-asennus-ja-käyttöönotto"><span class="toc-section-number">2</span> Harjoitus 1: Asennus ja käyttöönotto</a>
<ul>
<li><a href="01_harjoitus_1.html#harjoituksen-sisältö"><span class="toc-section-number">2.0.1</span> Harjoituksen sisältö</a></li>
<li><a href="01_harjoitus_1.html#harjoituksen-tavoite"><span class="toc-section-number">2.0.2</span> Harjoituksen tavoite</a></li>
<li><a href="01_harjoitus_1.html#arvioitu-kesto"><span class="toc-section-number">2.0.3</span> Arvioitu kesto</a></li>
<li><a href="01_harjoitus_1.html#valmistautuminen"><span class="toc-section-number">2.1</span> Valmistautuminen</a></li>
<li><a href="01_harjoitus_1.html#sovelluksen-asentaminen-google-play--kaupasta"><span class="toc-section-number">2.2</span> Sovelluksen asentaminen Google Play -kaupasta</a></li>
<li><a href="01_harjoitus_1.html#sovelluksen-avaaminen-ja-käyttöliittymä"><span class="toc-section-number">2.3</span> Sovelluksen avaaminen ja käyttöliittymä</a></li>
<li><a href="01_harjoitus_1.html#qfieldin-käyttöliittymä"><span class="toc-section-number">2.4</span> QFieldin käyttöliittymä</a></li>
<li><a href="01_harjoitus_1.html#selailutila"><span class="toc-section-number">2.5</span> Selailutila</a></li>
</ul></li>
<li class="has-sub"><a href="02_harjoitus_2.html#harjoitus-2-qgis-projektin-valmistelu-synkronointi-ja-digitointi"><span class="toc-section-number">3</span> Harjoitus 2: QGIS-projektin valmistelu, synkronointi ja digitointi</a>
<ul>
<li><a href="02_harjoitus_2.html#harjoituksen-sisältö-1"><span class="toc-section-number">3.0.1</span> Harjoituksen sisältö</a></li>
<li><a href="02_harjoitus_2.html#harjoituksen-tavoite-1"><span class="toc-section-number">3.0.2</span> Harjoituksen tavoite</a></li>
<li><a href="02_harjoitus_2.html#arvioitu-kesto-1"><span class="toc-section-number">3.0.3</span> Arvioitu kesto</a></li>
<li><a href="02_harjoitus_2.html#valmistautuminen-1"><span class="toc-section-number">3.1</span> Valmistautuminen</a></li>
<li><a href="02_harjoitus_2.html#qgis-projektitiedoston-valmistelu-ja-perusasetukset"><span class="toc-section-number">3.2</span> QGIS-projektitiedoston valmistelu ja perusasetukset</a></li>
<li><a href="02_harjoitus_2.html#taustakarttojen-lisäys"><span class="toc-section-number">3.3</span> Taustakarttojen lisäys</a></li>
<li><a href="02_harjoitus_2.html#tasojen-luonti"><span class="toc-section-number">3.4</span> Tasojen luonti</a></li>
<li><a href="02_harjoitus_2.html#qfield-sync--lisäosan-asentaminen-ja-käyttö"><span class="toc-section-number">3.5</span> QField Sync -lisäosan asentaminen ja käyttö</a></li>
<li><a href="02_harjoitus_2.html#qgis-projektin-siirto-mobiililaitteeseen"><span class="toc-section-number">3.6</span> QGIS-projektin siirto mobiililaitteeseen</a></li>
<li><a href="02_harjoitus_2.html#projektin-avaaminen-qfieldissä"><span class="toc-section-number">3.7</span> Projektin avaaminen QFieldissä</a></li>
<li><a href="02_harjoitus_2.html#digitointitila"><span class="toc-section-number">3.8</span> Digitointitila</a></li>
</ul></li>
<li class="has-sub"><a href="03_harjoitus_3.html#harjoitus-3-lomakkeet"><span class="toc-section-number">4</span> Harjoitus 3: Lomakkeet</a>
<ul>
<li><a href="03_harjoitus_3.html#harjoituksen-sisältö-2"><span class="toc-section-number">4.0.1</span> Harjoituksen sisältö</a></li>
<li><a href="03_harjoitus_3.html#harjoituksen-tavoite-2"><span class="toc-section-number">4.0.2</span> Harjoituksen tavoite</a></li>
<li><a href="03_harjoitus_3.html#arvioitu-kesto-2"><span class="toc-section-number">4.0.3</span> Arvioitu kesto</a></li>
<li><a href="03_harjoitus_3.html#valmistautuminen-2"><span class="toc-section-number">4.1</span> Valmistautuminen</a></li>
<li><a href="03_harjoitus_3.html#taustatietoja"><span class="toc-section-number">4.2</span> Taustatietoja</a></li>
<li><a href="03_harjoitus_3.html#ominaisuustietolomakkeen-muokkaus"><span class="toc-section-number">4.3</span> Ominaisuustietolomakkeen muokkaus</a></li>
<li><a href="03_harjoitus_3.html#ympärysmitta--ja-korkeus--tietokentät"><span class="toc-section-number">4.4</span> Ympärysmitta- ja korkeus -tietokentät</a></li>
<li><a href="03_harjoitus_3.html#huomiot-tietokenttä"><span class="toc-section-number">4.5</span> Huomiot-tietokenttä</a></li>
<li><a href="03_harjoitus_3.html#valokuva"><span class="toc-section-number">4.6</span> Valokuva</a></li>
<li><a href="03_harjoitus_3.html#luoja--ja-muokkaaja--tietokenttien-automatisointi"><span class="toc-section-number">4.7</span> Luoja- ja muokkaaja -tietokenttien automatisointi</a></li>
<li><a href="03_harjoitus_3.html#luonti--ja-muokkausaika--tietokentät"><span class="toc-section-number">4.8</span> Luonti- ja muokkausaika -tietokentät</a></li>
<li><a href="03_harjoitus_3.html#kohteen-uuid-kenttä"><span class="toc-section-number">4.9</span> Kohteen uuid-kenttä</a></li>
<li><a href="03_harjoitus_3.html#lomakkeen-välilehdet"><span class="toc-section-number">4.10</span> Lomakkeen välilehdet</a></li>
<li><a href="03_harjoitus_3.html#näyttö-ja-kohdelistaus"><span class="toc-section-number">4.11</span> Näyttö ja kohdelistaus</a></li>
<li><a href="03_harjoitus_3.html#tarttumisen-asetukset"><span class="toc-section-number">4.12</span> Tarttumisen asetukset</a></li>
<li><a href="03_harjoitus_3.html#lomakkeet-qfieldissä"><span class="toc-section-number">4.13</span> Lomakkeet QFieldissä</a></li>
</ul></li>
<li class="has-sub"><a href="04_harjoitus_4.html#harjoitus-4-relaatioiden-käyttö"><span class="toc-section-number">5</span> Harjoitus 4: Relaatioiden käyttö</a>
<ul>
<li><a href="04_harjoitus_4.html#harjoituksen-sisältö-3"><span class="toc-section-number">5.0.1</span> Harjoituksen sisältö</a></li>
<li><a href="04_harjoitus_4.html#harjoituksen-tavoite-3"><span class="toc-section-number">5.0.2</span> Harjoituksen tavoite</a></li>
<li><a href="04_harjoitus_4.html#arvioitu-kesto-3"><span class="toc-section-number">5.0.3</span> Arvioitu kesto</a></li>
<li><a href="04_harjoitus_4.html#valmistautuminen-3"><span class="toc-section-number">5.1</span> Valmistautuminen</a></li>
<li><a href="04_harjoitus_4.html#kasvualusta-taso"><span class="toc-section-number">5.2</span> Kasvualusta-taso</a></li>
<li><a href="04_harjoitus_4.html#relaatioiden-luonti"><span class="toc-section-number">5.3</span> Relaatioiden luonti</a></li>
<li><a href="04_harjoitus_4.html#lomakkeen-asetusten-määrittäminen"><span class="toc-section-number">5.4</span> Lomakkeen asetusten määrittäminen</a></li>
<li><a href="04_harjoitus_4.html#lapsikohteiden-luominen-qfieldissä"><span class="toc-section-number">5.5</span> Lapsikohteiden luominen QFieldissä</a></li>
</ul></li>
<li class="has-sub"><a href="05_harjoitus_5.html#harjoitus-5-qfieldin-lisäominaisuudet"><span class="toc-section-number">6</span> Harjoitus 5: QFieldin lisäominaisuudet</a>
<ul>
<li><a href="05_harjoitus_5.html#harjoituksen-sisältö-4"><span class="toc-section-number">6.0.1</span> Harjoituksen sisältö</a></li>
<li><a href="05_harjoitus_5.html#harjoituksen-tavoite-4"><span class="toc-section-number">6.0.2</span> Harjoituksen tavoite</a></li>
<li><a href="05_harjoitus_5.html#arvioitu-kesto-4"><span class="toc-section-number">6.0.3</span> Arvioitu kesto</a></li>
<li><a href="05_harjoitus_5.html#valmistautuminen-4"><span class="toc-section-number">6.1</span> Valmistautuminen</a></li>
<li><a href="05_harjoitus_5.html#haku-toiminnot"><span class="toc-section-number">6.2</span> Haku-toiminnot</a></li>
<li><a href="05_harjoitus_5.html#laitteen-paikannuksen-käyttäminen"><span class="toc-section-number">6.3</span> Laitteen paikannuksen käyttäminen</a></li>
<li><a href="05_harjoitus_5.html#tracking--eli-jäljitys-toiminto"><span class="toc-section-number">6.4</span> Tracking- eli jäljitys-toiminto</a></li>
<li><a href="05_harjoitus_5.html#edistyneemmät-digitointityökalut"><span class="toc-section-number">6.5</span> Edistyneemmät digitointityökalut</a></li>
<li><a href="05_harjoitus_5.html#tarttuminen-sekä-topologinen-editointi"><span class="toc-section-number">6.6</span> Tarttuminen sekä topologinen editointi</a></li>
<li><a href="05_harjoitus_5.html#taitepiste--ja-halkaisutyökalut"><span class="toc-section-number">6.7</span> Taitepiste- ja halkaisutyökalut</a></li>
</ul></li>
<li class="has-sub"><a href="06_harjoitus_6.html#harjoitus-6-kenttätyöt-ja-tietojen-yhdistäminen"><span class="toc-section-number">7</span> Harjoitus 6: Kenttätyöt ja tietojen yhdistäminen</a>
<ul>
<li><a href="06_harjoitus_6.html#harjoituksen-sisältö-5"><span class="toc-section-number">7.0.1</span> Harjoituksen sisältö</a></li>
<li><a href="06_harjoitus_6.html#harjoituksen-tavoite-5"><span class="toc-section-number">7.0.2</span> Harjoituksen tavoite</a></li>
<li><a href="06_harjoitus_6.html#arvioitu-kesto-5"><span class="toc-section-number">7.0.3</span> Arvioitu kesto</a></li>
<li><a href="06_harjoitus_6.html#valmistautuminen-5"><span class="toc-section-number">7.1</span> Valmistautuminen</a></li>
<li><a href="06_harjoitus_6.html#lyhyt-ohjeistus-kenttätöihin"><span class="toc-section-number">7.2</span> Lyhyt ohjeistus kenttätöihin</a></li>
<li><a href="06_harjoitus_6.html#tietojen-synkronoiminen-takaisin-tietokoneelle"><span class="toc-section-number">7.3</span> Tietojen synkronoiminen takaisin tietokoneelle</a></li>
</ul></li>
</ul>
</div>
</nav>
</div>
</header>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="harjoitus-3-lomakkeet" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Harjoitus 3: Lomakkeet</h1>
<div id="harjoituksen-sisältö-2" class="section level3" number="4.0.1">
<h3><span class="header-section-number">4.0.1</span> Harjoituksen sisältö</h3>
<p>Tässä harjoituksessa muokataan projektissa olevien tasojen tietojen syötön lomakkeita digitoinnin helpottamiseen ja tehostamiseen.</p>
</div>
<div id="harjoituksen-tavoite-2" class="section level3" number="4.0.2">
<h3><span class="header-section-number">4.0.2</span> Harjoituksen tavoite</h3>
<p>Koulutettava oppii muokkaamaan tiedon syöttötapoja QGISin widgettejä käyttäen, sekä osaa tunnistaa mobiilitiedonkeruussa ja etenkin QFieldissä tähän liittyvät erityispiirteet. |</p>
</div>
<div id="arvioitu-kesto-2" class="section level3" number="4.0.3">
<h3><span class="header-section-number">4.0.3</span> Arvioitu kesto</h3>
<p>45 min.</p>
</div>
<div id="valmistautuminen-2" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Valmistautuminen</h2>
<p>Avaa QGIS tietokoneellasi ja avaa siellä aiemmin luomasi QGIS-projekti (<strong>Projekti &gt; Avaa</strong>), siirry oikeaan kansioon, valitse projektitiedosto (<strong>“QField-kurssiprojekti”)</strong> ja paina <strong>Avaa</strong>.</p>
</div>
<div id="taustatietoja" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Taustatietoja</h2>
<p>Tässä harjoituksessa muokataan projektissa olevien tasojen tietojen syötön lomakkeita digitoinnin helpottamiseen ja tehostamiseen. QGISissa on erityyppisille tiedoille ja niiden syöttötavoille valittavissa monenlaisia vimpaimia (widgets). Näitä kaikkia ei kuitenkaan ole vielä tuettuna QFieldissa, joten niitä ei voi siinä siis käyttää. Tuettujen widget-tyyppien ajantasaisen listan näet dokumentaatiosta: <a href="https://qfield.org/docs/prepare/attributes-form.html" class="uri">https://qfield.org/docs/prepare/attributes-form.html</a></p>
</div>
<div id="ominaisuustietolomakkeen-muokkaus" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Ominaisuustietolomakkeen muokkaus</h2>
<p>Avaa QGISissa <strong>Puut</strong>-tason ominaisuudet klikkaamalla hiiren oikealla napilla <strong>Tasot</strong>-paneelista tason kohdalta. Valitse <strong>Ominaisuudet…</strong> ja mene <strong>Attribuuttilomake</strong>-välilehdelle. Valitse välilehdellä ylhäällä olevasta pudotusvalikosta <strong>Drag and Drop Designer</strong> -tila (suom. Raahaa ja pudota -muokkain) automaattisen sijaan. Tässä lomakkeeseen sisällytettävät kentät on välilehden keskimmäisessä, <strong>Lomakenäkymä</strong>-nimisessä (ent. taitosta) sarakkeessa. Tähän voidaan lisätä objekteja vasemmanpuolimmaisesta sarakkeesta keskimmäiseen raahaamalla. Samoin tarpeettomia vimpaimia ja kenttiä voi poistaa lomakkeen taitosta klikkaamalla kyseistä objektia ja poistamalla se punaisesta miinus-nappulasta (kts. kuva). Drag and Drop Designer -näkymässä voidaan myös ryhmitellä lomakkeen kenttiä esimerkiksi eri välilehtiin ja nämä ryhmitykset toimivat myös QFieldin käyttöliittymässä.</p>
<p>Pidetään nyt kuitenkin kaikki kentät samassa välilehdessä. Poistetaan sen sijaan lomakenäkymästä kentät <strong>fid</strong> sekä <strong>uuid</strong>, joita ei lomakkeessa haluta manuaalisesti lisätä. <strong>Lomakenäkymä</strong> -sarakkeessa voi myös muuttaa lomakkeen kenttien järjestystä raahaamalla. Muokkaa nyt kenttien järjestys alla olevan kuvan <strong>Taitosta</strong>-osion  mukaiseksi.</p>
<p><img src="img/harjoitus_3/image1.png" />
## Laji-tietokenttä</p>
<p>Ruvetaan nyt muokkaamaan tietojen syöttötapoja. Klikkaa keskimmäisessä Lomakenäkymä -sarakkeessa <strong>laji</strong>-kenttää. Valitse oikeaan sarakkeeseen aukeavasta Widgetin tyyppi -pudotusvalikosta <strong>Arvoluettelo</strong> Tekstin muokkaus -tyypin sijasta. Tällä tavoin puulajitieto lisätään digitoidessa valitsemalla luettelosta jossa on tiettyjä arvoja. Tällöin myös esimerkiksi kirjoitusasu säilyy yhdenmukaisena ja aineiston myöhempi analyysi todennäköisesti myös helpottuu.  Lisää nyt taulukkoon kohtaan <strong>Arvo</strong> puulajien nimiä, ainakin Suomen yleisimmät puulajit: mänty, kuusi ja koivu. Lisää yksi laji per rivi. Halutessasi voit jatkaa listaa seuraavaksi yleisimmillä lajeilla: haapa, harmaaleppä, kataja, lehtikuuset, pihlaja, raita, tammi sekä tervaleppä, jos arvelet niitä tarvitsevasi. Aseta tämän jälkeen vielä <strong>Ehdot</strong>-osioon alle ruksi valintalaatikkoon <strong>Ei tyhjä (null)</strong>, jolloin ainakin tämä tieto on aina täytettävä.</p>
<p><img src="img/harjoitus_3/image2.png" /><br />
</p>
</div>
<div id="ympärysmitta--ja-korkeus--tietokentät" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Ympärysmitta- ja korkeus -tietokentät</h2>
<p>Klikkaa nyt ympärysmitta-kenttää Taitosta-sarakkeessa. Sekä tämän että korkeus-kentän  sisältö on numeerista, eli on luontevinta valita widgetin tyypiksi <strong>rajat</strong>. Tehdäänkin näin, mutta muistetaan samalla että tämä tyyppi ei ole tällä hetkellä tuettuna QFieldissä ja sen lomakenäkymässä nämä tiedot joudutaankin syöttämään tekstisyöttönä. Ei-tuettujen widgettien tapauksessa se siis jättää sen huomiotta ja käyttää oletus-syöttötapaa (QField tunnistaa kyllä tässäkin kentän tyypin ja varmistaa että tähän pystyy lisäämään ainoastaan numeroita avaamalla numeronäppäimistön). </p>
<p><img src="img/harjoitus_3/image3.png" /></p>
</div>
<div id="huomiot-tietokenttä" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Huomiot-tietokenttä</h2>
<p>Tähän olisi tarkoitus lisätä vapaamuotoisia lisähuomioita, joten tämän voi pitää oletusasetuksilla <strong>Tekstin muokkaus</strong> -tyyppisenä. Valitaan tähän alle lisäksi <strong>Monirivi</strong> (Multiline), jolloin pidemmätkin huomiot voi lisätä kätevästi. Koska huomioita ei toisaalta välttämättä ole, jätetään <strong>Ei tyhjä</strong> -ehto valitsematta.</p>
</div>
<div id="valokuva" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> Valokuva</h2>
<p>Mobiililaitteella otettujen valokuvien lisäys tapahtuu QFieldillä liitteenä, joten valise widgetiksi <strong>Liite</strong> ja sen asetuksista <strong>Suhteelliset polut</strong>.</p>
<div class="hintbox">
<p>Pidä mielessä, että QField tallentaa tasolle kohteen tietoihin valokuvista (ja muista liitteistä) ainoastaan tiedostopolun, ei itse valokuvaa. Valokuvat tallentuvat mobiililaitteen kansioon. Tarkastellaan tätä lisää myöhemmin, kun synkronoidaan kerättyjä tietoja takaisin QGIS-projektiin. Tällöin valokuvat sisältävä kansio on siirrettävä erikseen tietokoneelle, projektitiedoston suhteen samaan paikkaan kuin mobiililaitteella.</p>
</div>
</div>
<div id="luoja--ja-muokkaaja--tietokenttien-automatisointi" class="section level2" number="4.7">
<h2><span class="header-section-number">4.7</span> Luoja- ja muokkaaja -tietokenttien automatisointi</h2>
<p>Luoja- ja muokkaaja-kentät ovat teksti-muotoisia kenttiä, jotka sisältävät tiedon muokkauksen tekijästä. Pidä siis widgettinä <strong>Tekstin muokkaus</strong>. Koska muokkaaja tietyllä laitteella on yleensä yksi ja sama henkilö, tätä ei haluta joka kerta lisätä manuaalisesti, vaan automaatio on suotavaa, ja se voidaan saavuttaa <strong>Oletusarvot</strong>-kohdan avulla. Olemme aiemmin määritelleet QFieldin asetuksissa käyttäjän oman muuttujan <strong>username</strong>. Tällaiseen muuttujan arvoon voi QGISissa viitata <strong>@</strong>-merkillä. Kirjoita siis tähän Oletusarvo-kohtaan Luonti- ja muokkauskentille kummallekin erikseen <strong>@username_full_name</strong>, jolloin QField osaa lisätä kohteelle käyttäjänimen.</p>
<p>Luonti ja muokkaus eroavat toisistaan siinä, että kohde luodaan vain kerran, kun taas sitä voidaan muokata moneen kertaan. <strong>Muokkaaja</strong>-tietokentälle pitääkin varmistaa, että tässä on <strong>Yleistä</strong>-kohdassa valittuna <strong>Muokattava</strong> ja <strong>Oletusarvo</strong>-kohdassa <strong>Käytä oletusarvoa päivityksessä</strong>. Vastaavasti <strong>Luoja</strong>-tietokentässä nämä kaksi kohtaa eivät saa olla valittuna, jotta tietojen syöttö toimisi kuten haluamme! Sen sijaan kohteella tulee aina olla luoja, joten laitetaan sille vielä <strong>Ehdot</strong>-kohdassa ehdot <strong>Ei tyhjä (null)</strong> ja <strong>EI NULL -ehto on pakottava</strong>.</p>
</div>
<div id="luonti--ja-muokkausaika--tietokentät" class="section level2" number="4.8">
<h2><span class="header-section-number">4.8</span> Luonti- ja muokkausaika -tietokentät</h2>
<p>Myös luonti- ja muokkausaika-kentille pätee sama, mitä edellä sanottiin luonnista ja muokkauksesta, ja ne käsitellään kumpikin melko samalla tavalla. Valitse kummallekin Widgetin tyypiksi <strong>Päivä/Aika</strong>. Näidenkin tietojen syöttö halutaan automatisoida, ja tämä onnistuu käyttämällä QGISin sisäistä funktiota <strong>now()</strong>, joka kirjoitetaan <strong>Oletusarvo</strong>-kohtaan kummallekin kentälle. <strong>Muokattava, oletusarvon päivitys</strong> ja <strong>null-ehdot</strong> määritetään täsmälleen kuten edellä <strong>Luoja-</strong> ja <strong>Muokkaaja</strong>-kentille ohjeistettiin.</p>
</div>
<div id="kohteen-uuid-kenttä" class="section level2" number="4.9">
<h2><span class="header-section-number">4.9</span> Kohteen uuid-kenttä</h2>
<p>Vaikka uuid-tietokenttä poistettiinkin taitosta tarpeettomana tietona, määritetään nyt miten kyseinen tieto kohteelle syötetään. Tässäkin apuun tuleen QGISin sisäinen funktio nimeltä <strong>uuid()</strong>, joka luo tarvittavan UUID-koodin. Klikkaa vasemmanpuoleisesta Käytettävissä olevat widgetit -sarakkeesta kohtaa uuid. Pidä widgetin tyyppinä <strong>Tekstin muokkaus</strong>, mutta mene jälleen <strong>Oletusarvo</strong>-osioon ja kirjoita oletusarvoksi funktio <strong>uuid()</strong>. Poista myös <strong>Muokattava</strong>- sekä <strong>Käytä oletusarvoa päivityksessä</strong> -valinnat, sillä kun kohde on luotu, UUID:n ei tule enää muuttua.</p>
</div>
<div id="lomakkeen-välilehdet" class="section level2" number="4.10">
<h2><span class="header-section-number">4.10</span> Lomakkeen välilehdet</h2>
<p>Kun täytettäviä ominaisuustietokenttiä on paljon, niiden jaotteleminen eri välilehdille saattaa helpottaa työskentelyä. Myös QField tukee välilehtien käyttöä. Välilehti-ominaisuus luodaan QGISissa samassa näkymässä jossa juuri määrittelimme tietojen syöttötavat eri kentille.</p>
<p>Vaikka lisättäviä ominaisuustietoja ei nykyisessä projektissamme aivan valtavasti olekaan, saattaa olla kätevää jaotella metatiedot omalle välilehdelleen, sillä nämä liittyvät toisiinsa eikä niitä myöskään täytetä manuaalisesti. Klikkaa vihreää plus-merkkiä lisätäksesi uuden välilehden (kts. kuva). Anna välilehdelle (tab) nimeksi “metatiedot” ja sarakkeiden lukumääräksi 1. Paina OK, jolloin välilehti ilmestyy Taitosta-sarakkeeseen. Raahaa metatieto-kentät välilehden päälle ja irrota, jolloin ne sisältyvät välilehteen alla olevan kuvan mukaisesti. Lisää sitten toinen välilehti ja anna sille nimeksi “perustiedot”. Raahaa loput ominaisuustietokentät tähän välilehteen. Huomaa että pystyt muokkaamaan välilehtien ja niiden sisältämien kenttien järjestystä sopivaksi samaan tapaan raahaamalla.</p>
<p>Tämän jälkeen voit klikata OK, jolloin attribuuttilomakkeen muutokset tulevat voimaan QGIS-projektissa. Muista tallentaa myös projektitiedosto pikanäppäimellä <strong>CTRL + T</strong> tai päävalikosta <strong>Projekti &gt; Tallenna</strong>.</p>
<p><img src="img/harjoitus_3/image4.png" /></p>
</div>
<div id="näyttö-ja-kohdelistaus" class="section level2" number="4.11">
<h2><span class="header-section-number">4.11</span> Näyttö ja kohdelistaus</h2>
<p>Huomasimme edellisen harjoituksen lopussa, että kohdelistauksesta oli hankala erottaa kohteita toisistaan selkeyttävien kohdenimien puuttuessa. Tilannetta voi helpottaa QGISin Näyttö-valikon avulla. Avaa siis jälleen Puut-tason ominaisuudet, ja avaa tällä kertaa <strong>Näyttö</strong>-välilehti. Siellä voidaan määrittää <strong>Näyttönimi</strong>, joka on nimi, joka kohdelistauksessa näkyy. Varsinaisia nimiä puukohteillamme ei nyt ole, mutta voimme yrittää erotella kohteita toisistaan esimerkiksi laji-kentän ja jonkin muun kentän, esimerkiksi luontiajan, arvon avulla. Lausekkeen voi kirjoittaa suoraan kuvassakin näkyvään laatikkoon, tai voi käyttää apuna <strong>Lausekkeen muokkaus</strong> -ikkunaa painamalla “epsilon”-ikonia laatikon oikealta puolelta. Muista, että kenttien nimet tulevat tavallisten, kaksinkertaisten lainausmerkkien sisälle (“laji”), kun taas muut tekstipätkät yksinkertaisten heittomerkkien sisälle (‘,’). Esimerkkinä karttavihjeelle voisi siis olla: <strong>“laji” || ‘,’ || “luontiaika”</strong>. Kirjoita tämä tai muu haluamasi lauseke näyttönimeksi, ja paina OK.</p>
<p><img src="img/harjoitus_3/image5.png" /></p>
</div>
<div id="tarttumisen-asetukset" class="section level2" number="4.12">
<h2><span class="header-section-number">4.12</span> Tarttumisen asetukset</h2>
<p>Määritellään tässä kohtaa projektille vielä toinen digitointia käytännössä helpottava asetus, nimittäin <strong>tarttuminen</strong> (snapping), vaikka tätä tarkastellaankin lähemmin vasta harjoituksessa 5. Mikäli QGISin työkalupalkissa ei näy alla olevan kuvan kaltaista magneetti-ikonia, avaa ylävalikosta: <strong>Näytä &gt; Työkalut &gt; Tarttumisen työkalut</strong>. Jotta tarttuminen toimisi QFieldissä, on nämä asetukset määriteltävä QGIS-projektille. Voit käyttää kuvasssa näkyviä asetuksia, eli </p>
<ul>
<li><p>magneetti-ikoni on aktivoituna,</p></li>
<li><p>“kaikki tasot” valittuna,</p></li>
<li><p>Taitepiste ja Segmentti valittuna</p></li>
<li><p>etäisyysarvo on 15 pikseliä (px).</p></li>
</ul>
<p><img src="img/harjoitus_3/image6.png" /></p>
</div>
<div id="lomakkeet-qfieldissä" class="section level2" number="4.13">
<h2><span class="header-section-number">4.13</span> Lomakkeet QFieldissä</h2>
<p>Voit testata nyt miltä lomake näyttää tehdyillä muutoksilla. Tutki lomaketta ensin QGISissa lisäämällä joitakin kohteita Puut-tasoon. Tämän jälkeen siirrä projekti jälleen QFieldiin QField Sync -lisäosaa käyttäen (ei tarvitse muuttaa synkronointiasetuksia) ja testaa QFieldissa. Voit joko lisätä uusia kohteita QFieldillä tai vain selata olemassa olevien kohteiden attribuuttitietoja. Kummassakin tapauksessa näet aukeavassa lomakkeessa luodut välilehdet (perustiedot ja metatiedot). Pääset liikkumaan välilehdeltä toiselle joko klikkaamalla välilehden otsikkoa tai liu’uttamalla näyttöä sormella sivulle.</p>
<p><img src="img/harjoitus_3/image7.png" /><br />
</p>
<div class="hintbox">
<p>Psst! Koulutuksen jälkeen saat henkilökohtaista tukea Gispon tukipalvelusta. Lähetä kysymyksesi tai kommenttisi osoitteeseen tuki@gispo.fi! |</p>
</div>

</div>
</div>
<p style="text-align: center;">
<a href="02_harjoitus_2.html"><button class="btn btn-default">Previous</button></a>
<a href="04_harjoitus_4.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>

<footer class="footer text-center">

<div class="footer-container text-center">

<div class="footer-info">
<h5 class="footer-title">Paikkatiedon mobiilikeruu QFieldissä</h5>
<span class="footer-version">v2023-12-18</span>
<div class="license"><img src="img/by-nd.svg" width="80px" alt="CC-BY-ND"></div>
</div>

<div class="footer-info">
<h5 class="footer-title footer-company">Gispo Oy.
<span class="footer-copyright-year">© 2023</span></h5>
<span class="footer-contact-info">Kumpulantie 3, 3 krs
<br>00520 Helsinki, Finland
<br>info@gispo.fi
</span>
</div>

</div>
</div>
</footer>
</div>


<script src="js/nav-script.js"></script>
<script src="js/answer-key.js"></script>

</body>
</html>

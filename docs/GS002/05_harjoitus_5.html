<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<link rel="icon" href="/master-training-data/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="/master-training-data/favicon.ico" type="image/x-icon">

<!-- Based on TemplateMo 553 Xtra Blog: https://templatemo.com/tm-553-xtra-blog -->

<meta name="robots" content="noindex, nofollow" />
<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="6 Harjoitus 5: Geokoodaus | Suunnittelu ja editointi QGISillä" />
<meta property="og:type" content="book" />





<meta name="author" content="Gispo Oy." />

<meta name="date" content="2023-12-18" />


<meta name="description" content="6 Harjoitus 5: Geokoodaus | Suunnittelu ja editointi QGISillä">

<title>6 Harjoitus 5: Geokoodaus | Suunnittelu ja editointi QGISillä</title>




<link rel="stylesheet" href="custom.css" type="text/css" />

<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/hamburgers.css" rel="stylesheet">

</head>

<body>


<div class="main-content">
<!-- special comment to mark beginning of title section for bookdown -->
<!-- bookdown comments must be in this order: title, toc, body -->

<div class="main-content-wrapper">

<div class="row">
<div class="col-sm-12">
<header class="main-toc sidebar" id="sidebar">
<div class="sidebar-wrapper">

<button class="navbar-toggle hamburger hamburger--collapse" id="navbar-toggle"
type="button" onclick="navToggle()" aria-label="Toggle navigation">
<span class="hamburger-box"><span class="hamburger-inner"></span></span>
</button>

<div class="sidebar-title-wrapper">
<img alt="Logo" width="100" src="img/gispo_white_sm.png" class="sidebar-logo">
<div class="sidebar-title"><h1>Suunnittelu ja editointi QGISillä</h1></div>
<div class="abstract-sidebar"><p>Syventäväkurssi datan tuottamisesta QGISissä.</p></div>
</div>

<nav class="sidebar-nav">
<div id="TOC" class="toc">
<ul>
<li class="has-sub"><a href="index.html#suunnittelu-ja-editointi-qgisillä"><span class="toc-section-number">1</span> Suunnittelu ja editointi QGISillä</a>
<ul>
<li><a href="index.html#tervetuloa-syventävälle-qgis-kurssille"><span class="toc-section-number">1.1</span> Tervetuloa Syventävälle QGIS-kurssille!</a></li>
<li><a href="index.html#kurssimateriaalien-lataaminen"><span class="toc-section-number">1.2</span> Kurssimateriaalien lataaminen</a></li>
<li><a href="index.html#lukuohje"><span class="toc-section-number">1.3</span> Lukuohje</a></li>
<li><a href="index.html#mistä-lisätietoja"><span class="toc-section-number">1.4</span> Mistä lisätietoja?</a></li>
<li><a href="index.html#virheet"><span class="toc-section-number">1.5</span> Virheet</a></li>
<li><a href="index.html#lisenssi-ja-oikeudet"><span class="toc-section-number">1.6</span> Lisenssi ja oikeudet</a></li>
</ul></li>
<li class="has-sub"><a href="01_harjoitus_1.html#harjoitus-1-digitoinnin-perusteet"><span class="toc-section-number">2</span> Harjoitus 1: Digitoinnin perusteet</a>
<ul>
<li><a href="01_harjoitus_1.html#valmistautuminen"><span class="toc-section-number">2.1</span> Valmistautuminen</a></li>
<li><a href="01_harjoitus_1.html#muokkauksen-yleisasetukset"><span class="toc-section-number">2.2</span> Muokkauksen yleisasetukset</a></li>
<li><a href="01_harjoitus_1.html#editoinnin-valmistelu"><span class="toc-section-number">2.3</span> Editoinnin valmistelu</a></li>
<li><a href="01_harjoitus_1.html#geopackagen-luonti"><span class="toc-section-number">2.4</span> GeoPackagen luonti</a></li>
<li><a href="01_harjoitus_1.html#aloita-geometrioiden-editointi"><span class="toc-section-number">2.5</span> Aloita geometrioiden editointi</a></li>
</ul></li>
<li class="has-sub"><a href="02_harjoitus_2.html#harjoitus-2-edistyneet-digitointiominaisuudet"><span class="toc-section-number">3</span> Harjoitus 2: Edistyneet digitointiominaisuudet</a>
<ul>
<li><a href="02_harjoitus_2.html#valmistautuminen-1"><span class="toc-section-number">3.1</span> Valmistautuminen</a></li>
<li><a href="02_harjoitus_2.html#kohteisiin-tarttuminen-snapping-ja-rakennustila-construction-mode"><span class="toc-section-number">3.2</span> Kohteisiin tarttuminen (snapping) ja rakennustila (construction mode)</a></li>
<li><a href="02_harjoitus_2.html#rakentamistila"><span class="toc-section-number">3.3</span> Rakentamistila</a></li>
<li class="has-sub"><a href="02_harjoitus_2.html#rakennuksen-piirto-apuviivojen-avulla"><span class="toc-section-number">3.4</span> Rakennuksen piirto apuviivojen avulla</a>
<ul>
<li><a href="02_harjoitus_2.html#sitten-vain-harjoittelemaan."><span class="toc-section-number">3.4.1</span> Sitten vain harjoittelemaan….</a></li>
</ul></li>
<li><a href="02_harjoitus_2.html#suorakulmaisen-polygonin-piirtäminen"><span class="toc-section-number">3.5</span> Suorakulmaisen polygonin piirtäminen</a></li>
<li><a href="02_harjoitus_2.html#tehtävä-rakennus-3540-m-tontin-rajan-suuntaisesti-etäisyys-rajaan-15-m"><span class="toc-section-number">3.6</span> Tehtävä: “Rakennus 35×40 m tontin rajan suuntaisesti, etäisyys rajaan 15 m”</a></li>
<li><a href="02_harjoitus_2.html#case-rakennusala-tontille-polygonin-kopiointi-toiseksi-itseään-pienemmäksi"><span class="toc-section-number">3.7</span> Case rakennusala tontille: polygonin kopiointi toiseksi itseään pienemmäksi</a></li>
<li><a href="02_harjoitus_2.html#lisätehtävä-lisää-rakennukset-tasolle-funktio-jolla-pinta-ala-tieto-päivittyy-automaattisesti"><span class="toc-section-number">3.8</span> Lisätehtävä: Lisää Rakennukset tasolle funktio, jolla pinta-ala tieto päivittyy automaattisesti</a></li>
<li><a href="02_harjoitus_2.html#lopuksi"><span class="toc-section-number">3.9</span> Lopuksi</a></li>
</ul></li>
<li class="has-sub"><a href="03_harjoitus_3.html#harjoitus-3-georeferointi"><span class="toc-section-number">4</span> Harjoitus 3: Georeferointi</a>
<ul>
<li class="has-sub"><a href="03_harjoitus_3.html#valmistautuminen-2"><span class="toc-section-number">4.1</span> Valmistautuminen</a>
<ul>
<li><a href="03_harjoitus_3.html#section"><span class="toc-section-number">4.1.1</span> </a></li>
</ul></li>
<li><a href="03_harjoitus_3.html#aineistojen-valmistelu---georeferoija-lisäosan-aktivointi"><span class="toc-section-number">4.2</span> Aineistojen valmistelu <strong>-</strong> Georeferoija lisäosan aktivointi</a></li>
<li><a href="03_harjoitus_3.html#georeferoija-lisäosan-toiminta"><span class="toc-section-number">4.3</span> Georeferoija-lisäosan toiminta</a></li>
<li><a href="03_harjoitus_3.html#panosta-vastinpisteisiin"><span class="toc-section-number">4.4</span> Panosta vastinpisteisiin</a></li>
<li><a href="03_harjoitus_3.html#vastinpisteiden-tarkastelu-ja-varsinainen-georeferointi"><span class="toc-section-number">4.5</span> Vastinpisteiden tarkastelu ja varsinainen georeferointi</a></li>
</ul></li>
<li class="has-sub"><a href="04_harjoitus_4.html#harjoitus-4-topologia-ja-geometria"><span class="toc-section-number">5</span> Harjoitus 4: Topologia ja geometria</a>
<ul>
<li><a href="04_harjoitus_4.html#valmistautuminen-3"><span class="toc-section-number">5.1</span> Valmistautuminen</a></li>
<li><a href="04_harjoitus_4.html#virheellisen-aineiston-tuonti-qgisiin"><span class="toc-section-number">5.2</span> Virheellisen aineiston tuonti QGISiin</a></li>
<li><a href="04_harjoitus_4.html#tarkista-kelpoisuus-check-validity"><span class="toc-section-number">5.3</span> Tarkista kelpoisuus (Check validity)</a></li>
<li><a href="04_harjoitus_4.html#topologian-tarkastaja-topology-checker"><span class="toc-section-number">5.4</span> Topologian tarkastaja (Topology checker)</a></li>
<li><a href="04_harjoitus_4.html#tarkista-geometriat-geometry-checker"><span class="toc-section-number">5.5</span> Tarkista geometriat (Geometry checker)</a></li>
<li><a href="04_harjoitus_4.html#geometrian-ja-topologian-validointi-tasoa-muokattaessa"><span class="toc-section-number">5.6</span> Geometrian ja topologian validointi tasoa muokattaessa</a></li>
</ul></li>
<li class="has-sub"><a href="05_harjoitus_5.html#harjoitus-5-geokoodaus"><span class="toc-section-number">6</span> Harjoitus 5: Geokoodaus</a>
<ul>
<li><a href="05_harjoitus_5.html#valmistautuminen-4"><span class="toc-section-number">6.1</span> Valmistautuminen</a></li>
<li><a href="05_harjoitus_5.html#geocoding--lisäosa"><span class="toc-section-number">6.2</span> GeoCoding -lisäosa</a></li>
<li class="has-sub"><a href="05_harjoitus_5.html#digitransit.fi-geocoder"><span class="toc-section-number">6.3</span> DigiTransit.fi Geocoder</a>
<ul>
<li><a href="05_harjoitus_5.html#digitransit.fi---alkuvalmistelut"><span class="toc-section-number">6.3.1</span> DigiTransit.fi - alkuvalmistelut</a></li>
<li><a href="05_harjoitus_5.html#digitransit.fi---geocoder-aktivointi"><span class="toc-section-number">6.3.2</span> DigiTransit.fi - Geocoder aktivointi</a></li>
</ul></li>
</ul></li>
</ul>
</div>
</nav>
</div>
</header>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="harjoitus-5-geokoodaus" class="section level1" number="6">
<h1><span class="header-section-number">6</span> Harjoitus 5: Geokoodaus</h1>
<p><strong>Harjoituksen sisältö</strong></p>
<p>Tutustutaan erilaisiin geokoodauksen mahdollistaviin toimintoihin ja lisäosiin.</p>
<p><strong>Harjoituksen tavoite</strong></p>
<p>Opiskelija ymmärtää mihin geokoodaus perustuu ja osaa valita omaan käyttöönsä tarkoituksenmukaisen välineen.</p>
<p><strong>Arvioitu kesto</strong></p>
<p>20 minuuttia.</p>
<div id="valmistautuminen-4" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Valmistautuminen</h2>
<p>Avaa uusi QGIS-projekti (Projekti &gt; Uusi) ja tallenna se nimellä “QGIS-harjoitus 5”.</p>
<p>Avaa projektiisi jokin taustakartta, esimerkiksi OpenStreetMap. Löydät sen <strong>Selain</strong>-ikkunan alareunasta XYZ Tiles -valikosta.</p>
</div>
<div id="geocoding--lisäosa" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> GeoCoding -lisäosa</h2>
<p>Avaa <strong>Lisäosat</strong> -valikko ja etsi <strong>GeoCoding</strong> -niminen lisäosa. Tutustu sen esittelytekstiin: se voi hyödyntää sekä Googlen että OpenStreetMapin osoitetietoja ja niiden omia hakupalveluita. Asenna lisäosa.</p>
<p>Avaa GeoCoding Lisäosat-valikosta GeoCoding &gt; GeoCoding.</p>
<p><img src="img/harjoitus_5/image1.png" /></p>
<p>Testaa löytääkö lisäosa esimerkiksi kotiosoitteesi. Mikäli useassa kaupungissa on saman niminen katu, GeoCoding kysyy, minkä niistä haluat näyttää kartalla.</p>
<p><img src="img/harjoitus_5/image2.png" /></p>
<p>Löydetyistä osoitteista syntyy uusi tilapäinen tulostaso projektiisi.</p>
<p><img src="img/harjoitus_5/image3.png" /></p>
<p>Avaa nyt <strong>GeoCoding-lisäosan</strong> asetukset ja tutustu sen toimintaan. Se hyödyntää kerralla vain yhtä geokoodauspalvelua. Voit myös valita, mihin mittakaavaan kartta zoomautuu onnistuneen haun jälkeen. Vaihda Geocoding Engine toiseen vaihtoehtoon ja kokeile äsken tekemääsi hakua uudestaan. Ovatko tulokset samanlaiset? Uuden haun tulokset lisätään automaattisesti jo olemassa olevaan tulostasoon. Kuten huomaat, <strong>GeoCoding-lisäosaan</strong> voi syöttää vain yhden osoitteen kerrallaan, ja työkalu täytyy avata joka kerta uudelleen. Entä, jos geokoodattavana on pitkä lista osoitteita, esimerkiksi jonkin suuren yrityksen tai organisaation toimipisteet?</p>
</div>
<div id="digitransit.fi-geocoder" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> DigiTransit.fi Geocoder</h2>
<div id="digitransit.fi---alkuvalmistelut" class="section level3" number="6.3.1">
<h3><span class="header-section-number">6.3.1</span> DigiTransit.fi - alkuvalmistelut</h3>
<p>Gispo on julkaissut vuonna 2018 QGIS-lisäosan, joka mahdollistaa geokoodauksen suomalaisille osoitteille. Lisäosa hyödyntää Digitransitin geokoodausrajapintaa, jonka käyttäminen vaatii 4.3.2023 lähtien API-avaimen toimiakseen. Tämän vuoksi olemme tehneet lisäosaan päivityksen, joka mahdollistaa lisäosan käytön myös tämän muutoksen jälkeen. Ennen lisäosan lataamista lue ja tee meidän blogimme mukaiset toimenpiteet QGISiin, jotta saat API-avaimen käyttöön: <a href="https://www.gispo.fi/blogi/geokoodauslisaosa-digitransit-on-paivitetty/" class="uri">https://www.gispo.fi/blogi/geokoodauslisaosa-digitransit-on-paivitetty/</a></p>
</div>
<div id="digitransit.fi---geocoder-aktivointi" class="section level3" number="6.3.2">
<h3><span class="header-section-number">6.3.2</span> DigiTransit.fi - Geocoder aktivointi</h3>
<p>Gispon kehittämä <strong>DigiTransit.fi Geocoder -lisäosa</strong> hyödyntää mm. HSL:n Reittioppaan taustalla olevan DigiTransitin geokoodausta. Se käyttää kolmea osoitetietolähdettä: OpenStreetMap, Maastotietokanta ja Väestörekisterikeskus. Lisäksi siihen voi ladata listan osoitteista csv-tekstitiedostona. Osoitetietolähteidensä vuoksi lisäosa toimii vain suomalaisilla osoitteilla. Lisäosa kuuluu QGISin viralliseen lisäosien kirjastoon, joten voit etsiä ja asentaa sen samaan tapaan kuin edellisen lisäosan.</p>
<p><img src="img/harjoitus_5/image4.png" /></p>
<p>Asentamisen jälkeen <strong>Digitransit.fi-dialogi-ikkuna</strong> aukeaa <strong>Lisäosat-valikosta</strong>. Huomaa, että ikkunassa on enemmän asetuksia, mutta edelleen voit hakea vain yhden osoitteen kerrallaan. Syötä sama osoite kuin edellistä lisäosaa testatessasi. Tämäkin lisäosa luo löytämistään osoitteista uuden tilapäisen tason. Millaisia tuloksia löydät nyt?</p>
<p><img src="img/harjoitus_5/image5.png" /></p>
<p>Hakeaksesi monta osoitetta kerralla tarvitset <strong>csv-tiedoston</strong>,johon osoitteet on tallennettu. Csv-tiedostoa käytettäessä lisäosa pitää avata yläpalkista <strong>Prosessointi &gt; Työkalut</strong>. Etsi työkalu kirjoittamalla hakukenttään “Digitransit” ja avaa se tuplaklikkauksella.</p>
<p><img src="img/harjoitus_5/image6.png" /></p>
<p>Valitse kurssihakemistosta tiedosto <strong>CSV/elykeskukset.csv</strong>. Anna työkalulle osoitekenttien nimet, jotta se osaa etsiä csv-tiedostosta osoitteet oikein. Tässä aineistossa osoitekentän nimi on katuosoite ja kunnan paikkakunta, ja ne täytyy muistaa erottaa toisistaan pilkulla. Klikkaa <strong>Suorita</strong> käynnistääksesi prosessoinnin.</p>
<p><img src="img/harjoitus_5/image7.png" /></p>
<p>Tuloksena syntyy tilapäinen tulostaso. Tarkastele tuloksia kartalla ja attribuuttitaulussa. Alkuperäisessä csv-tiedostossa on 15 riviä, ja kaikille löytyy osoite. Attribuuttitaulusta voit tutkia myös sijaintien luotettavuutta. Minkä ELY-keskuksen sijainti on epätarkin? Zoomaa kohteeseen kartalla. Tämäkin kohde osuu OpenStreetMap-kartassa oikean rakennuksen sisään.</p>
<p>Vastaavanlainen työkalu, osoitteiden geokoodaus csv-tiedostosta, löytyy mm. lisäosasta MMQGIS. Sen tietolähteet ovat Google, OpenStreeetMap, US Census Bureau ja Esri.</p>
<p>Kun olet valmis, tallenna projektitiedosto kurssihakemistoon pikanäppäimellä <strong>CTRL + T</strong> tai päävalikosta <strong>Projekti &gt; Tallenna</strong>.</p>
<div class="hint-box">
<p>Muista tukipalvelu! Koulutuksen jälkeen saat henkilökohtaista tukea Gispon tukipalvelun kautta lähettämällä yksinkertaisesti tuki@gispo.fi-sähköpostiosoitteeseen kysymyksen tai kommentin jostakin sinua mietityttävästä asiasta. Gispon tiimi auttaa sinua toimiesi äärellä. Kysymykset käsitellään henkilökohtaisesti.</p>
</div>

</div>
</div>
</div>
<p style="text-align: center;">
<a href="04_harjoitus_4.html"><button class="btn btn-default">Previous</button></a>
</p>
</div>
</div>

<footer class="footer text-center">

<div class="footer-container text-center">

<div class="footer-info">
<h5 class="footer-title">Suunnittelu ja editointi QGISillä</h5>
<span class="footer-version">v2023-12-18</span>
<div class="license"><img src="img/by-nd.svg" width="80px" alt="CC-BY-ND"></div>
</div>

<div class="footer-info">
<h5 class="footer-title footer-company">Gispo Oy.
<span class="footer-copyright-year">© 2023</span></h5>
<span class="footer-contact-info">Kumpulantie 3, 3 krs
<br>00520 Helsinki, Finland
<br>info@gispo.fi
</span>
</div>

</div>
</div>
</footer>
</div>


<script src="js/nav-script.js"></script>
<script src="js/answer-key.js"></script>

</body>
</html>

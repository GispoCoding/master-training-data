<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<link rel="icon" href="/master-training-data/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="/master-training-data/favicon.ico" type="image/x-icon">

<!-- Based on TemplateMo 553 Xtra Blog: https://templatemo.com/tm-553-xtra-blog -->

<meta name="robots" content="noindex, nofollow" />
<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Harjoitus 5: Geokoodaus | Suunnittelu ja editointi QGISillä" />
<meta property="og:type" content="book" />





<meta name="author" content="Gispo Oy." />

<meta name="date" content="2024-03-01" />


<meta name="description" content="Harjoitus 5: Geokoodaus | Suunnittelu ja editointi QGISillä">

<title>Harjoitus 5: Geokoodaus | Suunnittelu ja editointi QGISillä</title>




<link rel="stylesheet" href="custom.css" type="text/css" />

<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/hamburgers.css" rel="stylesheet">

</head>

<body>


<div class="main-content">
<!-- special comment to mark beginning of title section for bookdown -->
<!-- bookdown comments must be in this order: title, toc, body -->

<div class="main-content-wrapper">

<div class="row">
<div class="col-sm-12">
<header class="main-toc sidebar" id="sidebar">
<div class="sidebar-wrapper">

<button class="navbar-toggle hamburger hamburger--collapse" id="navbar-toggle"
type="button" onclick="navToggle()" aria-label="Toggle navigation">
<span class="hamburger-box"><span class="hamburger-inner"></span></span>
</button>

<div class="sidebar-title-wrapper">
<img alt="Logo" width="100" src="img/gispo_white_sm.png" class="sidebar-logo">
<div class="sidebar-title"><h1>Suunnittelu ja editointi QGISillä</h1></div>
<div class="abstract-sidebar"><p>Syventäväkurssi datan tuottamisesta QGISissä.</p></div>
</div>

<nav class="sidebar-nav">
<div id="TOC" class="toc">
<ul>
<li class="has-sub"><a href="index.html#suunnittelu-ja-editointi-qgisillä">Suunnittelu ja editointi QGISillä</a>
<ul>
<li><a href="index.html#tervetuloa-syventävälle-qgis-kurssille">Tervetuloa Syventävälle QGIS-kurssille!</a></li>
<li><a href="index.html#kurssimateriaalien-lataaminen">Kurssimateriaalien lataaminen</a></li>
<li><a href="index.html#lukuohje">Lukuohje</a></li>
<li><a href="index.html#mistä-lisätietoja">Mistä lisätietoja?</a></li>
<li><a href="index.html#virheet">Virheet</a></li>
<li><a href="index.html#lisenssi-ja-oikeudet">Lisenssi ja oikeudet</a></li>
</ul></li>
<li class="has-sub"><a href="01_harjoitus_1.html#harjoitus-1-digitoinnin-perusteet">Harjoitus 1: Digitoinnin perusteet</a>
<ul>
<li><a href="01_harjoitus_1.html#valmistautuminen">Valmistautuminen</a></li>
<li><a href="01_harjoitus_1.html#muokkauksen-yleisasetukset">Muokkauksen yleisasetukset</a></li>
<li><a href="01_harjoitus_1.html#editoinnin-valmistelu">Editoinnin valmistelu</a></li>
<li><a href="01_harjoitus_1.html#geopackagen-luonti">GeoPackagen luonti</a></li>
<li><a href="01_harjoitus_1.html#aloita-geometrioiden-editointi">Aloita geometrioiden editointi</a></li>
</ul></li>
<li class="has-sub"><a href="02_harjoitus_2.html#harjoitus-2-edistyneet-digitointiominaisuudet">Harjoitus 2: Edistyneet digitointiominaisuudet</a>
<ul>
<li><a href="02_harjoitus_2.html#valmistautuminen-1">Valmistautuminen</a></li>
<li><a href="02_harjoitus_2.html#kohteisiin-tarttuminen-snapping-ja-rakennustila-construction-mode">Kohteisiin tarttuminen (snapping) ja rakennustila (construction mode)</a></li>
<li><a href="02_harjoitus_2.html#rakentamistila">Rakentamistila</a></li>
<li class="has-sub"><a href="02_harjoitus_2.html#rakennuksen-piirto-apuviivojen-avulla">Rakennuksen piirto apuviivojen avulla</a>
<ul>
<li><a href="02_harjoitus_2.html#sitten-vain-harjoittelemaan.">Sitten vain harjoittelemaan….</a></li>
</ul></li>
<li><a href="02_harjoitus_2.html#suorakulmaisen-polygonin-piirtäminen">Suorakulmaisen polygonin piirtäminen</a></li>
<li><a href="02_harjoitus_2.html#tehtävä-rakennus-3540-m-tontin-rajan-suuntaisesti-etäisyys-rajaan-15-m">Tehtävä: “Rakennus 35×40 m tontin rajan suuntaisesti, etäisyys rajaan 15 m”</a></li>
<li><a href="02_harjoitus_2.html#case-rakennusala-tontille-polygonin-kopiointi-toiseksi-itseään-pienemmäksi">Case rakennusala tontille: polygonin kopiointi toiseksi itseään pienemmäksi</a></li>
<li><a href="02_harjoitus_2.html#lisätehtävä-lisää-rakennukset-tasolle-funktio-jolla-pinta-ala-tieto-päivittyy-automaattisesti">Lisätehtävä: Lisää Rakennukset tasolle funktio, jolla pinta-ala tieto päivittyy automaattisesti</a></li>
<li><a href="02_harjoitus_2.html#lopuksi">Lopuksi</a></li>
</ul></li>
<li class="has-sub"><a href="03_harjoitus_3.html#harjoitus-3-georeferointi">Harjoitus 3: Georeferointi</a>
<ul>
<li class="has-sub"><a href="03_harjoitus_3.html#valmistautuminen-2">Valmistautuminen</a>
<ul>
<li><a href="03_harjoitus_3.html#section"></a></li>
</ul></li>
<li><a href="03_harjoitus_3.html#aineistojen-valmistelu---georeferoija-lisäosan-aktivointi">Aineistojen valmistelu <strong>-</strong> Georeferoija lisäosan aktivointi</a></li>
<li><a href="03_harjoitus_3.html#georeferoija-lisäosan-toiminta">Georeferoija-lisäosan toiminta</a></li>
<li><a href="03_harjoitus_3.html#panosta-vastinpisteisiin">Panosta vastinpisteisiin</a></li>
<li><a href="03_harjoitus_3.html#vastinpisteiden-tarkastelu-ja-varsinainen-georeferointi">Vastinpisteiden tarkastelu ja varsinainen georeferointi</a></li>
<li><a href="03_harjoitus_3.html#lisätehtävä-lataa-qgis-lisäosa-mapswipe-tool">Lisätehtävä: Lataa QGIS-lisäosa MapSwipe Tool</a></li>
</ul></li>
<li class="has-sub"><a href="04_harjoitus_4.html#harjoitus-4-topologia-ja-geometria">Harjoitus 4: Topologia ja geometria</a>
<ul>
<li><a href="04_harjoitus_4.html#valmistautuminen-3">Valmistautuminen</a></li>
<li><a href="04_harjoitus_4.html#virheellisen-aineiston-tuonti-qgisiin">Virheellisen aineiston tuonti QGISiin</a></li>
<li><a href="04_harjoitus_4.html#tarkista-kelpoisuus-check-validity">Tarkista kelpoisuus (Check validity)</a></li>
<li><a href="04_harjoitus_4.html#topologian-tarkastaja-topology-checker">Topologian tarkastaja (Topology checker)</a></li>
<li><a href="04_harjoitus_4.html#tarkista-geometriat-geometry-checker">Tarkista geometriat (Geometry checker)</a></li>
<li><a href="04_harjoitus_4.html#geometrian-ja-topologian-validointi-tasoa-muokattaessa">Geometrian ja topologian validointi tasoa muokattaessa</a></li>
</ul></li>
<li class="has-sub"><a href="05_harjoitus_5.html#harjoitus-5-geokoodaus">Harjoitus 5: Geokoodaus</a>
<ul>
<li><a href="05_harjoitus_5.html#valmistautuminen-4">Valmistautuminen</a></li>
<li><a href="05_harjoitus_5.html#geocoding--lisäosa">GeoCoding -lisäosa</a></li>
<li class="has-sub"><a href="05_harjoitus_5.html#digitransit.fi-geocoder">DigiTransit.fi Geocoder</a>
<ul>
<li><a href="05_harjoitus_5.html#digitransit.fi---alkuvalmistelut">DigiTransit.fi - alkuvalmistelut</a></li>
<li><a href="05_harjoitus_5.html#digitransit.fi---geocoder-aktivointi">DigiTransit.fi - Geocoder aktivointi</a></li>
</ul></li>
</ul></li>
</ul>
</div>
</nav>
</div>
</header>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="harjoitus-5-geokoodaus" class="section level1">
<h1>Harjoitus 5: Geokoodaus</h1>
<p><strong>Harjoituksen sisältö</strong></p>
<p>Tutustutaan erilaisiin geokoodauksen mahdollistaviin toimintoihin ja lisäosiin.</p>
<p><strong>Harjoituksen tavoite</strong></p>
<p>Opiskelija ymmärtää mihin geokoodaus perustuu ja osaa valita omaan käyttöönsä tarkoituksenmukaisen välineen.</p>
<p><strong>Arvioitu kesto</strong></p>
<p>20 minuuttia.</p>
<div id="valmistautuminen-4" class="section level2">
<h2>Valmistautuminen</h2>
<p>Avaa uusi QGIS-projekti (Projekti &gt; Uusi) ja tallenna se nimellä “QGIS-harjoitus 5”.</p>
<p>Avaa projektiisi jokin taustakartta, esimerkiksi OpenStreetMap. Löydät sen <strong>Selain</strong>-ikkunan alareunasta XYZ Tiles -valikosta.</p>
</div>
<div id="geocoding--lisäosa" class="section level2">
<h2>GeoCoding -lisäosa</h2>
<p>Avaa <strong>Lisäosat</strong> -valikko ja etsi <strong>GeoCoding</strong> -niminen lisäosa. Tutustu sen esittelytekstiin: se voi hyödyntää sekä Googlen että OpenStreetMapin osoitetietoja ja niiden omia hakupalveluita. Asenna lisäosa.</p>
<p>Avaa GeoCoding Lisäosat-valikosta GeoCoding &gt; GeoCoding.</p>
<p><img src="img/harjoitus_5/image1.png" /></p>
<p>Testaa löytääkö lisäosa esimerkiksi kotiosoitteesi. Mikäli useassa kaupungissa on saman niminen katu, GeoCoding kysyy, minkä niistä haluat näyttää kartalla.</p>
<p><img src="img/harjoitus_5/image2.png" /></p>
<p>Löydetyistä osoitteista syntyy uusi tilapäinen tulostaso projektiisi.</p>
<p><img src="img/harjoitus_5/image3.png" /></p>
<p>Avaa nyt <strong>GeoCoding-lisäosan</strong> asetukset ja tutustu sen toimintaan. Se hyödyntää kerralla vain yhtä geokoodauspalvelua. Voit myös valita, mihin mittakaavaan kartta zoomautuu onnistuneen haun jälkeen. Vaihda Geocoding Engine toiseen vaihtoehtoon ja kokeile äsken tekemääsi hakua uudestaan. Ovatko tulokset samanlaiset? Uuden haun tulokset lisätään automaattisesti jo olemassa olevaan tulostasoon. Kuten huomaat, <strong>GeoCoding-lisäosaan</strong> voi syöttää vain yhden osoitteen kerrallaan, ja työkalu täytyy avata joka kerta uudelleen. Entä, jos geokoodattavana on pitkä lista osoitteita, esimerkiksi jonkin suuren yrityksen tai organisaation toimipisteet?</p>
</div>
<div id="digitransit.fi-geocoder" class="section level2">
<h2>DigiTransit.fi Geocoder</h2>
<div id="digitransit.fi---alkuvalmistelut" class="section level3">
<h3>DigiTransit.fi - alkuvalmistelut</h3>
<p>Gispo on julkaissut vuonna 2018 QGIS-lisäosan, joka mahdollistaa geokoodauksen suomalaisille osoitteille. Lisäosa hyödyntää Digitransitin geokoodausrajapintaa, jonka käyttäminen vaatii 4.3.2023 lähtien API-avaimen toimiakseen. Tämän vuoksi olemme tehneet lisäosaan päivityksen, joka mahdollistaa lisäosan käytön myös tämän muutoksen jälkeen. Ennen lisäosan lataamista lue ja tee meidän blogimme mukaiset toimenpiteet QGISiin, jotta saat API-avaimen käyttöön: <a href="https://www.gispo.fi/blogi/geokoodauslisaosa-digitransit-on-paivitetty/" class="uri">https://www.gispo.fi/blogi/geokoodauslisaosa-digitransit-on-paivitetty/</a></p>
</div>
<div id="digitransit.fi---geocoder-aktivointi" class="section level3">
<h3>DigiTransit.fi - Geocoder aktivointi</h3>
<p>Gispon kehittämä <strong>DigiTransit.fi Geocoder -lisäosa</strong> hyödyntää mm. HSL:n Reittioppaan taustalla olevan DigiTransitin geokoodausta. Se käyttää kolmea osoitetietolähdettä: OpenStreetMap, Maastotietokanta ja Väestörekisterikeskus. Lisäksi siihen voi ladata listan osoitteista csv-tekstitiedostona. Osoitetietolähteidensä vuoksi lisäosa toimii vain suomalaisilla osoitteilla. Lisäosa kuuluu QGISin viralliseen lisäosien kirjastoon, joten voit etsiä ja asentaa sen samaan tapaan kuin edellisen lisäosan.</p>
<p><img src="img/harjoitus_5/image4.png" /></p>
<p>Asentamisen jälkeen <strong>Digitransit.fi-dialogi-ikkuna</strong> aukeaa <strong>Lisäosat-valikosta</strong>. Huomaa, että ikkunassa on enemmän asetuksia, mutta edelleen voit hakea vain yhden osoitteen kerrallaan. Syötä sama osoite kuin edellistä lisäosaa testatessasi. Tämäkin lisäosa luo löytämistään osoitteista uuden tilapäisen tason. Millaisia tuloksia löydät nyt?</p>
<p><img src="img/harjoitus_5/image5.png" /></p>
<p>Hakeaksesi monta osoitetta kerralla tarvitset <strong>csv-tiedoston</strong>,johon osoitteet on tallennettu. Csv-tiedostoa käytettäessä lisäosa pitää avata yläpalkista <strong>Prosessointi &gt; Työkalut</strong>. Etsi työkalu kirjoittamalla hakukenttään “Digitransit” ja avaa se tuplaklikkauksella.</p>
<p><img src="img/harjoitus_5/image6.png" /></p>
<p>Valitse kurssihakemistosta tiedosto <strong>CSV/elykeskukset.csv</strong>. Anna työkalulle osoitekenttien nimet, jotta se osaa etsiä csv-tiedostosta osoitteet oikein. Tässä aineistossa osoitekentän nimi on katuosoite ja kunnan paikkakunta, ja ne täytyy muistaa erottaa toisistaan pilkulla. Klikkaa <strong>Suorita</strong> käynnistääksesi prosessoinnin.</p>
<p><img src="img/harjoitus_5/image7.png" /></p>
<p>Tuloksena syntyy tilapäinen tulostaso. Tarkastele tuloksia kartalla ja attribuuttitaulussa. Alkuperäisessä csv-tiedostossa on 15 riviä, ja kaikille löytyy osoite. Attribuuttitaulusta voit tutkia myös sijaintien luotettavuutta. Minkä ELY-keskuksen sijainti on epätarkin? Zoomaa kohteeseen kartalla. Tämäkin kohde osuu OpenStreetMap-kartassa oikean rakennuksen sisään.</p>
<p>Vastaavanlainen työkalu, osoitteiden geokoodaus csv-tiedostosta, löytyy mm. lisäosasta MMQGIS. Sen tietolähteet ovat Google, OpenStreeetMap, US Census Bureau ja Esri.</p>
<p>Kun olet valmis, tallenna projektitiedosto kurssihakemistoon pikanäppäimellä <strong>CTRL + T</strong> tai päävalikosta <strong>Projekti &gt; Tallenna</strong>.</p>
<div class="hint-box">
<p>Psst! Muista tukipalvelu! Koulutuksen jälkeen saat henkilökohtaista tukea Gispon tukipalvelun kautta lähettämällä yksinkertaisesti koulutustuki@gispo.fi -sähköpostiosoitteeseen kysymyksen tai kommentin jostakin sinua mietityttävästä asiasta. Gispon tiimi auttaa sinua toimiesi äärellä. Kysymykset käsitellään henkilökohtaisesti.</p>
</div>

</div>
</div>
</div>
<p style="text-align: center;">
<a href="04_harjoitus_4.html"><button class="btn btn-default">Previous</button></a>
</p>
</div>
</div>

<footer class="footer text-center">

<div class="footer-container text-center">

<div class="footer-info">
<h5 class="footer-title">Suunnittelu ja editointi QGISillä</h5>
<span class="footer-version">v2024-03-01</span>
<div class="license"><img src="img/by-nd.svg" width="80px" alt="CC-BY-ND"></div>
</div>

<div class="footer-info">
<h5 class="footer-title footer-company">Gispo Oy.
<span class="footer-copyright-year">© 2024</span></h5>
<span class="footer-contact-info">Kumpulantie 3, 3 krs
<br>00520 Helsinki, Finland
<br>info@gispo.fi
</span>
</div>

</div>
</div>
</footer>
</div>


<script src="js/nav-script.js"></script>
<script src="js/answer-key.js"></script>

</body>
</html>

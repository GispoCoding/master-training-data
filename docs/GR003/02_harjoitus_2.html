<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<link rel="icon" href="/master-training-data/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="/master-training-data/favicon.ico" type="image/x-icon">

<!-- Based on TemplateMo 553 Xtra Blog: https://templatemo.com/tm-553-xtra-blog -->

<meta name="robots" content="noindex, nofollow" />
<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Harjoitus 2: Teemakartta | Porvoon QGIS -jatkokoulutus" />
<meta property="og:type" content="book" />





<meta name="author" content="Gispo Oy." />

<meta name="date" content="2024-05-24" />


<meta name="description" content="Harjoitus 2: Teemakartta | Porvoon QGIS -jatkokoulutus">

<title>Harjoitus 2: Teemakartta | Porvoon QGIS -jatkokoulutus</title>




<link rel="stylesheet" href="custom.css" type="text/css" />

<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/hamburgers.css" rel="stylesheet">

</head>

<body>


<div class="main-content">
<!-- special comment to mark beginning of title section for bookdown -->
<!-- bookdown comments must be in this order: title, toc, body -->

<div class="main-content-wrapper">

<div class="row">
<div class="col-sm-12">
<header class="main-toc sidebar" id="sidebar">
<div class="sidebar-wrapper">

<button class="navbar-toggle hamburger hamburger--collapse" id="navbar-toggle"
type="button" onclick="navToggle()" aria-label="Toggle navigation">
<span class="hamburger-box"><span class="hamburger-inner"></span></span>
</button>

<div class="sidebar-title-wrapper">
<img alt="Logo" width="100" src="img/gispo_white_sm.png" class="sidebar-logo">
<div class="sidebar-title"><h1>Porvoon QGIS -jatkokoulutus</h1></div>
<div class="abstract-sidebar"><p>Porvoon kaupungille räätälöity QGISin jatkokoulutus</p></div>
</div>

<nav class="sidebar-nav">
<div id="TOC" class="toc">
<ul>
<li class="has-sub"><a href="index.html#porvoon-qgis--jatkokoulutus">Porvoon QGIS -jatkokoulutus</a>
<ul>
<li><a href="index.html#kurssimateriaalien-lataaminen">Kurssimateriaalien lataaminen</a></li>
<li><a href="index.html#lukuohje">Lukuohje</a></li>
<li><a href="index.html#mistä-lisätietoja">Mistä lisätietoja?</a></li>
<li><a href="index.html#virheet">Virheet</a></li>
<li><a href="index.html#lisenssi-ja-oikeudet">Lisenssi ja oikeudet</a></li>
</ul></li>
<li class="has-sub"><a href="01_harjoitus_1.html#harjoitus-1-qgisin-perustoiminnot">Harjoitus 1: QGISin perustoiminnot</a>
<ul>
<li><a href="01_harjoitus_1.html#valmistautuminen">Valmistautuminen</a></li>
<li><a href="01_harjoitus_1.html#mapinfon-tiedostot-qgisiin">MapInfon tiedostot QGISiin</a></li>
<li><a href="01_harjoitus_1.html#aineistomuunnos-tai-uuden-aineiston-tallentaminen">Aineistomuunnos tai uuden aineiston tallentaminen</a></li>
<li><a href="01_harjoitus_1.html#väliaikainen-luonnostaso">Väliaikainen luonnostaso</a></li>
<li><a href="01_harjoitus_1.html#selain-paneelin-käyttö">Selain-paneelin käyttö</a></li>
<li><a href="01_harjoitus_1.html#kuvaustekniikan-tallentaminen">Kuvaustekniikan tallentaminen</a></li>
<li><a href="01_harjoitus_1.html#projektin-tallentaminen-geopackageen">Projektin tallentaminen GeoPackageen</a></li>
</ul></li>
<li class="has-sub"><a href="02_harjoitus_2.html#harjoitus-2-teemakartta">Harjoitus 2: Teemakartta</a>
<ul>
<li><a href="02_harjoitus_2.html#harjoituksen-sisältö">Harjoituksen sisältö</a></li>
<li><a href="02_harjoitus_2.html#harjoituksen-tavoite">Harjoituksen tavoite</a></li>
<li><a href="02_harjoitus_2.html#lisätehtävä-1-poista-rajalla-olevat-postinumeroalueet">Lisätehtävä 1: Poista rajalla olevat postinumeroalueet</a></li>
<li><a href="02_harjoitus_2.html#lisätehtävä-2-lisää-nimiöt">Lisätehtävä 2: Lisää nimiöt</a></li>
</ul></li>
<li class="has-sub"><a href="03_harjoitus_3.html#harjoitus-3-digitointi">Harjoitus 3: Digitointi</a>
<ul>
<li><a href="03_harjoitus_3.html#valmistautuminen-1">Valmistautuminen</a></li>
<li><a href="03_harjoitus_3.html#uusi-taso-ja-digitoinnin-perustyökalut">Uusi taso ja digitoinnin perustyökalut</a></li>
<li><a href="03_harjoitus_3.html#tarttuminen">Tarttuminen</a></li>
<li><a href="03_harjoitus_3.html#lisätyökalut-apuun">Lisätyökalut apuun</a></li>
<li><a href="03_harjoitus_3.html#lisätehtävä-1-kokeile-työkaluja-rohkeast">Lisätehtävä 1: Kokeile työkaluja rohkeast</a></li>
<li><a href="03_harjoitus_3.html#lisätehtävä-2-testaa-rakentamistila">Lisätehtävä 2: Testaa rakentamistila</a></li>
<li><a href="03_harjoitus_3.html#lisätehtävä-3-lisää-rakennukset-tasolle-funktio-jolla-pinta-ala-tieto-päivittyy-automaattisesti">Lisätehtävä 3: Lisää Rakennukset tasolle funktio, jolla pinta-ala tieto päivittyy automaattisesti</a></li>
</ul></li>
<li class="has-sub"><a href="04_harjoitus_4.html#harjoitus-4-karttatuloste">Harjoitus 4: Karttatuloste</a>
<ul>
<li><a href="04_harjoitus_4.html#harjoituksen-sisältö-1">Harjoituksen sisältö</a></li>
<li><a href="04_harjoitus_4.html#harjoituksen-tavoite-1">Harjoituksen tavoite</a></li>
<li><a href="04_harjoitus_4.html#valmistautuminen-2">Valmistautuminen</a></li>
<li><a href="04_harjoitus_4.html#karttatuloste">Karttatuloste</a></li>
<li><a href="04_harjoitus_4.html#lisätehtävä-tutustu-qgisin-kartta-atlakseen">Lisätehtävä: Tutustu QGISin kartta-atlakseen</a></li>
</ul></li>
</ul>
</div>
</nav>
</div>
</header>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="harjoitus-2-teemakartta" class="section level1">
<h1>Harjoitus 2: Teemakartta</h1>
<div id="harjoituksen-sisältö" class="section level2">
<h2>Harjoituksen sisältö</h2>
<p>Harjoituksessa tehdään teemakartta Porvoon alueelta käyttäen postinumeroalueita ja rajapintapalveluja.</p>
</div>
<div id="harjoituksen-tavoite" class="section level2">
<h2>Harjoituksen tavoite</h2>
<p>Koulutettava oppii luomaan teemakartan sekä harjoittelee rajapintapalvelujen käyttöä.</p>
<p>Avaa QGIS ja aloita tyhjästä projektista. Aloitetaan heti lisäämällä kaikki Suomen kuntarajat <a href="https://stat.fi/org/avoindata/paikkatietoaineistot.html#kuntapohjaiset">Tilastokeskuksen rajapintapalvelusta</a>. Uuden tason voi lisätä muutamalla tavalla. Voit esimerkiksi selain-paneelissa etsiä <strong>WFS / OGC API - Features</strong> kohdan ja klikata sitä oikealla hiirennäppäimellä. Valitse <strong>Uusi yhteys</strong>. Anna yhteydelle selkeä nimi ja lisää tämä Tilastokeskuksen rajapintapalvelun osoite URL-kenttään:</p>
<div class="note-box">
<p><a href="https://geo.stat.fi/geoserver/tilastointialueet/wfs" class="uri">https://geo.stat.fi/geoserver/tilastointialueet/wfs</a></p>
</div>
<p><img src="img/harjoitus_2/image1.png" /></p>
<p>Lisää tämän jälkeen myös uusi yhteys toiseen rajapintapalveluun, <a href="https://stat.fi/org/avoindata/paikkatietoaineistot/paavo.html">Tilastokeskuksen Paavo-rajapinta</a> missä on kaikki Suomen postinumeroalueet. Paavo-rajapinnan osoite on:</p>
<div class="note-box">
<p><a href="https://geo.stat.fi/geoserver/postialue/wfs" class="uri">https://geo.stat.fi/geoserver/postialue/wfs</a></p>
</div>
<p>Siirry viimeistään nyt Porvoon alueelle käyttäen karttanavigoinnin työkaluja.
<img src="img/harjoitus_2/image2.png" /></p>
<p>Lisätään nyt Kuntaraja-rajapinnasta taso nimeltään <strong>Kunnat (1:1 000 000)</strong> sekä Paavo-rajapinnasta taso nimeltään <strong>Paavo-tilastointiaineisto ja -postinumeroalueet</strong>. Tarkista, että on oikeat tasot. Harjoituksen kannalta on tärkeää, että Paavo-aineisto sisältää myös tilastointiaineistoa. Voit avata attribuuttitaulukkoa klikkaamalla tasoa oikealla hiirennäppäimellä Tasot-paneelissa ja valita sieltä “Avaa attribuuttitaulukko”. Tarkista, että sarake nimeltään “he_vakiy” on olemassa. Tässä sarakkeessa on postinumeroalueen väkimäärä.</p>
<p>Seuraavaksi viedään Porvoon kaupungin alue ulos omana tiedostona. Paina ensin <strong>Kunnat (1:1 000 000)</strong>-tasoa Tasot-paneelissa. Valitse tämän jälkeen Valinta-työkalu: <img src="img/harjoitus_2/image3.png" /> ja valitse karttaikkunasta Porvoota. Nyt Porvoon alue pitäisi korostua keltaisella (kuva)</p>
<p><img src="img/harjoitus_2/image4.png" /></p>
<p>Paina oikealla <strong>Kunnat (1:1 000 000)</strong>-tasoa ja valitse <strong>Vie -&gt; Tallenna Valitut kohteet nimellä</strong>. Uudessa ikkunassa valitset paikan uudelle tiedostolle pienestä napista missä on kolme pistettä (kuva). Tiedoston nimi on tässä kuvassa “Porvoo_koulutus”. Tason nimeksi voit laittaa esimerkiksi “Kaupunginrajat”. Tarkista, että olet tallentamassa GeoPackage-tiedoston.</p>
<p><img src="img/harjoitus_2/image5.png" /></p>
<p>Valitse myös pienestä maapallosta Porvoolle sopivan koordinattijärjestelmän eli ETRS89 / GK26FIN (kuva alla). Sen saa helpoin kirjoittamalla Suodatin-kohtaan EPSG-koodin 3880. Paina tämän jälkeen <strong>OK</strong>.</p>
<p><img src="img/harjoitus_2/image6.png" /></p>
<p>Lisää tallennettu tiedosto kartalle-kohdassa on hyvä olla ruksi ja paina tämän jälkeen <strong>OK</strong>.</p>
<p>Nyt meillä on oma taso missä on vain Porvoon kaupungin alue. Seuraavaksi tarvitaan Porvoon alueella olevat postinumeroalueet. Jotta saadaan ainoastaan ne jotka ovat Porvoon alueella niin voidaan käyttää Ristiinleikkaus-työkalua. Valitse ylävalikosta <strong>Vektori -&gt; Geoprosessointi -&gt; Ristiinleikkaus (Intersection)</strong></p>
<p>Syötetaso on Postinumeroalueet ja Peitetasona on äsken luomasi Porvoon kaupuginraja-taso. Valitse vielä kolmesta pisteestä <strong>Tallenna GeoPackageen</strong> ja valitse sama GeoPackage-tiedosto, mitä käytit äsken kaupunginraja-tasolle. Näin saat molemmat tasot tallennettu samaan tiedostoon. Kun olet valinnut saman GeoPackage-tiedoston ja tallentanut niin se pyytää nimeä. Tähän voi laittaa esimerkiksi <strong>Porvoon postinumeroalueet</strong>. Kun painat <strong>Suorita</strong> niin työkalu luo sinulle uuden tason, missä on ainoastaan Porvoon alueella olevat postinumeroalueet.</p>
<p><img src="img/harjoitus_2/image7.png" /></p>
<div class="hint-box">
<p>Huomaat ehkä, että ihan kaupunginrajalla niin on hyvin pieniä leikattuja postinumeroalueita. Tämä johtuu siitä, että Suomessa postinumeroalueet ei mene nätisti kuntarajojen mukaan. Näitä voisi esimerkisi siivota käsin pois, valitsemalla alueet ja painamalla delete kun on editointi-tilassa. Tässä harjoituksessa sitä ei tehdä (ellei jää runsaasti aikaa).</p>
</div>
<p>Nyt päästään visualisoimaan tasoa. Tasot-paneelista voit valita “Avaa tason tyylit-paneeli”, jolloin sinulla aukeaa oikealla tyyli-ikkuna (kuva).</p>
<p><img src="img/harjoitus_2/image8.png" /></p>
<p>Nyt voit helposti muokata Porvoon postinumeroalueet-tasoa. Oletuksena on valittu “Yksittäinen symboli” kuvaustekniikaksi. Koska meidän tarkoitus on luoda teemkarttaa väestöluvulla, niin valitse <strong>“Porrastettu”</strong>. Jos kyseessä olisi valmiita kategorioita niin käytettäisiin “Luokiteltua”-kuvaustekniikkaa. Kun olet valinnut “Porrastettu” niin valitse myös minkä arvon (eli muuttujan) mukaan luokkia muodostetaan. Tähän voit laittaa <strong>“he_vakiy”</strong>, missä on väestön lukumäärä. Valitse mieluisa liukuväri. Valitse tämän jälkeen <strong>Tila</strong>- kohdasta esimerkiksi <strong>Luonnolliset luokkarajat (Jenks)</strong>. Huomaa myös <strong>Luokat</strong>-numeroarvo oikealla. Paina tämän jälkeen <strong>Luokittele</strong>. Nyt luotiin automattiset luokat. Yksittäisen luokan luokkarajoja voi muuttaa tuplaklikkaamalla “Arvot”-sarakkeen arvoa, ja karttatulosteessa näkyvää selitettä voi muuttaa tuplaklikkaamalla luokkaa “Selite”-sarakkeesta. Tämä määrittää kuinka monta luokkaa haluat. Aineiston jakaumaa voit tarkistaa “Histogrammi”-välilehdeltä.</p>
<p><img src="img/harjoitus_2/image11.png" /></p>
<p>Yksittäisen luokan visualisointityyliä voit muuttaa tuplaklikkaamalla luokan symbolia. Yksittäisen luokan luokkarajoja voi muuttaa tuplaklikkaamalla “Arvot”-sarakkeen arvoa, ja karttatulosteessa näkyvää selitettä voi muuttaa tuplaklikkaamalla luokkaa “Selite”-sarakkeesta. Onneksi olkoon! Olet luonut teemakartan! Jatka muokkaamista kunnes olet tyytyväinen!</p>
<p>Kun olet valmis, tallenna projektitiedosto kurssihakemistoon pikanäppäimellä CTRL + S tai päävalikosta Projekti &gt; Tallenna.</p>
</div>
<div id="lisätehtävä-1-poista-rajalla-olevat-postinumeroalueet" class="section level2">
<h2>Lisätehtävä 1: Poista rajalla olevat postinumeroalueet</h2>
<p>Kuten huomasimme, postinumeroalueet eivät seuraa kuntarajoja, joten niitä pieniä alueita kuntarajojen lähellä voitaisiin siivota pois. Valitse Porvoon postinumeroalueet-tasoa Tasot-paneelista. Paina tämän jälkeen <strong>Editointi päälle</strong> kynä-symbolista. Valitse tämän jälkeen <strong>Valinta-työkalu</strong>.
<img src="img/harjoitus_2/image9.png" />
<img src="img/harjoitus_2/image3.png" /></p>
<p>Nyt voit valita kaikki ylimääräiset postinumeroalueosat painamalla aluetta ja tämän jälkeen <strong>Delete</strong>-näppäintä. JOs haluat valita useamman alueen kerralla niin pidä ctrl-näppäin alhaalla kun valitset alueita. Kun olet valmis niin muista tallentaa muutokset ja pistä editointi pois päältä.</p>
</div>
<div id="lisätehtävä-2-lisää-nimiöt" class="section level2">
<h2>Lisätehtävä 2: Lisää nimiöt</h2>
<p>Lisää nimiöt <strong>Nimiöt</strong>-välilehdeltä Kuvaustekniikka-ikkunasta. Jos haluat, että kartalla sanotaan postinumeroalueen nimi niin valitse arvoksi <strong>postinumeroalue</strong>-sarake. Voit vaihtoehtoisesti käyttää <strong>he_vakiy</strong>-saraketta, jos haluat esittää tarkan arvon siitä, kuinka moni henkilö asuu postinumeroalueella. Jos teksti on vaikeasti luettava voit esimerkiksi lisätä tekstille vyöhykkeen <strong>Vyöhyke</strong>-välilehdelle. Esimerkkikuva alla.</p>
<p><img src="img/harjoitus_2/image10.png" /></p>
<div class="hint-box">
<p><strong>Psst! Muista tallentaa QGIS-projekti harjoituksen lopuksi.</strong></p>
</div>

</div>
</div>
<p style="text-align: center;">
<a href="01_harjoitus_1.html"><button class="btn btn-default">Previous</button></a>
<a href="03_harjoitus_3.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>

<footer class="footer text-center">

<div class="footer-container text-center">

<div class="footer-info">
<h5 class="footer-title">Porvoon QGIS -jatkokoulutus</h5>
<span class="footer-version">v2024-05-24</span>
<div class="license"><img src="img/by-nd.svg" width="80px" alt="CC-BY-ND"></div>
</div>

<div class="footer-info">
<h5 class="footer-title footer-company">Gispo Oy.
<span class="footer-copyright-year">© 2024</span></h5>
<span class="footer-contact-info">Firdonkatu 2 T 63
<br>00520 Helsinki, Finland
<br>info@gispo.fi
</span>
</div>

</div>
</div>
</footer>
</div>


<script src="js/nav-script.js"></script>
<script src="js/answer-key.js"></script>

</body>
</html>

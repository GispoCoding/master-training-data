<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<link rel="icon" href="/master-training-data/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="/master-training-data/favicon.ico" type="image/x-icon">

<!-- Based on TemplateMo 553 Xtra Blog: https://templatemo.com/tm-553-xtra-blog -->

<meta name="robots" content="noindex, nofollow" />
<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="13 HARJOITUS 2.5: PÄÄSYNHALLINTA | Johdanto GeoServerin käyttöön" />
<meta property="og:type" content="book" />





<meta name="author" content="Gispo Oy" />

<meta name="date" content="2023-12-18" />


<meta name="description" content="13 HARJOITUS 2.5: PÄÄSYNHALLINTA | Johdanto GeoServerin käyttöön">

<title>13 HARJOITUS 2.5: PÄÄSYNHALLINTA | Johdanto GeoServerin käyttöön</title>




<link rel="stylesheet" href="custom.css" type="text/css" />

<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/hamburgers.css" rel="stylesheet">

</head>

<body>


<div class="main-content">
<!-- special comment to mark beginning of title section for bookdown -->
<!-- bookdown comments must be in this order: title, toc, body -->

<div class="main-content-wrapper">

<div class="row">
<div class="col-sm-12">
<header class="main-toc sidebar" id="sidebar">
<div class="sidebar-wrapper">

<button class="navbar-toggle hamburger hamburger--collapse" id="navbar-toggle"
type="button" onclick="navToggle()" aria-label="Toggle navigation">
<span class="hamburger-box"><span class="hamburger-inner"></span></span>
</button>

<div class="sidebar-title-wrapper">
<img alt="Logo" width="100" src="img/gispo_white_sm.png" class="sidebar-logo">
<div class="sidebar-title"><h1>Johdanto GeoServerin käyttöön</h1></div>
<div class="abstract-sidebar"><p>Johdantokurssi GeoServerin käyttöön.</p></div>
</div>

<nav class="sidebar-nav">
<div id="TOC" class="toc">
<ul>
<li class="has-sub"><a href="index.html#johdanto-geoserverin-käyttöön"><span class="toc-section-number">1</span> JOHDANTO GEOSERVERIN KÄYTTÖÖN</a>
<ul>
<li><a href="index.html#tervetuloa-geoserver-kurssille"><span class="toc-section-number">1.1</span> Tervetuloa GeoServer-kurssille!</a></li>
<li><a href="index.html#geoserverin-taustaa"><span class="toc-section-number">1.2</span> GeoServerin taustaa</a></li>
<li><a href="index.html#lukuohje"><span class="toc-section-number">1.3</span> Lukuohje</a></li>
<li><a href="index.html#mistä-lisätietoja"><span class="toc-section-number">1.4</span> Mistä lisätietoja?</a></li>
<li><a href="index.html#virheet"><span class="toc-section-number">1.5</span> Virheet</a></li>
<li><a href="index.html#lisenssi-ja-oikeudet"><span class="toc-section-number">1.6</span> Lisenssi ja oikeudet</a></li>
</ul></li>
<li class="has-sub"><a href="01_harjoitus_1.html#harjoitus-1.1-asennus-ja-käyttöönotto"><span class="toc-section-number">2</span> HARJOITUS 1.1: ASENNUS JA KÄYTTÖÖNOTTO</a>
<ul>
<li><a href="01_harjoitus_1.html#valmistautuminen"><span class="toc-section-number">2.1</span> <strong>Valmistautuminen</strong></a></li>
<li class="has-sub"><a href="01_harjoitus_1.html#päävalikko"><span class="toc-section-number">2.2</span> <strong>Päävalikko</strong></a>
<ul>
<li><a href="01_harjoitus_1.html#about-geoserver"><span class="toc-section-number">2.2.1</span> <strong>About GeoServer</strong></a></li>
<li><a href="01_harjoitus_1.html#layer-preview"><span class="toc-section-number">2.2.2</span> <strong>Layer Preview</strong></a></li>
<li><a href="01_harjoitus_1.html#service-capabilities-palvelutoiminnallisuudet"><span class="toc-section-number">2.2.3</span> <strong>Service Capabilities (palvelutoiminnallisuudet)</strong></a></li>
<li><a href="01_harjoitus_1.html#demos"><span class="toc-section-number">2.2.4</span> <strong>Demos</strong></a></li>
<li><a href="01_harjoitus_1.html#demo-requests"><span class="toc-section-number">2.2.5</span> <strong>Demo requests</strong></a></li>
</ul></li>
<li><a href="01_harjoitus_1.html#srs-list-ja-reprojection-console"><span class="toc-section-number">2.3</span> <strong>SRS List ja Reprojection console</strong></a></li>
<li><a href="01_harjoitus_1.html#wcs-request-builder"><span class="toc-section-number">2.4</span> <strong>WCS request builder</strong></a></li>
</ul></li>
<li class="has-sub"><a href="02_harjoitus_2.html#harjoitus-1.2-geoserverin-web-käyttöliittymä"><span class="toc-section-number">3</span> HARJOITUS 1.2: GEOSERVERIN WEB-KÄYTTÖLIITTYMÄ</a>
<ul>
<li><a href="02_harjoitus_2.html#valmistautuminen-1"><span class="toc-section-number">3.1</span> <strong>Valmistautuminen</strong></a></li>
<li><a href="02_harjoitus_2.html#ylläpitäjän-käyttöliittymä"><span class="toc-section-number">3.2</span> <strong>Ylläpitäjän käyttöliittymä</strong></a></li>
<li><a href="02_harjoitus_2.html#master--ja-administrator-käyttäjät"><span class="toc-section-number">3.3</span> <strong>Master- ja Administrator-käyttäjät</strong></a></li>
<li class="has-sub"><a href="02_harjoitus_2.html#about-status--asetukset"><span class="toc-section-number">3.4</span> <strong>About &amp; Status -asetukset</strong></a>
<ul>
<li><a href="02_harjoitus_2.html#contact-information"><span class="toc-section-number">3.4.1</span> <strong>Contact Information</strong></a></li>
<li><a href="02_harjoitus_2.html#server-status"><span class="toc-section-number">3.4.2</span> <strong>Server Status</strong></a></li>
<li><a href="02_harjoitus_2.html#geoserver-logs"><span class="toc-section-number">3.4.3</span> <strong>GeoServer Logs</strong></a></li>
</ul></li>
<li class="has-sub"><a href="02_harjoitus_2.html#data-valikko"><span class="toc-section-number">3.5</span> <strong>Data-valikko</strong></a>
<ul>
<li><a href="02_harjoitus_2.html#layer-preview-1"><span class="toc-section-number">3.5.1</span> <strong>Layer Preview</strong></a></li>
<li><a href="02_harjoitus_2.html#workspaces"><span class="toc-section-number">3.5.2</span> <strong>Workspaces</strong></a></li>
<li><a href="02_harjoitus_2.html#stores"><span class="toc-section-number">3.5.3</span> <strong>Stores</strong></a></li>
<li><a href="02_harjoitus_2.html#layers"><span class="toc-section-number">3.5.4</span> <strong>Layers</strong></a></li>
</ul></li>
<li><a href="02_harjoitus_2.html#layer-groups"><span class="toc-section-number">3.6</span> <strong>Layer Groups</strong></a></li>
<li><a href="02_harjoitus_2.html#styles"><span class="toc-section-number">3.7</span> <strong>Styles</strong></a></li>
<li><a href="02_harjoitus_2.html#services-1"><span class="toc-section-number">3.8</span> <strong>Services</strong></a></li>
<li><a href="02_harjoitus_2.html#settings"><span class="toc-section-number">3.9</span> <strong>Settings</strong></a></li>
<li><a href="02_harjoitus_2.html#tile-caching-1"><span class="toc-section-number">3.10</span> <strong>Tile Caching</strong></a></li>
<li><a href="02_harjoitus_2.html#security-1"><span class="toc-section-number">3.11</span> <strong>Security</strong></a></li>
</ul></li>
<li class="has-sub"><a href="03_harjoitus_3.html#harjoitus-1.3-vektoriaineistot"><span class="toc-section-number">4</span> Harjoitus 1.3: VEKTORIAINEISTOT</a>
<ul>
<li><a href="03_harjoitus_3.html#valmistautuminen-2"><span class="toc-section-number">4.1</span> <strong>Valmistautuminen</strong></a></li>
<li><a href="03_harjoitus_3.html#vektoriaineisto-storen-luominen"><span class="toc-section-number">4.2</span> <strong>Vektoriaineisto Storen luominen</strong></a></li>
<li><a href="03_harjoitus_3.html#vektoritason-julkaiseminen"><span class="toc-section-number">4.3</span> <strong>Vektoritason julkaiseminen</strong></a></li>
<li class="has-sub"><a href="03_harjoitus_3.html#data-asetukset"><span class="toc-section-number">4.4</span> <strong>Data asetukset</strong></a>
<ul>
<li><a href="03_harjoitus_3.html#coordinate-reference-systems"><span class="toc-section-number">4.4.1</span> <strong>Coordinate Reference Systems</strong></a></li>
<li><a href="03_harjoitus_3.html#bounding-boxes"><span class="toc-section-number">4.4.2</span> <strong>Bounding Boxes</strong></a></li>
<li><a href="03_harjoitus_3.html#feature-type-details"><span class="toc-section-number">4.4.3</span> <strong>Feature Type Details</strong></a></li>
</ul></li>
<li><a href="03_harjoitus_3.html#helsingin-tiestön-lisääminen"><span class="toc-section-number">4.5</span> <strong>Helsingin tiestön lisääminen</strong></a></li>
</ul></li>
<li class="has-sub"><a href="04_harjoitus_4.html#harjoitus-1.4-kuvaustekniikan-perusteet-sld"><span class="toc-section-number">5</span> HARJOITUS 1.4: KUVAUSTEKNIIKAN PERUSTEET (SLD)</a>
<ul>
<li><a href="04_harjoitus_4.html#valmistautuminen-3"><span class="toc-section-number">5.1</span> <strong>Valmistautuminen</strong></a></li>
<li><a href="04_harjoitus_4.html#geoserverin-kuvaustekniikka"><span class="toc-section-number">5.2</span> <strong>GeoServerin kuvaustekniikka</strong></a></li>
<li><a href="04_harjoitus_4.html#sld-kuvaustekniikka"><span class="toc-section-number">5.3</span> <strong>SLD-kuvaustekniikka</strong></a></li>
<li><a href="04_harjoitus_4.html#uuden-tyylin-luominen"><span class="toc-section-number">5.4</span> <strong>Uuden tyylin luominen</strong></a></li>
<li><a href="04_harjoitus_4.html#sld-kuvaustekniikan-käyttöönotto"><span class="toc-section-number">5.5</span> <strong>SLD-kuvaustekniikan käyttöönotto</strong></a></li>
<li><a href="04_harjoitus_4.html#sld-cookbook"><span class="toc-section-number">5.6</span> <strong>SLD Cookbook</strong></a></li>
<li><a href="04_harjoitus_4.html#sld-kuvaustekniikan-muokkaaminen"><span class="toc-section-number">5.7</span> <strong>SLD-kuvaustekniikan muokkaaminen</strong></a></li>
<li><a href="04_harjoitus_4.html#tiestön-tyylin-luominen"><span class="toc-section-number">5.8</span> <strong>Tiestön tyylin luominen</strong></a></li>
</ul></li>
<li class="has-sub"><a href="05_harjoitus_5.html#harjoitus-1.5-wms--ja-wcs-palvelut"><span class="toc-section-number">6</span> HARJOITUS 1.5: WMS- JA WCS-PALVELUT</a>
<ul>
<li><a href="05_harjoitus_5.html#valmistautuminen-4"><span class="toc-section-number">6.1</span> <strong>Valmistautuminen</strong></a></li>
<li><a href="05_harjoitus_5.html#ogc-standardit"><span class="toc-section-number">6.2</span> <strong>OGC-standardit</strong></a></li>
<li><a href="05_harjoitus_5.html#yleiset-karttapalveluasetukset"><span class="toc-section-number">6.3</span> <strong>Yleiset karttapalveluasetukset</strong></a></li>
<li><a href="05_harjoitus_5.html#wms"><span class="toc-section-number">6.4</span> <strong>WMS</strong></a></li>
<li><a href="05_harjoitus_5.html#workspace-kohtaiset-palvelimen-asetukset"><span class="toc-section-number">6.5</span> <strong>Workspace-kohtaiset palvelimen asetukset</strong></a></li>
<li><a href="05_harjoitus_5.html#wms-karttapalvelun-kuvan-dpi-resoluutio"><span class="toc-section-number">6.6</span> <strong>WMS-karttapalvelun kuvan DPI-resoluutio</strong></a></li>
<li><a href="05_harjoitus_5.html#wcs"><span class="toc-section-number">6.7</span> <strong>WCS</strong></a></li>
</ul></li>
<li class="has-sub"><a href="06_harjoitus_6.html#harjoitus-1.6-rasteriaineistot"><span class="toc-section-number">7</span> HARJOITUS 1.6: RASTERIAINEISTOT</a>
<ul>
<li><a href="06_harjoitus_6.html#valmistautuminen-5"><span class="toc-section-number">7.1</span> <strong>Valmistautuminen</strong></a></li>
<li><a href="06_harjoitus_6.html#rasteriaineiston-lisääminen"><span class="toc-section-number">7.2</span> <strong>Rasteriaineiston lisääminen</strong></a></li>
<li><a href="06_harjoitus_6.html#ilmakuvan-lisääminen"><span class="toc-section-number">7.3</span> <strong>Ilmakuvan lisääminen</strong></a></li>
<li><a href="06_harjoitus_6.html#image-mosaic"><span class="toc-section-number">7.4</span> <strong>Image Mosaic</strong></a></li>
<li class="has-sub"><a href="06_harjoitus_6.html#layer-groups-1"><span class="toc-section-number">7.5</span> <strong>Layer Groups</strong></a>
<ul>
<li><a href="06_harjoitus_6.html#ryhmätasojen-julkaisemisen-muoto"><span class="toc-section-number">7.5.1</span> <strong>Ryhmätasojen julkaisemisen muoto</strong></a></li>
<li><a href="06_harjoitus_6.html#muiden-wms-palvelujen-hyödyntäminen-cascading-wms"><span class="toc-section-number">7.5.2</span> <strong>Muiden WMS-palvelujen hyödyntäminen (cascading WMS)</strong></a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="07_harjoitus_7.html#harjoitus-1.7-paikkatietokannat"><span class="toc-section-number">8</span> HARJOITUS 1.7: PAIKKATIETOKANNAT</a>
<ul>
<li><a href="07_harjoitus_7.html#valmistautuminen-6"><span class="toc-section-number">8.1</span> <strong>Valmistautuminen</strong></a></li>
<li><a href="07_harjoitus_7.html#yhteyden-muodostaminen-paikkatietokantaan"><span class="toc-section-number">8.2</span> <strong>Yhteyden muodostaminen paikkatietokantaan</strong></a></li>
<li><a href="07_harjoitus_7.html#postgis-tason-lisääminen"><span class="toc-section-number">8.3</span> <strong>PostGIS-tason lisääminen</strong></a></li>
<li><a href="07_harjoitus_7.html#monikulmio--ja-viiva-tason-lisääminen-postgis-tietokannasta"><span class="toc-section-number">8.4</span> <strong>Monikulmio- ja viiva-tason lisääminen PostGIS-tietokannasta</strong></a></li>
<li><a href="07_harjoitus_7.html#tasojen-oletustyylien-asettaminen"><span class="toc-section-number">8.5</span> <strong>Tasojen oletustyylien asettaminen</strong></a></li>
<li><a href="07_harjoitus_7.html#sql-näkymät"><span class="toc-section-number">8.6</span> <strong>SQL-näkymät</strong></a></li>
<li><a href="07_harjoitus_7.html#paikkatietotoiminnot-sql-näkymien-kautta"><span class="toc-section-number">8.7</span> <strong>Paikkatietotoiminnot SQL-näkymien kautta</strong></a></li>
</ul></li>
<li class="has-sub"><a href="08_harjoitus_8.html#harjoitus-2.1-wfs-palvelut"><span class="toc-section-number">9</span> HARJOITUS 2.1: WFS-PALVELUT</a>
<ul>
<li><a href="08_harjoitus_8.html#valmistautuminen-7"><span class="toc-section-number">9.1</span> <strong>Valmistautuminen</strong></a></li>
<li><a href="08_harjoitus_8.html#ogc-standardit-1"><span class="toc-section-number">9.2</span> <strong>OGC-standardit</strong></a></li>
<li><a href="08_harjoitus_8.html#wfs-asetukset"><span class="toc-section-number">9.3</span> <strong>WFS-asetukset</strong></a></li>
<li><a href="08_harjoitus_8.html#tietomäärä-pyynnöissä"><span class="toc-section-number">9.4</span> <strong>Tietomäärä pyynnöissä</strong></a></li>
<li><a href="08_harjoitus_8.html#useiden-koordinaattijärjestelmien-määrittäminen"><span class="toc-section-number">9.5</span> <strong>Useiden koordinaattijärjestelmien määrittäminen</strong></a></li>
<li><a href="08_harjoitus_8.html#service-levels"><span class="toc-section-number">9.6</span> <strong>Service Levels</strong></a></li>
<li><a href="08_harjoitus_8.html#gml-asetukset"><span class="toc-section-number">9.7</span> <strong>GML-asetukset</strong></a></li>
<li><a href="08_harjoitus_8.html#workspace-kohtaiset-asetukset"><span class="toc-section-number">9.8</span> <strong>Workspace kohtaiset asetukset</strong></a></li>
<li><a href="08_harjoitus_8.html#editointi-wfs-t-palvelun-kautta"><span class="toc-section-number">9.9</span> <strong>Editointi WFS-T-palvelun kautta</strong></a></li>
<li><a href="08_harjoitus_8.html#muiden-wfs-palvelujen-hyödyntäminen-cascading-wfs"><span class="toc-section-number">9.10</span> <strong>Muiden WFS-palvelujen hyödyntäminen (cascading WFS)</strong></a></li>
</ul></li>
<li class="has-sub"><a href="09_harjoitus_9.html#harjoitus-2.2-karttatiilipalvelut"><span class="toc-section-number">10</span> HARJOITUS 2.2: KARTTATIILIPALVELUT</a>
<ul>
<li><a href="09_harjoitus_9.html#valmistautuminen-8"><span class="toc-section-number">10.1</span> <strong>Valmistautuminen</strong></a></li>
<li><a href="09_harjoitus_9.html#tile-caching-2"><span class="toc-section-number">10.2</span> <strong>Tile Caching</strong></a></li>
<li><a href="09_harjoitus_9.html#geowebcache-käyttöliittymä"><span class="toc-section-number">10.3</span> <strong>GeoWebCache-käyttöliittymä</strong></a></li>
<li><a href="09_harjoitus_9.html#tasokohtaiset-asetukset"><span class="toc-section-number">10.4</span> <strong>Tasokohtaiset asetukset</strong></a></li>
<li><a href="09_harjoitus_9.html#karttatiilien-esiluominen"><span class="toc-section-number">10.5</span> <strong>Karttatiilien esiluominen</strong></a></li>
<li><a href="09_harjoitus_9.html#karttatiilien-kovalevyn-käyttö"><span class="toc-section-number">10.6</span> <strong>Karttatiilien kovalevyn käyttö</strong></a></li>
<li><a href="09_harjoitus_9.html#karttatiiliruudukot"><span class="toc-section-number">10.7</span> <strong>Karttatiiliruudukot</strong></a></li>
<li><a href="09_harjoitus_9.html#jhs180-mukainen-karttatiiliruudukko"><span class="toc-section-number">10.8</span> <strong>JHS180 mukainen karttatiiliruudukko</strong></a></li>
<li><a href="09_harjoitus_9.html#uuden-karttatiiliruudukon-luominen"><span class="toc-section-number">10.9</span> <strong>Uuden karttatiiliruudukon luominen</strong></a></li>
<li><a href="09_harjoitus_9.html#suomen-openstreetmap-tiestö"><span class="toc-section-number">10.10</span> <strong>Suomen OpenStreetMap-tiestö</strong></a></li>
<li><a href="09_harjoitus_9.html#oman-karttatiiliruudukon-käyttöönotto"><span class="toc-section-number">10.11</span> <strong>Oman karttatiiliruudukon käyttöönotto</strong></a></li>
<li><a href="09_harjoitus_9.html#paikallisen-karttatiiliruudukon-muodostaminen"><span class="toc-section-number">10.12</span> <strong>Paikallisen karttatiiliruudukon muodostaminen</strong></a></li>
</ul></li>
<li class="has-sub"><a href="10_harjoitus_10.html#harjoitus-2.3-arkkitehtuuri-ja-käyttöönotto"><span class="toc-section-number">11</span> HARJOITUS 2.3: ARKKITEHTUURI JA KÄYTTÖÖNOTTO</a>
<ul>
<li><a href="10_harjoitus_10.html#valmistautuminen-9"><span class="toc-section-number">11.1</span> <strong>Valmistautuminen</strong></a></li>
<li><a href="10_harjoitus_10.html#yleistiedot-geoserverin-palvelimesta"><span class="toc-section-number">11.2</span> <strong>Yleistiedot GeoServerin palvelimesta</strong></a></li>
<li><a href="10_harjoitus_10.html#image-processing--asetukset"><span class="toc-section-number">11.3</span> <strong>Image Processing -asetukset</strong></a></li>
<li><a href="10_harjoitus_10.html#raster-access"><span class="toc-section-number">11.4</span> <strong>Raster Access</strong></a></li>
<li><a href="10_harjoitus_10.html#geoserverin-loki"><span class="toc-section-number">11.5</span> <strong>GeoServerin loki</strong></a></li>
<li><a href="10_harjoitus_10.html#rest-apin-toimintaa"><span class="toc-section-number">11.6</span> <strong>REST API:n toimintaa</strong></a></li>
<li><a href="10_harjoitus_10.html#monitor-lisäosan-käyttö"><span class="toc-section-number">11.7</span> <strong>Monitor-lisäosan käyttö</strong></a></li>
</ul></li>
<li class="has-sub"><a href="11_harjoitus_11.html#harjoitus-2.4-css-kuvaustekniikka"><span class="toc-section-number">12</span> HARJOITUS 2.4: CSS-KUVAUSTEKNIIKKA</a>
<ul>
<li><a href="11_harjoitus_11.html#valmistautuminen-10"><span class="toc-section-number">12.1</span> <strong>Valmistautuminen</strong></a></li>
<li><a href="11_harjoitus_11.html#css-tyylit"><span class="toc-section-number">12.2</span> <strong>CSS-tyylit</strong></a></li>
<li><a href="11_harjoitus_11.html#tyylin-luominen"><span class="toc-section-number">12.3</span> <strong>Tyylin luominen</strong></a></li>
<li><a href="11_harjoitus_11.html#aineiston-luokittelu"><span class="toc-section-number">12.4</span> <strong>Aineiston luokittelu</strong></a></li>
<li><a href="11_harjoitus_11.html#tyylin-virittäminen"><span class="toc-section-number">12.5</span> <strong>Tyylin virittäminen</strong></a></li>
<li><a href="11_harjoitus_11.html#luokkien-nimeäminen"><span class="toc-section-number">12.6</span> <strong>Luokkien nimeäminen</strong></a></li>
<li><a href="11_harjoitus_11.html#mittakaavaperusteinen-näkyvyys"><span class="toc-section-number">12.7</span> <strong>Mittakaavaperusteinen näkyvyys</strong></a></li>
<li><a href="11_harjoitus_11.html#tekstityksen-lisääminen"><span class="toc-section-number">12.8</span> <strong>Tekstityksen lisääminen</strong></a></li>
<li><a href="11_harjoitus_11.html#kuvaustekniikan-soveltaminen"><span class="toc-section-number">12.9</span> <strong>Kuvaustekniikan soveltaminen</strong></a></li>
</ul></li>
<li class="has-sub"><a href="12_harjoitus_12.html#harjoitus-2.5-pääsynhallinta"><span class="toc-section-number">13</span> HARJOITUS 2.5: PÄÄSYNHALLINTA</a>
<ul>
<li><a href="12_harjoitus_12.html#geoserverin-yleiset-turvallisuusasetukset"><span class="toc-section-number">13.1</span> <strong>GeoServerin yleiset turvallisuusasetukset</strong></a></li>
<li><a href="12_harjoitus_12.html#tunnistautuminen"><span class="toc-section-number">13.2</span> <strong>Tunnistautuminen</strong></a></li>
<li><a href="12_harjoitus_12.html#uuden-roolin-ja-käyttäjän-luominen"><span class="toc-section-number">13.3</span> <strong>Uuden roolin ja käyttäjän luominen</strong></a></li>
<li><a href="12_harjoitus_12.html#aineiston-käyttöoikeuksien-rajoittaminen"><span class="toc-section-number">13.4</span> <strong>Aineiston käyttöoikeuksien rajoittaminen</strong></a></li>
<li><a href="12_harjoitus_12.html#aineiston-käyttäjäkohtaiset-käyttöoikeudet"><span class="toc-section-number">13.5</span> <strong>Aineiston käyttäjäkohtaiset käyttöoikeudet</strong></a></li>
<li><a href="12_harjoitus_12.html#karttapalvelukohtaiset-oikeudet"><span class="toc-section-number">13.6</span> <strong>Karttapalvelukohtaiset oikeudet</strong></a></li>
</ul></li>
<li class="has-sub"><a href="13_harjoitus_13.html#harjoitus-2.6-suodattimet"><span class="toc-section-number">14</span> HARJOITUS 2.6: SUODATTIMET</a>
<ul>
<li><a href="13_harjoitus_13.html#valmistautuminen-11"><span class="toc-section-number">14.1</span> <strong>Valmistautuminen</strong></a></li>
<li><a href="13_harjoitus_13.html#ominaisuustietosuodattimet"><span class="toc-section-number">14.2</span> <strong>Ominaisuustietosuodattimet</strong></a></li>
</ul></li>
</ul>
</div>
</nav>
</div>
</header>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="harjoitus-2.5-pääsynhallinta" class="section level1" number="13">
<h1><span class="header-section-number">13</span> HARJOITUS 2.5: PÄÄSYNHALLINTA</h1>
<p><strong>Harjoituksen sisältö</strong></p>
<p>Harjoituksessa tutustutaan erilaisiin turvallisuusasetuksiin ja luodaan käyttäjiä ja rooleja. Asetetaan käyttöoikeuksia palveluille, aineistoille ja käyttäjille.</p>
<p><strong>Harjoituksen tavoite</strong></p>
<p>Harjoituksen jälkeen opiskelija osaa asettaa palvelimen perusasetuksia, luoda käyttäjiä ja rooleja. Opiskelija osaa myös asettaa käyttöoikeuksia palveluille ja aineistoille.</p>
<p><strong>Arvioitu kesto</strong></p>
<p>40 minuuttia.</p>
<div id="geoserverin-yleiset-turvallisuusasetukset" class="section level2" number="13.1">
<h2><span class="header-section-number">13.1</span> <strong>GeoServerin yleiset turvallisuusasetukset</strong></h2>
<p>Avaa <strong>Security → Settings</strong>. Tässä näkymässä voit määritellä yleisesti käytössä olevia turvallisuusasetuksia.</p>
<p><img src="img/harjoitus_12/image1.png" /></p>
<p>Tässä näkymässä voidaan myös määrittää, mikä <strong>Active role service</strong> (roolipalvelu) on käytössä. GeoServer sallii valittavaksi vain yhden roolipalvelumuodon palvelimelle. Roolipalvelu  sisältää kaikki palvelimen käyttäjä-, ryhmä- ja roolisäännöt. Pidetään <strong>default-</strong>roolipalvelu käytössä.</p>
<p><strong>Encryption</strong>-kohdan alta löytyy salaukseen liittyviä asetuksia. <strong>Encrypt web admin URL parameter</strong> -valinta salaa käyttäjäliittymän URL-parametreja selaimella.</p>
<p>Esimerkiksi, <strong>Security</strong>-valikon selaimen URL (missä nyt ollaan)… </p>
<p>… ilman salausta on:</p>
<div class="note-box">
<p><a href="http://localhost:8080/geoserver/web/?wicket:bookmarkablePage=:org.geoserver.security.web.SecuritySettingsPage" class="uri">http://localhost:8080/geoserver/web/?wicket:bookmarkablePage=:org.geoserver.security.web.SecuritySettingsPage</a></p>
</div>
<p>… salauksen kanssa se on:</p>
<div class="note-box">
<p><a href="http://localhost:8080/geoserver/web/?x=xAiOmyK-CQmBXDhILZrWpny28bhFcImLrBRYk0INwrBDmbzQlmeLRdiaRoNSaBSx3o6elVC9JMPcy5gkRljLXMKGrvMx3Yui3*ANGkUW-hE" class="uri">http://localhost:8080/geoserver/web/?x=xAiOmyK-CQmBXDhILZrWpny28bhFcImLrBRYk0INwrBDmbzQlmeLRdiaRoNSaBSx3o6elVC9JMPcy5gkRljLXMKGrvMx3Yui3*ANGkUW-hE</a></p>
</div>
<p>Huomaa, että palvelimessa ei ole asennettu Java policy -tiedostoja, joten vahvaa salausta ei voida ottaa käyttöön.</p>
<div class="hint-box">
<p>Psst! Java policy -tiedostojen asennus riippuu siitä, mikä Java ohjelmisto on palvelimessa asennettu. Jos asennettu on Open JDK, niin policy-tiedostot on oletuksena asennettu ja Strong cryptography käytössä. Jos taas asennetaan Oracle Java (joka on aikaisemmin ollut GeoServerin suositus) niin täytyy ladata Oraclen JCE policy jars ja purkaa ne JRE_HOME/lib/security -kansioon, jonka jälkeen Strong cryptography on käytössä.</p>
</div>
<p><strong>Password encryption</strong> määrittää, mikä salauksen tyyli on käytössä salasanojen varastossa: <strong>Plain text</strong>, <strong>Weak PBE</strong> ja <strong>Strong PBE</strong>.</p>
<p>Pidä <strong>Weak PBE</strong> ja paina <strong>Save</strong>.</p>
</div>
<div id="tunnistautuminen" class="section level2" number="13.2">
<h2><span class="header-section-number">13.2</span> <strong>Tunnistautuminen</strong></h2>
<p><strong>Authentication</strong>-asetusten (tunnistautuminen) kautta määritellään, miten GeoServer kerää käyttäjätunnuksia ja verifioi niitä.</p>
<p>Oletuksena GeoServerin asetukset sallivat palvelimen käytön (eli WMS-, WFS- ja WCS-palvelujen käytön) ilman mitään käyttäjätunnusta. Voit tarkistaa tämän seuraavasti.</p>
<p>Esikatsele tasoa <strong>ilmakuvat_keskusta</strong> samalla tavalla kuin aiemmin muita tasoja. Taso aukeaa selaimella ongelmitta, koska olet kirjautunut <strong>admin</strong>-tunnuksella.  Älä sulje esikatselusivua vielä.</p>
<p>Mene nyt takaisin GeoServerin ylläpitosivulle ja paina <strong>Logout</strong>.</p>
<p>Palaa esikatselusivulle ja lataa sivu uudelleen painamalla F5. Sivu latautuu edelleen normaalisti.</p>
<p>Muutetaan asetuksia nyt niin, että palvelujen käyttö vaatii käyttäjältä tunnistautumisen, eivätkä kirjautumattomat käyttäjät pysty enää käyttämään palveluja. Avaa taas <strong>Security → Authentication</strong>, etsi <strong>Filter Chains</strong> ja paina <strong>default</strong>-linkkiä.</p>
<p>Valitse nyt <strong>Chain filters</strong> -kohdasta, <strong>Selected</strong>-laatikosta <strong>anonymous</strong> ja siirrä se <strong>Available</strong>-laatikkoon käyttäen laatikkojen välistä löytyviä siirtonuolia. Anonymous-tunnistautumistyyli sallii palveluiden käytön tunnistautumattomille käyttäjille.</p>
<p><img src="img/harjoitus_12/image2.png" /></p>
<p>Nyt ainoastaan <strong>basic</strong>-tunnistautumisen tyyli on Selected-laatikossa eli käytössä. Tämä tarkoittaa sitä, että jatkossa tarvitaan aina tunnus ja salasana palvelimen käyttöön.</p>
<p><img src="img/harjoitus_12/image3.png" /></p>
<p>Paina nyt <strong>Close</strong> ja pääset takaisin <strong>Authentication</strong> valikkoon. Paina sitten <strong>Save</strong>, niin muutokset tulevat voimaan.</p>
<p>Jos kirjaudut nyt ulos GeoServeristä ja päivität aiemmin avattua esikatselusivua uudelleen, tunnuksella ja salasanalla tunnistautuminen on pakollista.</p>
<div class="hint-box">
<p>Psst! Palvelimen pääsynhallinnan asetuksia voi helpoiten testata käyttämällä eri web-selainta (Internet Explorer / FireFox / Chrome) tai selaimen yksityisyyden salaavaa toimintoa (Incognito-mode) normaalin selaimen rinnalla. Toisella selaimella ollaan kirjautuneet ylläpitäjän tunnuksilla (kuten tähän asti) ja toisella kokeillaan erilaisia kirjautumistiloja. Voit kysyä opastusta kouluttajalta tarvittaessa. Huomaa, että mahdollisesti sinun täytyy kirjautua ulos ja uudelleen sisään asetusten uudelleen lataamista varten.</p>
</div>
</div>
<div id="uuden-roolin-ja-käyttäjän-luominen" class="section level2" number="13.3">
<h2><span class="header-section-number">13.3</span> <strong>Uuden roolin ja käyttäjän luominen</strong></h2>
<p>GeoServerin pääsynhallinnassa keskeisessä asemassa ovat käyttäjä-, ryhmä- ja rooliasetukset.</p>
<p>Luodaan nyt uusi käyttäjä, jolla on vain oikeuksia käsitellä <strong>helsinki</strong>-workspace:n aineistoa.</p>
<p>Avaa päävalikosta <strong>Security → Users</strong>, <strong>Groups, and Roles</strong>.</p>
<p><strong>Services</strong>-välilehdestä löytyvät käyttäjien ja roolien pääsynhallinnan asetukset. Niihin tallennetaan tietoja siitä, ketkä käyttäjät kuuluvat mihinkin ryhmään tai mitä rooleja on ylipäätänsä määritelty pääsynhallinnassa.</p>
<p>Listalla on GeoServerin luomia <strong>default</strong>-asetuksia. Käytetään niitä nyt hyväksi.</p>
<p>Luodaan ensin rooli, johon uusi käyttäjä tulee kuulumaan.</p>
<div class="hint-box">
<p>Psst! Pääsynhallinnan hallinnoimisen helpottamiseksi, oikeudet määritellään roolikohtaisesti.</p>
</div>
<p>Avaa <strong>Roles</strong>-välilehti ja paina <strong>Add new role</strong>, anna uudelle roolille nimeksi <strong>hki_rooli</strong>.</p>
<p><img src="img/harjoitus_12/image4.png" /></p>
<p>Paina sitten <strong>Save</strong>.</p>
<p>Luodaan nyt uusi käyttäjä. Avaa <strong>Users/Groups</strong> -välilehti.</p>
<p>Huomaa, että täällä on määritelty <strong>admin</strong>-tunnus, jota olet käyttänyt koulutuksen aikana.</p>
<p><img src="img/harjoitus_12/image5.png" /></p>
<p>Luo uusi käyttäjä painamalla <strong>Add new user</strong>.</p>
<p>Laita käyttäjän nimeksi <strong>hki_kayttaja</strong> ja salasanaksi <strong>hki-kayttaja</strong>.</p>
<div class="hint-box">
<p>Psst! Huomaa, että erikoismerkit ja ääkköset ovat sallittuja GeoServerissä, mutta tarkoituksenmukaisuuden ja eri selainten välisten erojen vuoksi tässä koulutuksessa vältetään niiden käyttöä.</p>
</div>
<p>Uudelle käyttäjälle annetaan oikeuksia määrittämällä mitä rooleja käyttäjällä on. Roolit on määritelty <strong>Roles taken from active role service: default</strong> -kohdassa. Siinä on valittavissa muun muassa <strong>hki_rooli</strong>, lisää se <strong>Selected Roles</strong> -laatikkoon käyttäen laatikkojen välistä löytyviä siirtonuolia.</p>
<p>Paina sitten <strong>Save</strong>,niin uusi käyttäjä <strong>hki_kayttaja</strong> on luotu ja sillä on oikeudet <strong>hki_rooli</strong>:nmukaisesti. Koska <strong>hki_rooli</strong>:lle ei vielä ole määritelty oikeuksia, niin uudella käyttäjälläkään ei ole vielä määritelty mitään oikeuksia.</p>
<p><img src="img/harjoitus_12/image6.png" /></p>
<p>Kokeile uuden käyttäjän oikeudet kirjautumalla sisään uudella käyttäjätunnuksella. Voit joko kirjautua uudestaan tai käyttämällä toista selainta, kuten aikaisemmin on mainittu.</p>
</div>
<div id="aineiston-käyttöoikeuksien-rajoittaminen" class="section level2" number="13.4">
<h2><span class="header-section-number">13.4</span> <strong>Aineiston käyttöoikeuksien rajoittaminen</strong></h2>
<p>Avaa <strong>Security → Data.</strong> Tässä näkymässä näkyvät GeoServer-palvelimen käyttäjille (rooleille) määritetyt säännöt. Oletusasennuksessa vain kaksi sääntöä on määritelty eli luku (r) ja kirjoitusoikeudet (w):</p>
<p><img src="img/harjoitus_12/image7.png" /></p>
<p><strong>Rule path</strong> -sarakkeen alla olevat säännöt ovat muodoltaan <strong>*.*.r</strong>, joka antaa lukemisoikeudet kaikille tasoille kaikissa workspace:ssa.</p>
<p>Huomaa vielä, että <strong>Roles</strong>-sarakkeen alla on määritelty, mille rooleille oikeudet on myönnetty. Tässä on määritelty <strong>*</strong>-merkillä, joka tarkoittaa “kaikki roolit”.</p>
<p>Seuraava kuva esittää GeoServerin aineistosääntöjen määrittelyä:</p>
<p><img src="img/harjoitus_12/image8.png" /></p>
<p>Sääntö koostu kolmesta osasta, pisteellä eroteltuina. Ensimmäinen osa määrittelee workspacen, jolla sääntö on voimassa. Toinen osa määrittelee tason (layer), jolla sääntö on voimassa. Kolmas ja viimeinen osa määrittelee, mikä toiminto sallitaan. Toimintoja on kolme: lukeminen (r = read), kirjoittaminen (w = write) ja ylläpitäminen (a = admin).</p>
<div class="hint-box">
<p>Psst! Kaikissa osissa voidaan käyttää myös *-merkkiä, jolla voidaan viitata kaikkiin workspaceihin, tasoihin tai oikeuksiin.</p>
</div>
<p>Paina listalta <strong>*.*.r</strong>.</p>
<p>Tässä säännössä määritellään, että kaikkiin workspace:ihin ja kaikkiin tasoihin on lukemisoikeus.</p>
<p><img src="img/harjoitus_12/image9.png" /></p>
<p><strong>Roles</strong>-osion alla on määritelty se, että tämä sääntö kuuluu kaikille rooleille (<strong>Grant access to any role</strong>). Huomaa, että <strong>Grant access to any role</strong> on rastittu, joten kaikki roolit voivat lukea kaikki tasoja kaikista workspace:sta.</p>
<p>Rajoitetaan nyt sääntöä vain ylläpitäjien rooleille.</p>
<p><img src="img/harjoitus_12/image10.png" /></p>
<p>Rastita pois <strong>Grant access to any role</strong> ja lisää roolit <strong>Admin</strong> ja <strong>GROUP_ADMIN</strong> laatikkoon <strong>Selected Roles</strong>.</p>
<p>Paina lopuksi <strong>Save</strong>.</p>
<p>Tee lopuksi samat muutokset <strong>*.*.w</strong> -säännölle.</p>
<p><img src="img/harjoitus_12/image11.png" /></p>
<p>Näiden muutosten jälkeen, vain <strong>Admin</strong>-tunnuksella on lukemis- ja esikatseluoikeudet.</p>
<p>Kokeile nyt esikatsella jotain aineistoja <strong>hki_kayttaja</strong>-tunnuksella, yhtään aineistoa ei ole tarjolla.</p>
<p><img src="img/harjoitus_12/image12.png" /></p>
</div>
<div id="aineiston-käyttäjäkohtaiset-käyttöoikeudet" class="section level2" number="13.5">
<h2><span class="header-section-number">13.5</span> <strong>Aineiston käyttäjäkohtaiset käyttöoikeudet</strong></h2>
<p>Seuraavaksi määritellään <strong>hki_kayttaja</strong>-tunnukselle luku- ja kirjoitusoikeudet <strong>helsinki</strong>-workspace:en. Käytännössä pitää määritellä oikeudet roolille johon käyttäjä kuuluu, eli <strong>hki_rooli</strong>-roolille.</p>
<p>Tähän asti <strong>hki_rooli</strong>:lle ei ole annettu vielä mitään oikeuksia, täten <strong>hki_kayttaja</strong>:llä ei ole enää oikeuksia mihinkään aineistoon (ellei joku sääntö on määritelty kaikille rooleille käyttäen <strong>*</strong>-merkkiä).</p>
<p>Lisätään nyt <strong>hki_kayttaja</strong>:lle <strong>Read</strong>- ja <strong>Write</strong>-käyttöoikeudet, mutta vain <strong>helsinki-</strong>workspace:en. Tämä tapahtuu määrittämällä lisää aineiston sääntöjä.</p>
<div class="hint-box">
<p>Psst! Varmista, että olet kirjautunut ylläpitäjänä (tunnus: admin ja salasana: gispo).</p>
</div>
<p>Avaa taas <strong>Security → Data</strong> ja lisää nyt kaksi uutta sääntöä käyttäen <strong>Add new rule</strong> -valintaa.</p>
<p>Laita <strong>Workspace</strong>-kohtaan <strong>helsinki</strong> ja jätä <strong>Layer</strong>-arvoksi “<strong>*</strong>”, joka viittaa kaikkiin tasoihin.</p>
<p>Aseta <strong>Access mode</strong> -valikkoon arvoksi <strong>Read</strong>, joka antaa lukemisoikeudet edellä määrätyille aineistoihin.</p>
<p>Siirrä lopulta <strong>hki_rooli</strong> laatikosta <strong>Available Roles</strong>, laatikkoon <strong>Selected Roles</strong>.</p>
<p><img src="img/harjoitus_12/image13.png" /></p>
<p>Paina lopuksi <strong>Save</strong>. </p>
<p>Nyt <strong>hki_kayttaja</strong>:llä on read-oikeudet kaikkiin helsinki workspace:n tasoihin.</p>
<p>Lisää samalla tavalla vielä <strong>Write</strong>. Kirjoitusoikeudet sallivat käyttäjälle aineistojen muokkausoikeudet aina kun se on sallittu GeoServerissa, esimerkiksi WFS-T-palvelun kautta.</p>
<p>Kokeile uudelleen esikatsella aineistoja <strong>hki_kayttaja</strong>-tunnuksella. Esikatselu on mahdollista nyt kaikkien <strong>helsinki</strong>-workspacen tasojen kanssa, mutta muut tasot eivät näy.</p>
<p>Huomaa, että käyttäjällä ei ole kuitenkaan oikeuksia lisätä GeoServeriin uusia aineistoja tai tasoja. Voit antaa <strong>hki_kayttaja</strong>-tunnukselle <strong>Admin</strong>-oikeudet määrittämällä vielä ylläpitäjän oikeudet.</p>
<p>Loppujen lopuksi on luotu kolme uutta sääntöä, jotka ovat <strong>hki_rooli</strong>:lla voimassa.</p>
<p><img src="img/harjoitus_12/image14.png" /></p>
<p>Kirjaudu uudelleen palvelimelle käyttäen <strong>hki_kayttaja</strong>-tunnusta ja tarkista, että <strong>helsinki</strong>-workspacen tasot ovat käytettävissä ja aineiston ylläpitäminenkin onnistuu. Huomaa, että muut workspacet eivät näy lainkaan.<br />
</p>
<p><img src="img/harjoitus_12/image15.png" /></p>
</div>
<div id="karttapalvelukohtaiset-oikeudet" class="section level2" number="13.6">
<h2><span class="header-section-number">13.6</span> <strong>Karttapalvelukohtaiset oikeudet</strong></h2>
<p>Kirjaudu <strong>admin</strong>-tunnuksella uudelleen Geoserver palvelimelle.</p>
<p>Samalla tavalla kuin äsken määriteltiin käyttäjäkohtaisesti oikeudet yhdelle workspace:lle, voidaan asettaa oikeudet palvelukohtaisesti eri käyttäjille.</p>
<p>Avaa <strong>Security → Services</strong>. Määriteltynä on oletuksena vain yksi sääntö <strong>*.*</strong>. Samalla tavalla kuin aiemmin, tämä tarkoittaa se, että kaikki palvelujen toiminnot (säännön toinen <strong>*</strong>-merkki) ovat käytettävissä kaikissa palveluissa (säännön ensimmäinen <strong>*</strong>-merkki).</p>
<p>Seuraava kuva esittää GeoServerin palvelusääntöjen määrittelyä:</p>
<p><img src="img/harjoitus_12/image16.png" /></p>
<p>Avaa sääntö <strong>*.*</strong> ja rajoita sen käyttöä vain ylläpitäjille.</p>
<p><img src="img/harjoitus_12/image17.png" /></p>
<p>Paina <strong>Save</strong>. Nyt GeoServerin palvelut ovat käytettävissä ainoastaan ylläpito-rooleille.</p>
<p>Luo sen jälkeen sääntö, joka on käytössä vain <strong>hki_rooli</strong>:lle ja sillä on oikeudet käyttää kaikkia <strong>WMS-karttapalvelujen</strong> toimintoja.</p>
<div class="hint-box">
<p>Psst! Huomaa, että säännöt eivät välttämättä tule voimaan kuin vasta käyttäjän seuraavalla istunnolla.</p>
</div>
<p>Lopussa <strong>Service access rules list</strong> -näkymä näyttää tältä:</p>
<p><img src="img/harjoitus_12/image18.png" /></p>
<p>Kirjaudu taas <strong>hki_kayttaja</strong>:nä ja kokeile esikatsella jotain aineistoa sekä WMS- että WFS-karttapalveluna. WFS-esikatselu ei enää onnistu, koska kyseisellä käyttäjällä ei ole oikeuksia WFS-toimintoihin, vain WMS-toimintoihin. </p>
<p>Poista lopuksi edellisessä kuvassa näkyvä sääntö (wms.*), jotta wms-palvelu olisi taas käytettävissä kaikilla käyttäjillä.</p>

</div>
</div>
<p style="text-align: center;">
<a href="11_harjoitus_11.html"><button class="btn btn-default">Previous</button></a>
<a href="13_harjoitus_13.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>

<footer class="footer text-center">

<div class="footer-container text-center">

<div class="footer-info">
<h5 class="footer-title">Johdanto GeoServerin käyttöön</h5>
<span class="footer-version">v2023-12-18</span>
<div class="license"><img src="img/by-nd.svg" width="80px" alt="CC-BY-ND"></div>
</div>

<div class="footer-info">
<h5 class="footer-title footer-company">Gispo Oy.
<span class="footer-copyright-year">© 2023</span></h5>
<span class="footer-contact-info">Kumpulantie 3, 3 krs
<br>00520 Helsinki, Finland
<br>info@gispo.fi
</span>
</div>

</div>
</div>
</footer>
</div>


<script src="js/nav-script.js"></script>
<script src="js/answer-key.js"></script>

</body>
</html>

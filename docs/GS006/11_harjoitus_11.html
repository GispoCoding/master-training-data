<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<link rel="icon" href="/master-training-data/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="/master-training-data/favicon.ico" type="image/x-icon">

<!-- Based on TemplateMo 553 Xtra Blog: https://templatemo.com/tm-553-xtra-blog -->

<meta name="robots" content="noindex, nofollow" />
<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="HARJOITUS 2.4: CSS-KUVAUSTEKNIIKKA | Johdanto GeoServerin käyttöön" />
<meta property="og:type" content="book" />





<meta name="author" content="Gispo Oy" />

<meta name="date" content="2024-01-18" />


<meta name="description" content="HARJOITUS 2.4: CSS-KUVAUSTEKNIIKKA | Johdanto GeoServerin käyttöön">

<title>HARJOITUS 2.4: CSS-KUVAUSTEKNIIKKA | Johdanto GeoServerin käyttöön</title>




<link rel="stylesheet" href="custom.css" type="text/css" />

<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/hamburgers.css" rel="stylesheet">

</head>

<body>


<div class="main-content">
<!-- special comment to mark beginning of title section for bookdown -->
<!-- bookdown comments must be in this order: title, toc, body -->

<div class="main-content-wrapper">

<div class="row">
<div class="col-sm-12">
<header class="main-toc sidebar" id="sidebar">
<div class="sidebar-wrapper">

<button class="navbar-toggle hamburger hamburger--collapse" id="navbar-toggle"
type="button" onclick="navToggle()" aria-label="Toggle navigation">
<span class="hamburger-box"><span class="hamburger-inner"></span></span>
</button>

<div class="sidebar-title-wrapper">
<img alt="Logo" width="100" src="img/gispo_white_sm.png" class="sidebar-logo">
<div class="sidebar-title"><h1>Johdanto GeoServerin käyttöön</h1></div>
<div class="abstract-sidebar"><p>Johdantokurssi GeoServerin käyttöön.</p></div>
</div>

<nav class="sidebar-nav">
<div id="TOC" class="toc">
<ul>
<li class="has-sub"><a href="index.html#johdanto-geoserverin-käyttöön">JOHDANTO GEOSERVERIN KÄYTTÖÖN</a>
<ul>
<li><a href="index.html#tervetuloa-geoserver-kurssille">Tervetuloa GeoServer-kurssille!</a></li>
<li><a href="index.html#geoserverin-taustaa">GeoServerin taustaa</a></li>
<li><a href="index.html#lukuohje">Lukuohje</a></li>
<li><a href="index.html#mistä-lisätietoja">Mistä lisätietoja?</a></li>
<li><a href="index.html#virheet">Virheet</a></li>
<li><a href="index.html#lisenssi-ja-oikeudet">Lisenssi ja oikeudet</a></li>
</ul></li>
<li class="has-sub"><a href="01_harjoitus_1.html#harjoitus-1.1-asennus-ja-käyttöönotto">HARJOITUS 1.1: ASENNUS JA KÄYTTÖÖNOTTO</a>
<ul>
<li><a href="01_harjoitus_1.html#valmistautuminen"><strong>Valmistautuminen</strong></a></li>
<li class="has-sub"><a href="01_harjoitus_1.html#päävalikko"><strong>Päävalikko</strong></a>
<ul>
<li><a href="01_harjoitus_1.html#about-geoserver"><strong>About GeoServer</strong></a></li>
<li><a href="01_harjoitus_1.html#layer-preview"><strong>Layer Preview</strong></a></li>
<li><a href="01_harjoitus_1.html#service-capabilities-palvelutoiminnallisuudet"><strong>Service Capabilities (palvelutoiminnallisuudet)</strong></a></li>
<li><a href="01_harjoitus_1.html#demos"><strong>Demos</strong></a></li>
<li><a href="01_harjoitus_1.html#demo-requests"><strong>Demo requests</strong></a></li>
</ul></li>
<li><a href="01_harjoitus_1.html#srs-list-ja-reprojection-console"><strong>SRS List ja Reprojection console</strong></a></li>
<li><a href="01_harjoitus_1.html#wcs-request-builder"><strong>WCS request builder</strong></a></li>
</ul></li>
<li class="has-sub"><a href="02_harjoitus_2.html#harjoitus-1.2-geoserverin-web-käyttöliittymä">HARJOITUS 1.2: GEOSERVERIN WEB-KÄYTTÖLIITTYMÄ</a>
<ul>
<li><a href="02_harjoitus_2.html#valmistautuminen-1"><strong>Valmistautuminen</strong></a></li>
<li><a href="02_harjoitus_2.html#ylläpitäjän-käyttöliittymä"><strong>Ylläpitäjän käyttöliittymä</strong></a></li>
<li><a href="02_harjoitus_2.html#master--ja-administrator-käyttäjät"><strong>Master- ja Administrator-käyttäjät</strong></a></li>
<li class="has-sub"><a href="02_harjoitus_2.html#about-status--asetukset"><strong>About &amp; Status -asetukset</strong></a>
<ul>
<li><a href="02_harjoitus_2.html#contact-information"><strong>Contact Information</strong></a></li>
<li><a href="02_harjoitus_2.html#server-status"><strong>Server Status</strong></a></li>
<li><a href="02_harjoitus_2.html#geoserver-logs"><strong>GeoServer Logs</strong></a></li>
</ul></li>
<li class="has-sub"><a href="02_harjoitus_2.html#data-valikko"><strong>Data-valikko</strong></a>
<ul>
<li><a href="02_harjoitus_2.html#layer-preview-1"><strong>Layer Preview</strong></a></li>
<li><a href="02_harjoitus_2.html#workspaces"><strong>Workspaces</strong></a></li>
<li><a href="02_harjoitus_2.html#stores"><strong>Stores</strong></a></li>
<li><a href="02_harjoitus_2.html#layers"><strong>Layers</strong></a></li>
</ul></li>
<li><a href="02_harjoitus_2.html#layer-groups"><strong>Layer Groups</strong></a></li>
<li><a href="02_harjoitus_2.html#styles"><strong>Styles</strong></a></li>
<li><a href="02_harjoitus_2.html#services-1"><strong>Services</strong></a></li>
<li><a href="02_harjoitus_2.html#settings"><strong>Settings</strong></a></li>
<li><a href="02_harjoitus_2.html#tile-caching-1"><strong>Tile Caching</strong></a></li>
<li><a href="02_harjoitus_2.html#security-1"><strong>Security</strong></a></li>
</ul></li>
<li class="has-sub"><a href="03_harjoitus_3.html#harjoitus-1.3-vektoriaineistot">Harjoitus 1.3: VEKTORIAINEISTOT</a>
<ul>
<li><a href="03_harjoitus_3.html#valmistautuminen-2"><strong>Valmistautuminen</strong></a></li>
<li><a href="03_harjoitus_3.html#vektoriaineisto-storen-luominen"><strong>Vektoriaineisto Storen luominen</strong></a></li>
<li><a href="03_harjoitus_3.html#vektoritason-julkaiseminen"><strong>Vektoritason julkaiseminen</strong></a></li>
<li class="has-sub"><a href="03_harjoitus_3.html#data-asetukset"><strong>Data asetukset</strong></a>
<ul>
<li><a href="03_harjoitus_3.html#coordinate-reference-systems"><strong>Coordinate Reference Systems</strong></a></li>
<li><a href="03_harjoitus_3.html#bounding-boxes"><strong>Bounding Boxes</strong></a></li>
<li><a href="03_harjoitus_3.html#feature-type-details"><strong>Feature Type Details</strong></a></li>
</ul></li>
<li><a href="03_harjoitus_3.html#helsingin-tiestön-lisääminen"><strong>Helsingin tiestön lisääminen</strong></a></li>
</ul></li>
<li class="has-sub"><a href="04_harjoitus_4.html#harjoitus-1.4-kuvaustekniikan-perusteet-sld">HARJOITUS 1.4: KUVAUSTEKNIIKAN PERUSTEET (SLD)</a>
<ul>
<li><a href="04_harjoitus_4.html#valmistautuminen-3"><strong>Valmistautuminen</strong></a></li>
<li><a href="04_harjoitus_4.html#geoserverin-kuvaustekniikka"><strong>GeoServerin kuvaustekniikka</strong></a></li>
<li><a href="04_harjoitus_4.html#sld-kuvaustekniikka"><strong>SLD-kuvaustekniikka</strong></a></li>
<li><a href="04_harjoitus_4.html#uuden-tyylin-luominen"><strong>Uuden tyylin luominen</strong></a></li>
<li><a href="04_harjoitus_4.html#sld-kuvaustekniikan-käyttöönotto"><strong>SLD-kuvaustekniikan käyttöönotto</strong></a></li>
<li><a href="04_harjoitus_4.html#sld-cookbook"><strong>SLD Cookbook</strong></a></li>
<li><a href="04_harjoitus_4.html#sld-kuvaustekniikan-muokkaaminen"><strong>SLD-kuvaustekniikan muokkaaminen</strong></a></li>
<li><a href="04_harjoitus_4.html#tiestön-tyylin-luominen"><strong>Tiestön tyylin luominen</strong></a></li>
</ul></li>
<li class="has-sub"><a href="05_harjoitus_5.html#harjoitus-1.5-wms--ja-wcs-palvelut">HARJOITUS 1.5: WMS- JA WCS-PALVELUT</a>
<ul>
<li><a href="05_harjoitus_5.html#valmistautuminen-4"><strong>Valmistautuminen</strong></a></li>
<li><a href="05_harjoitus_5.html#ogc-standardit"><strong>OGC-standardit</strong></a></li>
<li><a href="05_harjoitus_5.html#yleiset-karttapalveluasetukset"><strong>Yleiset karttapalveluasetukset</strong></a></li>
<li><a href="05_harjoitus_5.html#wms"><strong>WMS</strong></a></li>
<li><a href="05_harjoitus_5.html#workspace-kohtaiset-palvelimen-asetukset"><strong>Workspace-kohtaiset palvelimen asetukset</strong></a></li>
<li><a href="05_harjoitus_5.html#wms-karttapalvelun-kuvan-dpi-resoluutio"><strong>WMS-karttapalvelun kuvan DPI-resoluutio</strong></a></li>
<li><a href="05_harjoitus_5.html#wcs"><strong>WCS</strong></a></li>
</ul></li>
<li class="has-sub"><a href="06_harjoitus_6.html#harjoitus-1.6-rasteriaineistot">HARJOITUS 1.6: RASTERIAINEISTOT</a>
<ul>
<li><a href="06_harjoitus_6.html#valmistautuminen-5"><strong>Valmistautuminen</strong></a></li>
<li><a href="06_harjoitus_6.html#rasteriaineiston-lisääminen"><strong>Rasteriaineiston lisääminen</strong></a></li>
<li><a href="06_harjoitus_6.html#ilmakuvan-lisääminen"><strong>Ilmakuvan lisääminen</strong></a></li>
<li><a href="06_harjoitus_6.html#image-mosaic"><strong>Image Mosaic</strong></a></li>
<li class="has-sub"><a href="06_harjoitus_6.html#layer-groups-1"><strong>Layer Groups</strong></a>
<ul>
<li><a href="06_harjoitus_6.html#ryhmätasojen-julkaisemisen-muoto"><strong>Ryhmätasojen julkaisemisen muoto</strong></a></li>
<li><a href="06_harjoitus_6.html#muiden-wms-palvelujen-hyödyntäminen-cascading-wms"><strong>Muiden WMS-palvelujen hyödyntäminen (cascading WMS)</strong></a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="07_harjoitus_7.html#harjoitus-1.7-paikkatietokannat">HARJOITUS 1.7: PAIKKATIETOKANNAT</a>
<ul>
<li><a href="07_harjoitus_7.html#valmistautuminen-6"><strong>Valmistautuminen</strong></a></li>
<li><a href="07_harjoitus_7.html#yhteyden-muodostaminen-paikkatietokantaan"><strong>Yhteyden muodostaminen paikkatietokantaan</strong></a></li>
<li><a href="07_harjoitus_7.html#postgis-tason-lisääminen"><strong>PostGIS-tason lisääminen</strong></a></li>
<li><a href="07_harjoitus_7.html#monikulmio--ja-viiva-tason-lisääminen-postgis-tietokannasta"><strong>Monikulmio- ja viiva-tason lisääminen PostGIS-tietokannasta</strong></a></li>
<li><a href="07_harjoitus_7.html#tasojen-oletustyylien-asettaminen"><strong>Tasojen oletustyylien asettaminen</strong></a></li>
<li><a href="07_harjoitus_7.html#sql-näkymät"><strong>SQL-näkymät</strong></a></li>
<li><a href="07_harjoitus_7.html#paikkatietotoiminnot-sql-näkymien-kautta"><strong>Paikkatietotoiminnot SQL-näkymien kautta</strong></a></li>
</ul></li>
<li class="has-sub"><a href="08_harjoitus_8.html#harjoitus-2.1-wfs-palvelut">HARJOITUS 2.1: WFS-PALVELUT</a>
<ul>
<li><a href="08_harjoitus_8.html#valmistautuminen-7"><strong>Valmistautuminen</strong></a></li>
<li><a href="08_harjoitus_8.html#ogc-standardit-1"><strong>OGC-standardit</strong></a></li>
<li><a href="08_harjoitus_8.html#wfs-asetukset"><strong>WFS-asetukset</strong></a></li>
<li><a href="08_harjoitus_8.html#tietomäärä-pyynnöissä"><strong>Tietomäärä pyynnöissä</strong></a></li>
<li><a href="08_harjoitus_8.html#useiden-koordinaattijärjestelmien-määrittäminen"><strong>Useiden koordinaattijärjestelmien määrittäminen</strong></a></li>
<li><a href="08_harjoitus_8.html#service-levels"><strong>Service Levels</strong></a></li>
<li><a href="08_harjoitus_8.html#gml-asetukset"><strong>GML-asetukset</strong></a></li>
<li><a href="08_harjoitus_8.html#workspace-kohtaiset-asetukset"><strong>Workspace kohtaiset asetukset</strong></a></li>
<li><a href="08_harjoitus_8.html#editointi-wfs-t-palvelun-kautta"><strong>Editointi WFS-T-palvelun kautta</strong></a></li>
<li><a href="08_harjoitus_8.html#muiden-wfs-palvelujen-hyödyntäminen-cascading-wfs"><strong>Muiden WFS-palvelujen hyödyntäminen (cascading WFS)</strong></a></li>
</ul></li>
<li class="has-sub"><a href="09_harjoitus_9.html#harjoitus-2.2-karttatiilipalvelut">HARJOITUS 2.2: KARTTATIILIPALVELUT</a>
<ul>
<li><a href="09_harjoitus_9.html#valmistautuminen-8"><strong>Valmistautuminen</strong></a></li>
<li><a href="09_harjoitus_9.html#tile-caching-2"><strong>Tile Caching</strong></a></li>
<li><a href="09_harjoitus_9.html#geowebcache-käyttöliittymä"><strong>GeoWebCache-käyttöliittymä</strong></a></li>
<li><a href="09_harjoitus_9.html#tasokohtaiset-asetukset"><strong>Tasokohtaiset asetukset</strong></a></li>
<li><a href="09_harjoitus_9.html#karttatiilien-esiluominen"><strong>Karttatiilien esiluominen</strong></a></li>
<li><a href="09_harjoitus_9.html#karttatiilien-kovalevyn-käyttö"><strong>Karttatiilien kovalevyn käyttö</strong></a></li>
<li><a href="09_harjoitus_9.html#karttatiiliruudukot"><strong>Karttatiiliruudukot</strong></a></li>
<li><a href="09_harjoitus_9.html#jhs180-mukainen-karttatiiliruudukko"><strong>JHS180 mukainen karttatiiliruudukko</strong></a></li>
<li><a href="09_harjoitus_9.html#uuden-karttatiiliruudukon-luominen"><strong>Uuden karttatiiliruudukon luominen</strong></a></li>
<li><a href="09_harjoitus_9.html#suomen-openstreetmap-tiestö"><strong>Suomen OpenStreetMap-tiestö</strong></a></li>
<li><a href="09_harjoitus_9.html#oman-karttatiiliruudukon-käyttöönotto"><strong>Oman karttatiiliruudukon käyttöönotto</strong></a></li>
<li><a href="09_harjoitus_9.html#paikallisen-karttatiiliruudukon-muodostaminen"><strong>Paikallisen karttatiiliruudukon muodostaminen</strong></a></li>
</ul></li>
<li class="has-sub"><a href="10_harjoitus_10.html#harjoitus-2.3-arkkitehtuuri-ja-käyttöönotto">HARJOITUS 2.3: ARKKITEHTUURI JA KÄYTTÖÖNOTTO</a>
<ul>
<li><a href="10_harjoitus_10.html#valmistautuminen-9"><strong>Valmistautuminen</strong></a></li>
<li><a href="10_harjoitus_10.html#yleistiedot-geoserverin-palvelimesta"><strong>Yleistiedot GeoServerin palvelimesta</strong></a></li>
<li><a href="10_harjoitus_10.html#image-processing--asetukset"><strong>Image Processing -asetukset</strong></a></li>
<li><a href="10_harjoitus_10.html#raster-access"><strong>Raster Access</strong></a></li>
<li><a href="10_harjoitus_10.html#geoserverin-loki"><strong>GeoServerin loki</strong></a></li>
<li><a href="10_harjoitus_10.html#rest-apin-toimintaa"><strong>REST API:n toimintaa</strong></a></li>
<li><a href="10_harjoitus_10.html#monitor-lisäosan-käyttö"><strong>Monitor-lisäosan käyttö</strong></a></li>
</ul></li>
<li class="has-sub"><a href="11_harjoitus_11.html#harjoitus-2.4-css-kuvaustekniikka">HARJOITUS 2.4: CSS-KUVAUSTEKNIIKKA</a>
<ul>
<li><a href="11_harjoitus_11.html#valmistautuminen-10"><strong>Valmistautuminen</strong></a></li>
<li><a href="11_harjoitus_11.html#css-tyylit"><strong>CSS-tyylit</strong></a></li>
<li><a href="11_harjoitus_11.html#tyylin-luominen"><strong>Tyylin luominen</strong></a></li>
<li><a href="11_harjoitus_11.html#aineiston-luokittelu"><strong>Aineiston luokittelu</strong></a></li>
<li><a href="11_harjoitus_11.html#tyylin-virittäminen"><strong>Tyylin virittäminen</strong></a></li>
<li><a href="11_harjoitus_11.html#luokkien-nimeäminen"><strong>Luokkien nimeäminen</strong></a></li>
<li><a href="11_harjoitus_11.html#mittakaavaperusteinen-näkyvyys"><strong>Mittakaavaperusteinen näkyvyys</strong></a></li>
<li><a href="11_harjoitus_11.html#tekstityksen-lisääminen"><strong>Tekstityksen lisääminen</strong></a></li>
<li><a href="11_harjoitus_11.html#kuvaustekniikan-soveltaminen"><strong>Kuvaustekniikan soveltaminen</strong></a></li>
</ul></li>
<li class="has-sub"><a href="12_harjoitus_12.html#harjoitus-2.5-pääsynhallinta">HARJOITUS 2.5: PÄÄSYNHALLINTA</a>
<ul>
<li><a href="12_harjoitus_12.html#geoserverin-yleiset-turvallisuusasetukset"><strong>GeoServerin yleiset turvallisuusasetukset</strong></a></li>
<li><a href="12_harjoitus_12.html#tunnistautuminen"><strong>Tunnistautuminen</strong></a></li>
<li><a href="12_harjoitus_12.html#uuden-roolin-ja-käyttäjän-luominen"><strong>Uuden roolin ja käyttäjän luominen</strong></a></li>
<li><a href="12_harjoitus_12.html#aineiston-käyttöoikeuksien-rajoittaminen"><strong>Aineiston käyttöoikeuksien rajoittaminen</strong></a></li>
<li><a href="12_harjoitus_12.html#aineiston-käyttäjäkohtaiset-käyttöoikeudet"><strong>Aineiston käyttäjäkohtaiset käyttöoikeudet</strong></a></li>
<li><a href="12_harjoitus_12.html#karttapalvelukohtaiset-oikeudet"><strong>Karttapalvelukohtaiset oikeudet</strong></a></li>
</ul></li>
<li class="has-sub"><a href="13_harjoitus_13.html#harjoitus-2.6-suodattimet">HARJOITUS 2.6: SUODATTIMET</a>
<ul>
<li><a href="13_harjoitus_13.html#valmistautuminen-11"><strong>Valmistautuminen</strong></a></li>
<li><a href="13_harjoitus_13.html#ominaisuustietosuodattimet"><strong>Ominaisuustietosuodattimet</strong></a></li>
</ul></li>
</ul>
</div>
</nav>
</div>
</header>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="harjoitus-2.4-css-kuvaustekniikka" class="section level1">
<h1>HARJOITUS 2.4: CSS-KUVAUSTEKNIIKKA</h1>
<p><strong>Harjoituksen sisältö</strong></p>
<p>Harjoituksessa käsitellään eri aineistoille sovellettavia kuvaustekniikoita ja hyödynnetään CSS-tyylejä karttojen visualisoinnissa.</p>
<p><strong>Harjoituksen tavoite</strong></p>
<p>Harjoituksen jälkeen opiskelija osaa hyödyntää peruskuvaustekniikoita GeoServerillä eri aineistojen visualisointiin käyttäen CSS-kieltä.</p>
<p><strong>Arvioitu kesto</strong></p>
<p>40 minuuttia.</p>
<div id="valmistautuminen-10" class="section level2">
<h2><strong>Valmistautuminen</strong></h2>
<p>Erilaisia aineistoja on ladattu GeoServer-palvelimelle. CSS-lisäosa on asennettu GeoServeriin.</p>
</div>
<div id="css-tyylit" class="section level2">
<h2><strong>CSS-tyylit</strong></h2>
<p>Kun CSS-lisäosa on asennettu, voidaan kirjoittaa kuvaustekniikkatyylejä CSS-kielellä, joka SLD-kieleen verrattuna on käyttäjäystävällisempi tapa muokata kuvaustekniikkaa.</p>
<p>Lisäosa toimii niin, että CSS-kielellä kirjoitettava koodi kääntyy SLD-kieleksi automaattisesti.</p>
</div>
<div id="tyylin-luominen" class="section level2">
<h2><strong>Tyylin luominen</strong></h2>
<p>Luodaan nyt uusi tyyli <strong>tiesto</strong>-tasolle.</p>
<p>Avaa päävalikosta <strong>Styles</strong> ja paina <strong>Add a new style</strong>.</p>
<p>Määrittele uuden tyylin nimeksi <strong>tiesto_css</strong> ja jätä workspace-kohta tyhjäksi.</p>
<p>Valitse <strong>Style Content</strong> valikosta geometriatyypiksi <strong>Line</strong> ja paina <strong>Generate</strong>.</p>
<p><strong>Style Editor</strong> -laatikossa on nyt seuraavankaltainen teksti:</p>
<div class="code-box">
<p>/* @title red line */<br />
* {<br />
    stroke: #ff3300;<br />
}<br />
</p>
</div>
<p>Paina <strong>Submit</strong>. Avaa <strong>Styles</strong>-valikosta juuri luomasi tyyli ja valitse <strong>Layer Preview</strong> -välilehti. Valitse esikatseltavaksi tasoksi tiestötaso.</p>
<p>Lähennä karttaa siten, että tiet alkavat näkyä kunnolla.</p>
<p>Pystyt muokkaamaan CSS-koodia myös <strong>Layer Preview</strong> -välilehdellä. Huomaa merkki “<strong>*</strong>”. Se tarkoittaa, että sääntö koskee kaikkia kohteita (samoin kuin *-merkki esimerkiksi tiedostojen listauksessa komentoriviltä). 
<img src="img/harjoitus_11/image1.png" /></p>
<p>Vaihda nyt <strong>stroke</strong>-komennon arvoksi <strong>blue</strong>.</p>
<div class="code-box">
<p>* { stroke: blue;</p>
</div>
<p>Paina <strong>Apply</strong> ja esikatsele karttaa. Nyt tiet näkyvät kartassa sinisinä.
<img src="img/harjoitus_11/image2.png" /></p>
</div>
<div id="aineiston-luokittelu" class="section level2">
<h2><strong>Aineiston luokittelu</strong></h2>
<p>Luokitellaan nyt tiet kahteen luokkaan: <strong>päätiet</strong> ja <strong>muut</strong>. Kullekin luokalle voidaan määritellä oma tyyli.</p>
<p>Päätiet luokitellaan korvaamalla merkki “<strong>*</strong>” seuraavalla koodilla (huomaa, että rajauksessa käytetään <strong>type</strong>-kentän tietoja):</p>
<div class="code-box">
<p>[type = ‘motorway’ or type = ‘primary’ or type = ‘secondary’ or type = ‘trunk’]<br />
{ stroke: red;}</p>
</div>
<p>Paina <strong>Apply</strong>. Nyt vain päätiet ovat näkyvissä.</p>
<p>Luo nyt tyyli muille teille.
<img src="img/harjoitus_11/image3.png" /></p>
<p>Muokkaa CSS-tyyliä vielä seuraavasti:</p>
<p>Kopioi pääteiden luokitus-koodi ja laita se koodilaatikon loppuun.</p>
<p>Korvaa “<strong>=</strong>”-merkki “<strong>eri kuin</strong>”-merkillä “<strong>&lt;&gt;</strong>”, niin tulee määrittelyksi tiet, jotka eivät kuulu edelliseen luokitukseen, eli toisin sanoen pienemmät tiet.</p>
<p>Vaihda vielä “<strong>or</strong>”-komento “<strong>and</strong>”-komennoksi. </p>
<p>Kopioi sitten vielä edellisen CSS-tyylin koodinpätkä (aaltosulut ja niiden sisällä oleva koodi) ja liitä kopioitu koodi muiden teiden luokittelu-osion jälkeen.</p>
<p>Vaihda muiden teiden tyyli niin, että viivan väri on musta (black).</p>
<p>Pääteiden ja muiden teiden tyylit näyttävät nyt tältä:</p>
<div class="code-box">
<p>[type = ‘motorway’ or type = ‘primary’ or type = ‘secondary’ or type = ‘trunk’]<br />
{ stroke: red;}<br />
[type &lt;&gt; ‘motorway’ and type &lt;&gt; ‘primary’ and type &lt;&gt; ‘secondary’ and type &lt;&gt; ‘trunk’]<br />
{ stroke: black;}<br />
</p>
</div>
<p>Esikatsele nyt tulos painamalla <strong>Apply</strong>.
<img src="img/harjoitus_11/image4.png" /></p>
</div>
<div id="tyylin-virittäminen" class="section level2">
<h2><strong>Tyylin virittäminen</strong></h2>
<p>Tiet ovat vielä vaikea erottaa toisistaan. Tehdään nyt pari parannusta tyyliin. Määrittele pääteiden viivan paksuus 0.5:ksi komennolla “<strong>stroke-width</strong>”. Lisää uusi rivi “<strong>stroke: red;</strong>”-kohdan jälkeen, johon kirjoitetaan “<strong>stroke-width: 0.5;</strong>”.</p>
<p>Määrittele samalla tavalla muille teille viivan paksuudeksi <strong>0.1</strong>:</p>
<div class="code-box">
<p>[type = ‘motorway’ or type = ‘primary’ or type = ‘secondary’ or type = ‘trunk’]<br />
{ stroke: red;<br />
stroke-width: 0.5;}<br />
[type &lt;&gt; ‘motorway’ and type &lt;&gt; ‘primary’ and type &lt;&gt; ‘secondary’ and type &lt;&gt; ‘trunk’]<br />
{ stroke: black;<br />
stroke-width: 0.1;}<br />
</p>
</div>
<p>Paina sitten <strong>Apply</strong> niin esikatselu päivittyy: päätiet ja pienemmät tiet erottuvat paremmin.</p>
<p>Kokeile seuraavaksi lisätä seuraava CSS-koodi, jonka avulla luodaan <strong>pääteille</strong> selkeämpi visualisointityyli.</p>
<p>Poista vanha “<strong>stroke</strong>”-määrittely ensin. Tarkoituksena on visualisoida pääteitä keltaisen ja mustan viivan avulla siten, että keltainen viiva on kapeampi ja jää mustan viivan päälle.  Pyydä kouluttajalta apua tarvittaessa ja korvaa pääteiden tyyli seuraavalla koodilla CSS-tyylien muokkaustilassa:</p>
<div class="code-box">
<p>stroke: black, yellow;<br />
stroke-width: 5px, 3px;<br />
z-index: 0, 3;</p>
</div>
<p>Huomaa, että tällä tavalla määrittelet pääteille päällekkäiset tyylit, jotka muodostavat monimutkaisempia visualisointeja.</p>
<p>Paina vielä <strong>Submit</strong> ja visualisoi lopputulos:
<img src="img/harjoitus_11/image5.png" /></p>
<p><strong>Z-index</strong> -komennolla määritellään, missä järjestyksessä eri tyylit piirtyvät. Indeksin arvolla 0 viitataan mustaan viivaan, jonka paksuus määritellään viiteen pikseliin. Indeksin arvo kolme viittaa keltaiseen viivaan , jonka paksuus on kolme pikseliä. Huomaa, kuinka Z-indeksin pienemmät arvot piirtyvät ensin ja suuremmat arvot myöhemmin.</p>
<div class="hint-box">
<p>Psst! Huomaa, että esikatselun selite ei ymmärrä näitä monimutkaisia tyylejä oikein. Työkalu vaatii kehitystä, mutta nopeaa esikatselua varten kartta on riittävän hyvä.</p>
</div>
<p>Kokeile vaihtaa symbolien järjestystä, värejä ja paksuuksia.</p>
<p>Koodisi näyttäisi tässä vaiheessa tältä:</p>
<div class="code-box">
<p> [type = ‘motorway’ or type = ‘primary’ or type = ‘secondary’ or type = ‘trunk’]<br />
     { stroke: black, yellow;<br />
     stroke-width: 5px, 3px;<br />
     z-index: 0, 3;}<br />
<br />
 [type &lt;&gt; ‘motorway’ and type &lt;&gt; ‘primary’ and type &lt;&gt; ‘secondary’ and type &lt;&gt; ‘trunk’]<br />
     { stroke: black;<br />
     stroke-width: 0.1;}<br />
</p>
</div>
</div>
<div id="luokkien-nimeäminen" class="section level2">
<h2><strong>Luokkien nimeäminen</strong></h2>
<p>Lisätehtävänä voit muokata selitteen tekstejä (Legend) CSS-kielellä. Eri tasojen selitteen teksti määritellään “<strong>/* @title</strong>”-avaus ja “<strong>*/</strong>”-sulkukomennoilla, ja ne sijoitetaan ennen hakasulkujen sisään asetettuja tasomäärityksiä seuraavalla tavalla. Tämän avulla saadaan nimet näkymään esikatselukartan selitteessä, ja samalla koodin lukeminen helpottuu.</p>
<p>Laita pääteiden määrittelyn eteen <strong>/* @title Paatiet */</strong>:</p>
<div class="code-box">
<p> /* @title Paatiet */<br />
 [type = ‘motorway’ or type = ‘primary’ or type = ‘secondary’ or type = ‘trunk’]<br />
     {stroke: black, yellow;<br />
     stroke-width: 5px, 3px;<br />
     z-index: 0, 3;}<br />
</p>
</div>
<p>Laita myös <strong>/* @title Sivutiet */</strong>: sivuteiden määrittelyn eteen samalla tavalla.</p>
<p>Lisää vielä koodin loppuun seuraava koodi: </p>
<div class="code-box">
<p>/* @title Tiesto */ * { font-family: Helvetica; }</p>
</div>
<p>Edellä esitetty ja viimeinen taso/koodi määrittää “<strong>*</strong>”-merkin toimesta kokonaisvaltaisia CSS-tyylisääntöjä, joissa tässä on määritelty “<strong>Tiesto</strong>”-etuliite symboliikan teksteihin ja <strong>Helvetica</strong>-tyyli kartan tekstityksiin.</p>
<p>Paina nyt <strong>Apply</strong>, jolloin kartta päivittyy.
<img src="img/harjoitus_11/image6.png" /></p>
<p>Koodisi tässä vaiheessa pitäisi näyttää jotenkin tältä:</p>
<div class="code-box">
<p> /* @title Paatiet */<br />
 [type = ‘motorway’ or type = ‘primary’ or type = ‘secondary’ or type = ‘trunk’]<br />
     { stroke: black, yellow;<br />
     stroke-width: 5px, 3px;<br />
     z-index: 0, 3;}<br />
<br />
 /* @title Sivutiet */<br />
 [type &lt;&gt; ‘motorway’ and type &lt;&gt; ‘primary’ and type &lt;&gt; ‘secondary’ and type &lt;&gt; ‘trunk’]<br />
     { stroke: black;<br />
     stroke-width: 0.1;}<br />
<br />
 /* @title Tiesto */<br />
  * { font-family: Helvetica;}<br />
</p>
</div>
</div>
<div id="mittakaavaperusteinen-näkyvyys" class="section level2">
<h2><strong>Mittakaavaperusteinen näkyvyys</strong></h2>
<p>Laitetaan vielä pätkä koodia, jonka avulla määrittelemme muille teille mittakaavaperusteinen rajaus, jotta ne eivät näkyisi kaikilla zoomaus-tasoilla:</p>
<p>Laita pienempien teiden tyylin eteen:</p>
<div class="code-box">
<p>[@scale &lt; 50000]</p>
</div>
<p>Paina <strong>Apply</strong>.</p>
<p>Nyt muut tiet näkyvät vain, jos <strong>zoom</strong>-taso on tarkempi kuin <strong>1:50 000</strong>. Ja kun zoomataan kauemmaksi, niin vain päätiet näkyvät kartalla:
<img src="img/harjoitus_11/image7.png" /></p>
<p>Koodisi tässä vaiheessa pitäisi näyttää jotenkin tältä:</p>
<div class="code-box">
<p> /* @title Paatiet */</p>
<p> [type = ‘motorway’ or type = ‘primary’ or type = ‘secondary’ or type = ‘trunk’]</p>
<p>     { stroke: black, yellow;</p>
<p>     stroke-width: 5px, 3px;</p>
<p>     z-index: 0, 3;}</p>
<p><br />
</p>
<p> /* @title Sivutiet */</p>
<p> [@scale &lt; 50000]</p>
<p> [type &lt;&gt; ‘motorway’ and type &lt;&gt; ‘primary’ and type &lt;&gt; ‘secondary’ and type &lt;&gt; ‘trunk’]</p>
<p>     { stroke: black;</p>
<p>     stroke-width: 0.1;}</p>
<p><br />
</p>
<p> /* @title Tiesto */ </p>
<p> * { font-family: Helvetica;}</p>
</div>
</div>
<div id="tekstityksen-lisääminen" class="section level2">
<h2><strong>Tekstityksen lisääminen</strong></h2>
<p>Lisätään nyt tekstit teille. </p>
<p>Avaa <strong>Layer Attributes</strong> -välilehti ja tarkista, että muun muassa <strong>name</strong>-sarake löytyy listalta. Ota se käyttöön lisäämällä <strong>label</strong>-komento pääteiden koodiin:</p>
<div class="code-box">
<p>label: [name];</p>
</div>
<p>Muuta vielä tekstien kirjaimia:</p>
<div class="code-box">
<p>font-weight: bold; font-fill: black; font-size: 12;</p>
</div>
<p>Esikatsele tuloksia painamalla <strong>Apply</strong>.</p>
<p>Tulos ei ole vielä hyvä, tarvitaan muutama teksteihin tarkoitettu erikoiskomento:</p>
<div class="code-box">
<p>-gt-label-follow-line: true; -gt-label-max-angle-delta: 90; -gt-label-max-displacement: 400; -gt-label-repeat: 150;</p>
</div>
<p><strong>-gt-label-*</strong> kertoo, miten tekstit eli labelit piirretään. Kokeile muuttaa edellisten komentojen arvoja.
<img src="img/harjoitus_11/image8.png" /></p>
<p>Lisää vielä puskuri teksteille:</p>
<div class="code-box">
<p>halo-color: white; halo-radius: 1;</p>
</div>
<p>Voit määritellä pienemmille teille myös nimiöt samalla tavalla kun äsken tehtiin pääteille.
<img src="img/harjoitus_11/image9.png" /></p>
<p>Tässä on esimerkkikoodi, jossa kaikki aiemmin mainitut tyylit ovat käytössä:</p>
<div class="code-box">
<p>/* @title Paatiet */</p>
<p>[type = ‘motorway’ or type = ‘primary’ or type = ‘secondary’ or type = ‘trunk’]</p>
<p>{ stroke: black, yellow;</p>
<p>stroke-width: 5px, 3px;</p>
<p>z-index: 0, 3;</p>
<p>label: [name];</p>
<p>font-weight: bold;</p>
<p>font-fill: black;</p>
<p>font-size: 12;</p>
<p>-gt-label-follow-line: true;</p>
<p>-gt-label-max-angle-delta: 90;</p>
<p>-gt-label-max-displacement: 400;</p>
<p>-gt-label-repeat: 150;</p>
<p>halo-color: white;</p>
<p>halo-radius: 1;}</p>
<p><br />
</p>
<p>/* @title Sivutiet */</p>
<p>[@scale &lt; 50000]</p>
<p>[type &lt;&gt; ‘motorway’ and type &lt;&gt; ‘primary’ and type &lt;&gt; ‘secondary’ and type &lt;&gt; ‘trunk’]</p>
<p>{ stroke: black;</p>
<p>stroke-width: 0.1;</p>
<p>label: [name];</p>
<p>font-fill: black;</p>
<p>font-size: 9;</p>
<p>-gt-label-follow-line: true;</p>
<p>-gt-label-max-angle-delta: 90;</p>
<p>-gt-label-max-displacement: 400;</p>
<p>-gt-label-repeat: 150;</p>
<p>halo-color: white;</p>
<p>halo-radius: 1;}</p>
<p><br />
</p>
<p>/* @title Tiesto */ </p>
<p>* { font-family: Helvetica;}</p>
</div>
<p>Tämän tyylin esikatselu näyttää kartassa tältä:
<img src="img/harjoitus_11/image10.png" /></p>
<p>Voit vielä kokeilla erilaisia komentoja virittämään karttasi tyyliä pidemmälle. GeoServer CSS-lisäosan nettisivuilla löytyy ohjeita ja esimerkkejä: <a href="http://docs.geoserver.org/stable/en/user/extensions/css/index.html" class="uri">http://docs.geoserver.org/stable/en/user/extensions/css/index.html</a>.</p>
</div>
<div id="kuvaustekniikan-soveltaminen" class="section level2">
<h2><strong>Kuvaustekniikan soveltaminen</strong></h2>
<p>Avaa <strong>Publishing</strong>-välilehti ja aseta ruksi <strong>Default</strong>-sarakkeeseen tiestötason kohdalle. Paina vielä <strong>Apply</strong> asettaaksesi luomasi tyylin tiestötason oletustyyliksi. Tarkista <strong>Data → Layers → tiesto → Publishing</strong>-sivulta, että oletustyyli tälle tasolle on nyt <strong>tiesto_css</strong>.</p>
<p>Voit vielä tehdä tyylipäivitykset <strong>taustakartta</strong>-tasolle. Avaa <strong>Data → Layer Groups → taustakartta</strong>, ja varmista, että <strong>Layers</strong>-taulussa <strong>Default Style</strong> on rastitettu kaikille tasoille. Paina lopuksi <strong>Save</strong>.</p>
<p>Esikatsele <strong>taustakartta</strong>-taso. Lopputulos näyttää tältä:</p>
<p><img src="img/harjoitus_11/image11.png" /></p>

</div>
</div>
<p style="text-align: center;">
<a href="10_harjoitus_10.html"><button class="btn btn-default">Previous</button></a>
<a href="12_harjoitus_12.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>

<footer class="footer text-center">

<div class="footer-container text-center">

<div class="footer-info">
<h5 class="footer-title">Johdanto GeoServerin käyttöön</h5>
<span class="footer-version">v2024-01-18</span>
<div class="license"><img src="img/by-nd.svg" width="80px" alt="CC-BY-ND"></div>
</div>

<div class="footer-info">
<h5 class="footer-title footer-company">Gispo Oy.
<span class="footer-copyright-year">© 2023</span></h5>
<span class="footer-contact-info">Kumpulantie 3, 3 krs
<br>00520 Helsinki, Finland
<br>info@gispo.fi
</span>
</div>

</div>
</div>
</footer>
</div>


<script src="js/nav-script.js"></script>
<script src="js/answer-key.js"></script>

</body>
</html>

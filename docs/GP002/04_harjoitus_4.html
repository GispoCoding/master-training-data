<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<link rel="icon" href="/master-training-data/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="/master-training-data/favicon.ico" type="image/x-icon">

<!-- Based on TemplateMo 553 Xtra Blog: https://templatemo.com/tm-553-xtra-blog -->

<meta name="robots" content="noindex, nofollow" />
<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Harjoitus 4: Paikkatietoaineiston nimiöinti ja luokittelu | Johdanto QGISin käyttöön - Harjoitukset" />
<meta property="og:type" content="book" />





<meta name="author" content="Gispo Ltd." />

<meta name="date" content="2024-01-18" />


<meta name="description" content="Harjoitus 4: Paikkatietoaineiston nimiöinti ja luokittelu | Johdanto QGISin käyttöön - Harjoitukset">

<title>Harjoitus 4: Paikkatietoaineiston nimiöinti ja luokittelu | Johdanto QGISin käyttöön - Harjoitukset</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="custom.css" type="text/css" />

<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/hamburgers.css" rel="stylesheet">

</head>

<body>


<div class="main-content">
<!-- special comment to mark beginning of title section for bookdown -->
<!-- bookdown comments must be in this order: title, toc, body -->

<div class="main-content-wrapper">

<div class="row">
<div class="col-sm-12">
<header class="main-toc sidebar" id="sidebar">
<div class="sidebar-wrapper">

<button class="navbar-toggle hamburger hamburger--collapse" id="navbar-toggle"
type="button" onclick="navToggle()" aria-label="Toggle navigation">
<span class="hamburger-box"><span class="hamburger-inner"></span></span>
</button>

<div class="sidebar-title-wrapper">
<img alt="Logo" width="100" src="img/gispo_white_sm.png" class="sidebar-logo">
<div class="sidebar-title"><h1>Johdanto QGISin käyttöön - Harjoitukset</h1></div>
<div class="abstract-sidebar"><p>Peruskurssi QGIS-ohjelmiston perusteisiin</p></div>
</div>

<nav class="sidebar-nav">
<div id="TOC" class="toc">
<ul>
<li><a href="index.html#johdanto-qgisin-käyttöön">Johdanto QGISin käyttöön</a></li>
<li class="has-sub"><a href="01_harjoitus_1.html#harjoitus-1-qgisin-käyttöliittymä">Harjoitus 1: QGISin käyttöliittymä</a>
<ul>
<li><a href="01_harjoitus_1.html#kurssimateriaalien-lataus">Kurssimateriaalien lataus</a></li>
<li><a href="01_harjoitus_1.html#qgisin-käyttöliittymä">QGISin käyttöliittymä</a></li>
<li><a href="01_harjoitus_1.html#qgis-käyttöliittymän-osat">QGIS-käyttöliittymän osat</a></li>
<li class="has-sub"><a href="01_harjoitus_1.html#kokeile-itse">Kokeile itse</a>
<ul>
<li><a href="01_harjoitus_1.html#attribuuttitaulu">Attribuuttitaulu</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="02_harjoitus_2.html#harjoitus-2-paikkatietoaineistot-ja--palvelut">Harjoitus 2: Paikkatietoaineistot ja -palvelut</a>
<ul>
<li><a href="02_harjoitus_2.html#harjoituksen-sisältö">Harjoituksen sisältö</a></li>
<li><a href="02_harjoitus_2.html#harjoituksen-tavoite">Harjoituksen tavoite</a></li>
<li><a href="02_harjoitus_2.html#valmistautuminen">Valmistautuminen</a></li>
<li><a href="02_harjoitus_2.html#wms-palvelun-lisääminen">WMS-palvelun lisääminen</a></li>
<li><a href="02_harjoitus_2.html#wfs-palvelun-lisääminen">WFS-palvelun lisääminen</a></li>
<li><a href="02_harjoitus_2.html#lisätehtävä-wfs-rajapintapalvelun-kysely-ja-suodatus-sql-lausekkeella">Lisätehtävä: WFS-rajapintapalvelun kysely ja suodatus SQL-lausekkeella</a></li>
</ul></li>
<li class="has-sub"><a href="03_harjoitus_3.html#harjoitus-3-paikkatietoaineiston-visualisointi">Harjoitus 3: Paikkatietoaineiston visualisointi</a>
<ul>
<li><a href="03_harjoitus_3.html#harjoituksen-sisältö-1">Harjoituksen sisältö</a></li>
<li><a href="03_harjoitus_3.html#harjoituksen-tavoite-1">Harjoituksen tavoite</a></li>
<li><a href="03_harjoitus_3.html#valmistautuminen-1">Valmistautuminen</a></li>
<li><a href="03_harjoitus_3.html#vektoriaineistojen-visualisointi">Vektoriaineistojen visualisointi</a></li>
<li><a href="03_harjoitus_3.html#viiva--ja-monikulmioaineiston-visualisointi">Viiva- ja monikulmioaineiston visualisointi</a></li>
<li><a href="03_harjoitus_3.html#lisätehtävä-monikulmioaineiston-edistynyt-visualisointi">Lisätehtävä: Monikulmioaineiston edistynyt visualisointi</a></li>
</ul></li>
<li class="has-sub"><a href="04_harjoitus_4.html#harjoitus-4-paikkatietoaineiston-nimiöinti-ja-luokittelu">Harjoitus 4: Paikkatietoaineiston nimiöinti ja luokittelu</a>
<ul>
<li><a href="04_harjoitus_4.html#harjoituksen-sisältö-2">Harjoituksen sisältö</a></li>
<li><a href="04_harjoitus_4.html#harjoituksen-tavoite-2">Harjoituksen tavoite</a></li>
<li><a href="04_harjoitus_4.html#valmistautuminen-2">Valmistautuminen</a></li>
<li><a href="04_harjoitus_4.html#nimiöt">Nimiöt</a></li>
<li><a href="04_harjoitus_4.html#nimiöiden-tyyli--ja-yleisasetukset">Nimiöiden tyyli- ja yleisasetukset</a></li>
<li><a href="04_harjoitus_4.html#nimiön-tekstityyli">Nimiön tekstityyli</a></li>
<li><a href="04_harjoitus_4.html#nimiöinnit-viivatasoilla">Nimiöinnit viivatasoilla</a></li>
<li><a href="04_harjoitus_4.html#vektoriaineiston-luokittelut">Vektoriaineiston luokittelut</a></li>
<li><a href="04_harjoitus_4.html#lisätehtävä-nimiöiden-piirtäminen">Lisätehtävä: nimiöiden piirtäminen</a></li>
</ul></li>
<li class="has-sub"><a href="05_harjoitus_5.html#harjoitus-5-karttatuloste">Harjoitus 5: Karttatuloste</a>
<ul>
<li><a href="05_harjoitus_5.html#harjoituksen-sisältö-3">Harjoituksen sisältö</a></li>
<li><a href="05_harjoitus_5.html#harjoituksen-tavoite-3">Harjoituksen tavoite</a></li>
<li><a href="05_harjoitus_5.html#valmistautuminen-3">Valmistautuminen</a></li>
<li><a href="05_harjoitus_5.html#karttatuloste">Karttatuloste</a></li>
<li><a href="05_harjoitus_5.html#lisätehtävä-kartta-atlas">Lisätehtävä: kartta-atlas</a></li>
</ul></li>
<li class="has-sub"><a href="06_harjoitus_6.html#harjoitus-6-paikkatietoaineiston-editointi">Harjoitus 6: Paikkatietoaineiston editointi</a>
<ul>
<li><a href="06_harjoitus_6.html#harjoituksen-sisältö-4">Harjoituksen sisältö</a></li>
<li><a href="06_harjoitus_6.html#harjoituksen-tavoite-4">Harjoituksen tavoite</a></li>
<li><a href="06_harjoitus_6.html#valmistautuminen-4">Valmistautuminen</a></li>
<li><a href="06_harjoitus_6.html#vektoriaineiston-geopackage-luominen">Vektoriaineiston (GeoPackage) luominen</a></li>
<li><a href="06_harjoitus_6.html#pohjakartan-lisääminen">Pohjakartan lisääminen</a></li>
<li><a href="06_harjoitus_6.html#digitoinnin-aloittaminen">Digitoinnin aloittaminen</a></li>
<li><a href="06_harjoitus_6.html#lisätehtävä-cad-digitointi">Lisätehtävä: CAD-digitointi</a></li>
<li><a href="06_harjoitus_6.html#lisätehtävä-ominaisuustietojen-lisääminen">Lisätehtävä: ominaisuustietojen lisääminen</a></li>
</ul></li>
<li class="has-sub"><a href="07_harjoitus_7.html#harjoitus-7-paikkatietoanalyysit">Harjoitus 7: Paikkatietoanalyysit</a>
<ul>
<li><a href="07_harjoitus_7.html#harjoituksen-sisältö-5">Harjoituksen sisältö</a></li>
<li><a href="07_harjoitus_7.html#harjoituksen-tavoite-5">Harjoituksen tavoite</a></li>
<li><a href="07_harjoitus_7.html#valmistautuminen-5">Valmistautuminen</a></li>
<li><a href="07_harjoitus_7.html#vektorianalyysit">Vektorianalyysit</a></li>
</ul></li>
<li class="has-sub"><a href="08_harjoitus_8.html#harjoitus-8-qgisin-lisäosat">Harjoitus 8: QGISin lisäosat</a>
<ul>
<li><a href="08_harjoitus_8.html#harjoituksen-sisältö-6">Harjoituksen sisältö</a></li>
<li><a href="08_harjoitus_8.html#harjoituksen-tavoite-6">Harjoituksen tavoite</a></li>
<li><a href="08_harjoitus_8.html#valmistautuminen-6">Valmistautuminen</a></li>
<li><a href="08_harjoitus_8.html#lisäosien-hallinta">Lisäosien hallinta</a></li>
<li><a href="08_harjoitus_8.html#quickmapservices">QuickMapServices</a></li>
<li><a href="08_harjoitus_8.html#quickosm">QuickOSM</a></li>
<li><a href="08_harjoitus_8.html#lisätehtävä-qgis2threejs">Lisätehtävä: Qgis2threejs</a></li>
<li><a href="08_harjoitus_8.html#lisätehtävä-qgis2web">Lisätehtävä: Qgis2web</a></li>
</ul></li>
</ul>
</div>
</nav>
</div>
</header>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="harjoitus-4-paikkatietoaineiston-nimiöinti-ja-luokittelu" class="section level1">
<h1>Harjoitus 4: Paikkatietoaineiston nimiöinti ja luokittelu</h1>
<div id="harjoituksen-sisältö-2" class="section level2">
<h2>Harjoituksen sisältö</h2>
<p>Harjoituksessa tutustutaan aineistojen nimiöinti- ja luokittelutoimintoihin.</p>
</div>
<div id="harjoituksen-tavoite-2" class="section level2">
<h2>Harjoituksen tavoite</h2>
<p>Koulutettava oppii muodostamaan eri tyyppisille paikkatietokohteille tekstitykset ja oppii luokittelemaan paikkatietoaineistoja QGISin työkaluilla.</p>
</div>
<div id="valmistautuminen-2" class="section level2">
<h2>Valmistautuminen</h2>
<p>Käynnistä QGIS-ohjelmisto. Avaa edellisen harjoituksen QGIS-projekti ja tallenna se nimellä (<strong>Projekti → Tallenna nimellä…</strong>) “<strong>QGIS_harjoitus_4</strong>”.
Avaa projektiin seuraavat aineistot:</p>
<ul>
<li><p><strong>…/Harjoitus 4/NaturaKohde.shp</strong></p></li>
<li><p><strong>…/Harjoitus 4/TieViiva.shp</strong></p></li>
<li><p><strong>…/Harjoitus 4/Vaestotietoruudukko_2019.gpkg</strong></p></li>
</ul>
<p>Aseta aluksi <strong>NaturaKohde_ma</strong> -taso näkyviin ja muut näkymättömäksi</p>
</div>
<div id="nimiöt" class="section level2">
<h2>Nimiöt</h2>
<p>QGIS käyttöliittymässä paikkatietokohteiden tekstitykseen viitataan termillä <strong>Nimiöt</strong> (englanninkielinen termi on “<strong>Labeling</strong>”).
Avaa <strong>NaturaKohde-tason Ominaisuudet-ikkuna</strong> ja valitse <strong>Nimiöt-välilehti</strong>.
Valitse <strong>Single labels</strong> ja <strong>Nimiöiden perustana -alasvetovalikosta</strong> nimiöinnissä käytettävän sarakkeen nimi, esim. “Nimi”.
Paina <strong>Käytä</strong>, niin kohteille syntyy nimiöt. Tämä nähdään nyt karttaikkunasta, johon nimiöt ovat jo päivittyneet:</p>
<p><img src="img/harjoitus_4/image11.png" /></p>
</div>
<div id="nimiöiden-tyyli--ja-yleisasetukset" class="section level2">
<h2>Nimiöiden tyyli- ja yleisasetukset</h2>
<p>Nimiöiden tekstien näkymistä kartalla voi määrittää monella eri tavalla. Alla kuvaukset QGISin nimiöiden muokkaamisen alateemoista:</p>
<table>
<colgroup>
<col width="10%" />
<col width="89%" />
</colgroup>
<tbody>
<tr class="odd">
<td align="center">Teksti</td>
<td align="left">Määritellään tekstin tyyli, väri ja muita yleisiä ominaisuuksia</td>
</tr>
<tr class="even">
<td align="center">Muotoilu</td>
<td align="left">Voit muodostaa useampirivisiä tekstejä, keskittää tekstiä ja määritellä lukujen muotoa</td>
</tr>
<tr class="odd">
<td align="center">Vyöhyke</td>
<td align="left">Luodaan tekstiä korostavat puskurit (tekstin reunukset)</td>
</tr>
<tr class="even">
<td align="center">Maski</td>
<td align="left">Tekstiä korostavat puskurit, joiden vaikutusta alla oleviin tasoihin voi säädellä Tason ominaisuuksien <strong>Masks</strong> -välilehdellä</td>
</tr>
<tr class="odd">
<td align="center">Tausta</td>
<td align="left">Tekstin taustalle voi piirtää suorakulmion tai muun muodon</td>
</tr>
<tr class="even">
<td align="center">Varjo</td>
<td align="left">Teksteille voidaan muodostaa varjo</td>
</tr>
<tr class="odd">
<td align="center">Callouts</td>
<td align="left">Voit siirtää nimiöitä karttanäkymässä vapaasti (Nimiöiden asetukset -työkalupalkin avulla) ja yhdistää tekstit niihin liittyviin kohteisiin viivalla</td>
</tr>
<tr class="even">
<td align="center">Sijoittaminen</td>
<td align="left">Määrittelee tekstien sijoittumista kohteiden suhteen</td>
</tr>
<tr class="odd">
<td align="center">Karttanäyttö</td>
<td align="left">Määrittelee tekstien mittakaavarajoja ja muita tekstien näkyvyyteen liittyviä asioita</td>
</tr>
</tbody>
</table>
</div>
<div id="nimiön-tekstityyli" class="section level2">
<h2>Nimiön tekstityyli</h2>
<p>Nimiöiden tekstien tyyleille voit asettaa esimerkiksi haluamasi fontin, tyylin ja koon.</p>
<p><img src="img/harjoitus_4/image24.png" /></p>
<p>Kokeile erilaisia tekstityylejä. Kokeile nimiöiden varjostamista, minkä avulla voimme korostaa nimiöitä taustalla olevista muista karttaelementeistä. Valitse <strong>Varjo-alateema</strong> ja rastita sitten <strong>Piirrä heittovarjo</strong>. Paina <strong>Käytä</strong>, jotta näkisit tulokset kartalla. Kokeile vaihtaa asetuksia kuten siirtymä, sumennussäde, peittävyys sekä väri, ja katso miten ne vaikuttavat nimiöinnin varjoon. Huomaat muutokset kartalta tai <strong>Esimerkki tekstistä -kentästä</strong>.</p>
<p><img src="img/harjoitus_4/image8.png" /></p>
<p>Toinen työkalu tekstin korostamiseen on tekstipuskuri. Valitse <strong>Vyöhyke-alateema</strong> ja lisää tekstille haluamasi puskuri rastimalla <strong>Piirrä tekstivyöhyke</strong>. Näin saat nimiöt erottumaan kartasta vielä paremmin. Kokeile erilaisia puskurin kokoja, värejä ja läpinäkyvyyttä.</p>
<p><img src="img/harjoitus_4/image5.png" /></p>
<p>Avaa vielä <strong>Sijoittaminen-alateema</strong> ja valitse <strong>Using perimeter</strong> (käyttäen kehää). Valitse <strong>Sallitut asemoinnit -kohdassa Viivan alla</strong>. Huomaa, että sallitut asemoinnit-kohdassa tulee aina olla vähintään yksi kohta valittuna. Jos useampi kohta on valittu, QGIS valitsee automaattisesti parhaan vaihtoehdon jokaiselle kohteelle. Paina OK, ja huomaa, että nyt nimiöt seuraavat monikulmioiden rajoja.</p>
<p><img src="img/harjoitus_4/image19.png" /></p>
<p><img src="img/harjoitus_4/image10.png" /></p>
<p>Tulos voi näyttää oudolta, etenkin jos karttaikkunan mittakaavaa on asetettu ison alueen kattavaksi. Lähennä karttaa, jotta nimiöt näkyisivät johdonmukaisemmin ja pohdi, missä tapauksessa tämänkaltainen nimiöinti olisi sopivinta.</p>
<p>Etsi vielä <strong>Sijoittaminen → Prioriteetti</strong> ja määritä se <strong>Korkeaksi</strong>.</p>
<p><img src="img/harjoitus_4/image16.png" /></p>
<p>Tällä tavalla annat preferenssin muokkaamasi tason nimiöille suhteessa muiden tasojen nimiöihin ja voit näin järjestää tärkeimpien ja ei niin tärkeiden tasojen nimiöintiä. Paina vielä <strong>OK</strong>.</p>
</div>
<div id="nimiöinnit-viivatasoilla" class="section level2">
<h2>Nimiöinnit viivatasoilla</h2>
<p>Samalla tavalla kuin juuri määritimme nimiöinnin monikulmiotasolle, voidaan niitä määrittää muillekin vektoriaineistoille. Avaa TieViiva-tason <strong>Ominaisuudet-ikkuna</strong> ja aktivoi nimiöiden käyttö päälle edellisessä harjoituksessa oppimallasi tavalla. Valitse <strong>Nimiöiden perustana -kohdan</strong> alavalikosta käytettäväksi nimiöintisarakkeeksi Tienumero. Paina <strong>Käytä</strong>, ja katso muutokset.
Avaa vielä nimiöiden <strong>Sijoittaminen-alateema</strong>, ja rastita <strong>Seuraa viivaa</strong> ja <strong>Viivan päällä -toiminnot</strong> päälle. Paina <strong>Käytä</strong>, ja tarkista, että nimiöinti toimii odotetulla tavalla.
Katso esimerkkiasetukset kuvasta:</p>
<p><img src="img/harjoitus_4/image13.png" /></p>
<p>Nyt nimiöt seuraavat viivoja paremmin. Huomaa myös, että kaikki nimiöt eivät nyt tule piirretyksi. Vaihda <strong>Maksimikulma kaarevien merkkien välillä -kohdan</strong> arvoja, niin pystyt muokkaamaan tekstin kaarevuuden reunaehtoja. Voit sulkea <strong>Ominaisuudet-ikkunan</strong> totuttuun tapaan painamalla <strong>OK</strong>.
Rastita vielä päälle <strong>Yhdistä kytketyt viivat</strong> välttääksesi kopioidut nimiöt (tämä löytyy Karttanäyttö-alateeman Kohteen valinnat -kohdan alta).</p>
<p><img src="img/harjoitus_4/image2.png" /></p>
</div>
<div id="vektoriaineiston-luokittelut" class="section level2">
<h2>Vektoriaineiston luokittelut</h2>
<p><strong>Väestötietoruudukko.gpkg</strong> on vektoriaineisto, tällä kertaa kuitenkin geopackage-formaatissa. Voit lisätä sen projektiin <strong>Tietolähteiden hallinta -työkalulla</strong>.
Tutustu ensin aineistoon. Avaa <strong>Attribuuttitaulu</strong> painamalla aineistotason nimen päällä hiiren oikealla näppäimellä. Ominaisuustietojen ymmärtämiseksi on hyvä tarkastella taulun sisältöä sekä tutustua samalla aineiston metatietoihin (tietoa aineistosta). Metatiedot löytyvät usein aineistontuottajan nettisivuilta tai paikkatietojen löytämiseen tarkoitetuista hakemistoista. Metatiedot kertovat mm. kuka aineiston on tuottanut, mihin tarkoitukseen se on tehty, millä mittakaavalla ja missä koordinaattijärjestelmässä.
Harjoituksessa käytettävän aineiston on tuottanut Helsingin seudun ympäristöpalvelut. Sen metatiedot löytyvät samasta kansiosta, <strong>Vaestoruudukko.pdf</strong> -tiedostosta. Avaa Vaestoruudukko.pdf-tiedosto ja tutustu eri kenttien (sarakkeiden) kuvauksiin. Sivun lopussa asiaa on hieman avattu.</p>
<p><img src="img/harjoitus_4/image25.png" style="width:60.0%" /></p>
<p>Ominaisuustietotauluissa sarakkeiden nimet ovat usein lyhennetyssä muodossa. Sarakkeiden merkitystä on tyypillisesti hiukan vaikea päätellä lyhenteistä. Tässä tapauksessa silmiinpistävää on lisäksi, että taulukossa luku 99 toistuu useaan otteeseen. Metatietojen avulla voimme kuitenkin selvittää muun muassa, miten ASUKKAITA sarakkeen tiedot on laskettu sekä millä tavalla tiedot on poistettu ruuduissa, joissa asuu 0-4 asukasta. IKA-sarakkeet sisältävät asukkaiden määrät ikäluokittain, mutta niille on annettu arvo 99 aina kun ruudukon asukasmäärä on ollut alle 100.</p>
<p>Tarkastele aineistoa myös kartalla. Huomaatko yhden ruudun, joka näyttää sijaitsevan kaukana kaakossa keskellä merta?</p>
<p><img src="img/harjoitus_4/image18.png" style="width:60.0%" /></p>
<p>Irralliseen ruutuun on tässä aineistossa sijoitettu kaikki ne pk-seudun asukkaat, joilla ei ole vakituista kotiosoitetta. Info-työkalulla nähdään, että tämän ruudun asukasmäärä on kymmenkertaisesti suurempi kuin minkään muun aineiston ruudun. Se siis vääristää luokittelua ja aineistosta laskettuja tilastoja (mm. keskimääräinen asukastiheys ruutua kohti).</p>
<p>Suodatetaan tämä ruutu pois aineistosta: laita editointi päälle ja klikkaa tason nimeä hiiren oikealla ja valitse <strong>Suodata…</strong> Kirjoita (tai valitse tietokentistä ja operaattoreista klikkaamalla) suodatuslausekkeeksi <strong>ASUKKAITA &lt; 5000</strong>. Voit testata suodatuksen toimivuutta klikkaamalla <strong>Testaa</strong>.</p>
<p><img src="img/harjoitus_4/image21.png" style="width:70.0%" /></p>
<p>Nyt QGIS näyttää aineistostasi vain ne ruudut, jotka täyttävät annetun ehdon eli joiden kokonaisasukasmäärä on alle 5000.
Paikkatietoineiston ymmärtäminen ennen sen käsittelyä on välttämätöntä. Voimme nyt esimerkiksi päättää, että haluamme tuottaa teemakartan ASUKKAITA-sarakkeen tietojen pohjalta. Näin pystymme myös paremmin tulkitsemaan karttaa ja valitsemaan visualisointia varten sopivat asetukset.
Avaa tason ominaisuudet ja valitse tason kuvaustekniikaksi <strong>Porrastettu</strong>.
Aseta vielä oheisen kuvan mukaiset <strong>Sarake-, Liukuväri-, Tila- ja Luokat-määrittelyt</strong>.</p>
<p><img src="img/harjoitus_4/image3.png" style="width:60.0%" /></p>
<p>Kun olet saanut ne asetettua, paina <strong>Luokittele</strong>, niin luokitus tulee näkyviin.
Voit myös muokata manuaalisesti arvovälejä kaksoisklikkaamalla <strong>Arvot-saraketta</strong> tai luokkien nimiä kaksoisklikkaamalla <strong>Selite-saraketta</strong>. Luokkien nimet näkyvät <strong>Tasot-paneelissa</strong> ja myös karttatulosteen selitteessä.
Paina <strong>Käytä</strong>, niin näet muutokset kartalla. Karttanäytölle pitäisi muodostua jokseenkin tämän näköinen tilastoteemakartta.</p>
<p><img src="img/harjoitus_4/image7.png" /></p>
<p>Jos <strong>Tasot-paneelissasi</strong> ei näy selitettä, paina tason nimen vasemmalla olevaa pientä nuolta ja selitteet avautuvat tason alle kuvan mukaisesti.
Palaa vielä <strong>Kuvaustekniikka-asetuksiin</strong> ja kokeile <strong>Tila → Tasaväli</strong> ja vaihda <strong>Luokat</strong>. Voit hävittää olemassa olevat luokat painamalla <strong>Poista kaikki</strong> (Delete All) ja sitten uudelleen luokitella painamalla <strong>Luokittele</strong>.
Kokeile myös vaihtaa luokkien lukumäärää, luokitustapoja ja värityksiä, kunnes löydät mielestäsi sopivan tuloksen.</p>
<p><img src="img/harjoitus_4/image17.png" /></p>
<p>Voit vertailla eri luokittelumenetelmiä ja tutkia aineiston jakaumaa histogrammin avulla. Histogrammi löytyy omalta välilehdeltään. Paina <strong>Load values</strong> saadaksesi histogrammin ja luokkien rajat näkyviin.</p>
<p><img src="img/harjoitus_4/image22.png" style="width:60.0%" /></p>
<p><img src="img/harjoitus_4/image6.png" /></p>
<p>Muuta vielä <strong>Symbolityyliä</strong>. Avaa uudelleen tason ominaisuustiedot ja paina <strong>Muuta…</strong>
<strong>Symbolin valitsija -ikkuna</strong> aukene. Valitse soveltuva kuviointi monikulmioille. Valitse sitten <strong>Yksinkertainen täyttö</strong> symbolitasolle ja aseta <strong>Piirron tyyliksi Ei viivaa</strong>. Paina <strong>OK</strong> ja <strong>OK</strong>. Zoomaa karttaan tutkimaan tulosta ja palaa tyyliasetuksiin, jos haluat tehdä vielä muutoksia.</p>
</div>
<div id="lisätehtävä-nimiöiden-piirtäminen" class="section level2">
<h2>Lisätehtävä: nimiöiden piirtäminen</h2>
<p>Loitonna karttanäkymää siten, että kaikki tasojesi kohteet tulevat näkyville. Voit tehdä tämän seuraavan työkalun avulla:</p>
<p><img src="img/harjoitus_4/image15.jpg" /></p>
<p>Joissakin tapauksissa olisi hyödyllistä määrittää nimiöt eri mittakaavoille erikseen.
Avaa taas <strong>NaturaKohde_ma-tason ominaisuudet</strong> ja valitse <strong>Nimiöt-sivupalkista</strong> ja <strong>Piirtäminen-alateema</strong>. Rastita <strong>Show all labels for this layer (including colliding labels)</strong>, varmista, ettei mittakaavaperusteinen näkyvyys ole valittuna ja paina <strong>Käytä</strong>. Nimiöiden piirtämiseen menee hetki, koska kaikki kartalla näkyvät monikulmiot nimetään. Kun kartta on piirtynyt huomaat, ettei kannata nimiöidä kaikkia monikulmioita kyseisellä mittakaavalla. Rastita tämä asetus pois päältä ja paina Käytä. Huomaa, että oletuksena QGIS jättää piirtämättä toisiinsa törmäävät nimiöt.
Rastita päälle <strong>Mittakaavaperusteinen näkyvyys</strong> ja laita <strong>Maksimi-kentän arvoksi</strong> 500 000:</p>
<p><img src="img/harjoitus_4/image12.png" /></p>
<p>Paina <strong>OK</strong>. Natura-kohteiden nimiöt eivät enää näy 1:500 000 mittakaavan ulkopuolella. Lähennä karttaan, kunnes nimiöt näkyvät uudelleen.
Voit myös testata muita tekstittämiseen liittyviä edistyneempiä toimia. Voit muun muassa ohjata nimiöiden tekstejä lausekepohjaisesti käyttämällä merkkijonoja QGISin lauseke-työkalulla:</p>
<p><img src="img/harjoitus_4/image20.png" /></p>
<p>Kokeile yhdistää kaksi saraketta samaan nimiöön <strong>|| -merkin</strong> avulla esimerkiksi seuraavalla tavalla: “<strong>sarake1 || sarake2</strong>”. Uuden rivin saat komennolla <strong><code>‘\n’</code></strong> . Huomaa, miten <strong>Tuloksen esikatselu -kohtaan</strong> tulee esille nimiöinnin oletettu tulos (aineistosta otetuilla esimerkkiarvoilla).</p>
<p><img src="img/harjoitus_4/image1.png" /></p>

</div>
</div>
<p style="text-align: center;">
<a href="03_harjoitus_3.html"><button class="btn btn-default">Previous</button></a>
<a href="05_harjoitus_5.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>

<footer class="footer text-center">

<div class="footer-container text-center">

<div class="footer-info">
<h5 class="footer-title">Johdanto QGISin käyttöön - Harjoitukset</h5>
<span class="footer-version">v2024-01-18</span>
<div class="license"><img src="img/by-nd.svg" width="80px" alt="CC-BY-ND"></div>
</div>

<div class="footer-info">
<h5 class="footer-title footer-company">Gispo Oy.
<span class="footer-copyright-year">© 2024</span></h5>
<span class="footer-contact-info">Kumpulantie 3, 3 krs
<br>00520 Helsinki, Finland
<br>info@gispo.fi
</span>
</div>

</div>
</div>
</footer>
</div>


<script src="js/nav-script.js"></script>
<script src="js/answer-key.js"></script>

</body>
</html>

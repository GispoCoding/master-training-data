<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<link rel="icon" href="/master-training-data/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="/master-training-data/favicon.ico" type="image/x-icon">

<!-- Based on TemplateMo 553 Xtra Blog: https://templatemo.com/tm-553-xtra-blog -->

<meta name="robots" content="noindex, nofollow" />
<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Harjoitus 1: Digitoinnin perusteet | QGIS kaavoittajille" />
<meta property="og:type" content="book" />





<meta name="author" content="Gispo Oy." />

<meta name="date" content="2024-01-18" />


<meta name="description" content="Harjoitus 1: Digitoinnin perusteet | QGIS kaavoittajille">

<title>Harjoitus 1: Digitoinnin perusteet | QGIS kaavoittajille</title>




<link rel="stylesheet" href="custom.css" type="text/css" />

<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/hamburgers.css" rel="stylesheet">

</head>

<body>


<div class="main-content">
<!-- special comment to mark beginning of title section for bookdown -->
<!-- bookdown comments must be in this order: title, toc, body -->

<div class="main-content-wrapper">

<div class="row">
<div class="col-sm-12">
<header class="main-toc sidebar" id="sidebar">
<div class="sidebar-wrapper">

<button class="navbar-toggle hamburger hamburger--collapse" id="navbar-toggle"
type="button" onclick="navToggle()" aria-label="Toggle navigation">
<span class="hamburger-box"><span class="hamburger-inner"></span></span>
</button>

<div class="sidebar-title-wrapper">
<img alt="Logo" width="100" src="img/gispo_white_sm.png" class="sidebar-logo">
<div class="sidebar-title"><h1>QGIS kaavoittajille</h1></div>
<div class="abstract-sidebar"><p>QGIS jatkokurssi kaavoittajille.</p></div>
</div>

<nav class="sidebar-nav">
<div id="TOC" class="toc">
<ul>
<li class="has-sub"><a href="index.html#template">Template</a>
<ul>
<li><a href="index.html#tervetuloa-kurssille">Tervetuloa kurssille!</a></li>
<li><a href="index.html#lukuohje">Lukuohje</a></li>
<li><a href="index.html#mistä-lisätietoja">Mistä lisätietoja?</a></li>
<li><a href="index.html#virheet">Virheet</a></li>
<li><a href="index.html#lisenssi-ja-oikeudet">Lisenssi ja oikeudet</a></li>
</ul></li>
<li class="has-sub"><a href="01_harjoitus_1.html#harjoitus-1-digitoinnin-perusteet">Harjoitus 1: Digitoinnin perusteet</a>
<ul>
<li><a href="01_harjoitus_1.html#valmistautuminen"><strong>Valmistautuminen</strong></a></li>
<li><a href="01_harjoitus_1.html#muokkauksen-yleisasetukset"><strong>Muokkauksen yleisasetukset</strong></a></li>
<li><a href="01_harjoitus_1.html#editoinnin-valmistelu"><strong>Editoinnin valmistelu</strong></a></li>
<li><a href="01_harjoitus_1.html#geopackagen-luonti"><strong>GeoPackagen luonti</strong></a></li>
<li><a href="01_harjoitus_1.html#aloita-geometrioiden-editointi"><strong>Aloita geometrioiden editointi</strong></a></li>
</ul></li>
<li class="has-sub"><a href="02_harjoitus_2.html#harjoitus-2-edistyneet-digitointiominaisuudet">Harjoitus 2: Edistyneet digitointiominaisuudet</a>
<ul>
<li><a href="02_harjoitus_2.html#valmistautuminen-1"><strong>Valmistautuminen</strong></a></li>
<li><a href="02_harjoitus_2.html#edistyneen-digitoinnin-ominaisuudet"><strong>Edistyneen digitoinnin ominaisuudet</strong></a></li>
<li><a href="02_harjoitus_2.html#negatiivinen-vyöhyke"><strong>Negatiivinen vyöhyke</strong></a></li>
<li><a href="02_harjoitus_2.html#kohteiden-editoiminen-alkuperäisessä-tiedostossa"><strong>Kohteiden editoiminen alkuperäisessä tiedostossa</strong></a></li>
<li><a href="02_harjoitus_2.html#kohteisiin-tarttuminen-snapping-ja-rakennustila-construction-mode"><strong>Kohteisiin tarttuminen (snapping) ja rakennustila (construction mode)</strong></a></li>
</ul></li>
<li class="has-sub"><a href="03_harjoitus_3.html#harjoitus-3-relaatiot">Harjoitus 3: Relaatiot</a>
<ul>
<li><a href="03_harjoitus_3.html#valmistautuminen-2"><strong>Valmistautuminen</strong></a></li>
<li><a href="03_harjoitus_3.html#aineistojen-valmistelu"><strong>Aineistojen valmistelu</strong></a></li>
<li><a href="03_harjoitus_3.html#editointi-relaatioita-hyödyntämällä"><strong>Editointi relaatioita hyödyntämällä</strong></a></li>
<li><a href="03_harjoitus_3.html#relaatioiden-sisäiset-säännöt"><strong>Relaatioiden sisäiset säännöt</strong></a></li>
<li><a href="03_harjoitus_3.html#lisätehtävä-automaattisesti-täydentyvät-arvot"><strong>Lisätehtävä: automaattisesti täydentyvät arvot</strong></a></li>
</ul></li>
<li class="has-sub"><a href="04_harjoitus_4.html#harjoitus-4-topologia-ja-geometria">Harjoitus 4: Topologia ja geometria</a>
<ul>
<li><a href="04_harjoitus_4.html#valmistautuminen-3"><strong>Valmistautuminen</strong></a></li>
<li><a href="04_harjoitus_4.html#virheellisen-aineiston-tuonti-qgisiin"><strong>Virheellisen aineiston tuonti QGISiin</strong></a></li>
<li><a href="04_harjoitus_4.html#tarkista-kelpoisuus-check-validity"><strong>Tarkista kelpoisuus (Check validity)</strong></a></li>
<li><a href="04_harjoitus_4.html#topologian-tarkastaja-topology-checker"><strong>Topologian tarkastaja (Topology checker)</strong></a></li>
<li><a href="04_harjoitus_4.html#tarkista-geometriat-geometry-checker"><strong>Tarkista geometriat (Geometry checker)</strong></a></li>
<li><a href="04_harjoitus_4.html#geometrian-ja-topologian-validointi-tasoa-muokattaessa"><strong>Geometrian ja topologian validointi tasoa muokattaessa</strong></a></li>
</ul></li>
<li class="has-sub"><a href="05_harjoitus_5.html#harjoitus-5-geokoodaus">Harjoitus 5: Geokoodaus</a>
<ul>
<li><a href="05_harjoitus_5.html#valmistautuminen-4"><strong>Valmistautuminen</strong></a></li>
<li><a href="05_harjoitus_5.html#geocoding--lisäosa"><strong>GeoCoding -lisäosa</strong></a></li>
<li><a href="05_harjoitus_5.html#digitransit.fi-geocoder"><strong>DigiTransit.fi Geocoder</strong></a></li>
</ul></li>
</ul>
</div>
</nav>
</div>
</header>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="harjoitus-1-digitoinnin-perusteet" class="section level1">
<h1>Harjoitus 1: Digitoinnin perusteet</h1>
<p><strong>Harjoituksen sisältö</strong></p>
<p>Harjoituksessa luodaan vektoriaineisto hyödyntäen digitoinnin perustyökaluja.</p>
<p><strong>Harjoituksen tavoite</strong></p>
<p>Harjoituksen jälkeen osallistuja osaa lisätä ja luoda tasoja QGISiin.</p>
<p><strong>Arvioitu kesto</strong></p>
<p>30 minuuttia.</p>
<div id="valmistautuminen" class="section level2">
<h2><strong>Valmistautuminen</strong></h2>
<p>Avaa uusi QGIS-projekti (<strong>Projekti &gt; Uusi</strong>) ja tallenna se nimellä “<strong>QGIS-harjoitus 1</strong>”.</p>
</div>
<div id="muokkauksen-yleisasetukset" class="section level2">
<h2><strong>Muokkauksen yleisasetukset</strong></h2>
<p>Muokkauksen toimintoa ja muita yleisiä muokkaustyöasetuksia voit muuttaa päävalikon ikkunassa <strong>Asetukset &gt; Valinnat &gt; Digitointi</strong>. Jos et esimerkiksi halua, että ominaisuustietojen muokkausikkuna tulee esiin jokaisen polygonin piirtämisen jälkeen niin rastita <strong>Älä näytä ominaisuustietojen pop-up lomaketta kohteen luonnin jälkeen</strong>. Jätä se kuitenkin päälle tällä kertaa. Kokeile myös vaihtaa kohteiden muokkausväri keltaiseksi (<strong>Kuminauha</strong>) ja <strong>Taitepisteen</strong> symbolin tyyli ja koko. Paina <strong>OK</strong>, niin asetukset tulevat voimaan.</p>
<p><img src="img/harjoitus_1/image1.png" /></p>
</div>
<div id="editoinnin-valmistelu" class="section level2">
<h2><strong>Editoinnin valmistelu</strong></h2>
<p>Aloitetaan tekemällä editointia helpottavia valmisteluja. Ensimmäisenä aktivoi omaan projektiisi <strong>Työkalut-valikosta</strong> seuraavat työkalut:</p>
<ul>
<li><p>Digitoinnin työkalupalkki</p></li>
<li><p>Digitoinnin lisätyökalujen palkki</p></li>
<li><p>Tarttumisen työkalut<br />
</p></li>
</ul>
<p><img src="img/harjoitus_1/image2.png" /></p>
<p>Usein ensimmäinen operaatio aineistojen luomisessa on taustakartan lisääminen. Taustakartta helpottaa liikkumista ja aineistojen tarkistusta. Uudemmissa QGISin versioissa on OpenStreetMapin taustakarttatasot saatavilla valmiina. Lisää taustakartta projektiin vasemmalta tuplaklikkaamalla  <strong>Selain-paneelista XYZ Tiles &gt; OpenStreetMap</strong>.</p>
<p><img src="img/harjoitus_1/image3.png" /></p>
<p>Zoomaa kartta Suomen kohdalle ja koska haluamme tehdä tarkkaa editointia oikeassa koordinaattijärjestelmässä, muutetaan projektin koordinaattijärjestelmä Suomen kansalliseen <strong>EUREF-FIN 3067</strong>. Klikkaa projektin oikeasta alakulmasta, jossa lukee tällä hetkellä EPSG:3857, jonka QGIS on asettanut taustakartan perusteella.</p>
<p>Paina tämän jälkeen <strong>OK,</strong> jonka jälkeen avautuva ikkuna kysyy sinulta koordinaattimuunnoksesta. Valitse uudestaan <strong>OK</strong> ja nyt projektisi on oikeassa koordinaattijärjestelmässä.</p>
</div>
<div id="geopackagen-luonti" class="section level2">
<h2><strong>GeoPackagen luonti</strong></h2>
<p>Luo uusi GeoPackage-taso valitsemalla päävalikosta <strong>Tasot &gt; Luo taso &gt; Uusi Geopackage-taso</strong>.</p>
<p><img src="img/harjoitus_1/image4.png" /></p>
<p>GeoPackage on tietokanta, jossa tieto on tallennettu tauluihin. Anna tietokannan nimeksi <strong>“Aluesuunnitelma”</strong> ja luotavan tason nimeksi <strong>“Alueet”</strong>. Valitse taulun geometriaksi polygoni ja koordinaattijärjestelmäksi <strong>3067</strong>. Lisää GeoPackageen nyt muutama muu uusi sarake seuraavasti:</p>
<ul>
<li><p>Nimi: Alueen_nimi / Tyyppi: teksti</p></li>
<li><p>Nimi: Rakennusala / Tyyppi: kokonaisluku</p></li>
<li><p>Nimi: Pinta-ala / Tyyppi: desimaalinumero</p></li>
</ul>
<p><img src="img/harjoitus_1/image5.png" /></p>
<p>Muista aina klikata <strong>Lisää kenttälistaan -painiketta</strong>, jotta jokainen kenttä ilmestyy listaukseen.</p>
<div class="hint-box">
<p>Integer, 32bit integer vai Integer 64 bit? Tässä tapauksessa valitsemme kentän tyypiksi Integerin, mutta mistä tietää jatkossa, kumman valitsee?<br />
<br />
Ensin käyttötarkoitus: mitä lukuja kenttään tallennetaan?<br />
<br />
16-bit unsigned integer voi sisältää luvun väliltä -32 768 - 32 767<br />
Signed: 0 - 65 535.<br />
32-bit unsigned integer voi sisältää luvun välillä −2 147 483 648 - 2 147 483 647<br />
Signed: 0 - 4 294 967 295.<br />
64-bit unsigned integer voi sisältää luvunvälillä −9 223 372 036 854 775 808 - 9 223 372 036 854 775 807<br />
Signed: 0 - 18 446 744 073 709,55.<br />
<br />
QGIS:issä (versioissa 3.10+) integerit ovat oletuksena signed-tyyppisiä, ellei toisin mainita.<br />
Toisakseen tulee harkittavaksi, mihin tuota tietoa tallennetaan: Geopackage, PostgreSQL vai joku muu? Mitä enemmän käytetään bittejä, sitä suuremmaksi kasvaa tiedostojen koot (myös PostgreSQL:ssä on tiedostoja tietokannan takana). Mitä suuremmat tiedostot, sitä hitaammin asiat sujuvat.<br />
<br />
Kolmanneksi pitäisi ottaa huomioon, että siirretäänkö kyseistä aineistoa johonkin toiseen järjestelmään / tiedostoformaattiin. Tuleeko tilanteita, joissa 64bit tallennettu tieto pitääkin viedä tiedostoon, joka ei salli noin suuria numeroita (kuten Shapefile).<br />
</p>
</div>
</div>
<div id="aloita-geometrioiden-editointi" class="section level2">
<h2><strong>Aloita geometrioiden editointi</strong></h2>
<p>Siirrytään editointialueelle hyödyntämällä <strong>sijaintikirjanmerkkejä</strong>. Valitse ylävalikosta <strong>Näytä &gt; Paneelit &gt; Sijaintikirjanmerkkien hallinta</strong>, jolloin QGIS-työtilaasi ilmestyy uusi paneeli (yleensä Selain-paneelin ja Tasot-paneelin väliin).</p>
<p><img src="img/harjoitus_1/image6.png" /><img src="img/harjoitus_1/image7.png" /></p>
<p>Tuo kurssihakemistoon tallennettu kirjanmerkki Editointialue.xml QGIS-projektiin klikkaamalla <strong>Vie/tuo kirjanmerkit -painiketta Sijaintikirjanmerkkien hallinta -paneelissa</strong>.</p>
<p><img src="img/harjoitus_1/image8.png" /></p>
<p>Listaan ilmestyy tuotu <strong>Editointialue-sijaintikirjanmerkki</strong>. Pääset sijaintikirjanmerkin osoittamalle alueelle klikkaamalla <strong>Zoomaa kirjanmerkkiin -painiketta</strong> <img src="img/harjoitus_1/image9.png" />.</p>
<p><img src="img/harjoitus_1/image10.png" /></p>
<p>Seuraavaksi aloitamme aineiston muokkaamisen klikkaamalla <strong>Tason muokkaus päälle/pois -painiketta</strong> <img src="img/harjoitus_1/image11.png" />. Huomaa, että <strong>Digitoinnin työkalupalkin</strong> työkalut aktivoituvat. </p>
<p><img src="img/harjoitus_1/image12.png" /></p>
<p>Valitse työkaluksi <strong>Lisää polygonikohde</strong> ja aloita alueiden digitointi. Hiiren vasemmalla näppäimellä voit klikata kartalla kohteen kulmapisteet. Kun monikulmio on valmis, niin napauta hiiren oikeaa näppäintä, uusi monikulmio on luotu. Digitoi alla olevaa kuvan punaista aluetta vastaava monikulmio.</p>
<p><img src="img/harjoitus_1/image13.png" /></p>
<p>Kun editointi on valmis, QGISiin avautuu <strong>Alueet - Kohteen attribuutit -ikkuna</strong>. Laita <strong>Alueen_nimi-kohtaan “Aluerajaus”</strong>. Muihin kenttiin ei vielä tarvitse täyttää mitään.</p>
<p><img src="img/harjoitus_1/image14.png" /></p>
<p>Luodaan seuraavaksi uusi GeoPackage-taso, mutta kokonaan uuden tietokannan luomisen sijaan teemme aikaisemmin luotuun <strong>Aluesuunnitelma-GeoPackageen</strong> vain uuden tason. Anna taulun nimeksi <strong>“Kulkureitit”</strong> ja lisää siihen seuraavat kentät:</p>
<ul>
<li><p>Nimi: Reitin_nimi / Tyyppi: teksti</p></li>
<li><p>Nimi: Pituus / Tyyppi: desimaalinumero</p></li>
</ul>
<p><img src="img/harjoitus_1/image15.png" /></p>
<p>Kun klikkaat <strong>OK</strong>, QGIS kysyy, haluatko korvata olemassa olevan GeoPackage-tiedoston (ja sen taulut) tällä tiedostolla vai lisätä tiedostoon/tietokantaan uuden tason. Valitse <strong>Lisää uusi taso</strong>, jolloin projektiin lisätään jälleen uusi taso.</p>
<p><img src="img/harjoitus_1/image16.png" /></p>
<p>Laita nyt vuorostaan tämän juuri luodun tason editointi päälle klikkaamalla <strong>Tason muokkaus päälle/pois -kuvaketta</strong> (kynäikoni). Koska haluamme että kulkureittien editointi alkaa aivan alueen reunasta, on kytkettävä <strong>Tarttuminen (snapping)</strong> päälle. Voit tehdä tämän klikkaamalla <strong>Ota tarttuminen käyttöön -painiketta</strong> <img src="img/harjoitus_1/image17.png" />. Valitse ensimmäisestä alasvetovalikosta <strong>Kaikki tasot</strong> ja toisesta valikosta kuvan mukaisesti <strong>Piste</strong> ja <strong>segmentti</strong>. Aseta <strong>tarttumisherkkyydeksi</strong> 12 pikseliä (oletusherkkyys).</p>
<p><img src="img/harjoitus_1/image18.png" /></p>
<p>Luodaan seuraavaksi kulkureitti, joka kulkee alueen läpi kuvan mukaisesti. Anna tälle kulkureitille nimeksi <strong>“Raitiotie”</strong>. Jätä pituus-kenttä vielä tyhjäksi.</p>
<p><img src="img/harjoitus_1/image19.png" /></p>
<p>Päivitetään attribuuttitaulun kenttiin puuttuvat tiedot <strong>Kentän arvojen laskin -työkalun</strong> avulla. Avaa laskin klikkaamalla <strong>Ominaisuustietojen työkalupalkista</strong> <strong>Avaa kentän arvojen laskin -painiketta</strong> <img src="img/harjoitus_1/image20.png" /> <img src="img/harjoitus_1/image21.png" /></p>
<p>Klikkaa avautuvasta ikkunasta <strong>Päivitä olemassa oleva kenttä</strong> ja valitse alasvetovalikosta <strong>Pituus-kenttä</strong>. Kirjoita <strong>Lauseke-kenttään</strong> lauseke, joka laskee viivamaisen kohteen pituuden sekä pyöristää sen yhden desimaalin tarkkuudelle:</p>
<div class="code-box">
<p>round($length, 1)</p>
</div>
<p><img src="img/harjoitus_1/image22.png" /></p>
<p>Laita lopuksi molempien tasojen tason muokkaus pois päältä klikkaamalla kynäkuvaketta. Tallenna kaikki muutokset tasoihin. Kun olet valmis, tallenna projektitiedosto kurssihakemistoon pikanäppäimellä <strong>CTRL + T</strong> (englanninkielisessä QGISissä <strong>CTRL + S</strong>) tai päävalikosta <strong>Projekti &gt; Tallenna</strong>.</p>
<div class="hint-box">
<p>Psst! Muista tukipalvelu! Koulutuksen jälkeen saat henkilökohtaista tukea Gispon tukipalvelun kautta lähettämällä yksinkertaisesti tuki@gispo.fi-sähköpostiosoitteeseen kysymyksen tai kommentin jostakin sinua mietityttävästä asiasta. Gispon tiimi auttaa sinua toimiesi äärellä. Kysymykset käsitellään henkilökohtaisesti.</p>
</div>

</div>
</div>
<p style="text-align: center;">
<a href="index.html"><button class="btn btn-default">Previous</button></a>
<a href="02_harjoitus_2.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>

<footer class="footer text-center">

<div class="footer-container text-center">

<div class="footer-info">
<h5 class="footer-title">QGIS kaavoittajille</h5>
<span class="footer-version">v2024-01-18</span>
<div class="license"><img src="img/by-nd.svg" width="80px" alt="CC-BY-ND"></div>
</div>

<div class="footer-info">
<h5 class="footer-title footer-company">Gispo Oy.
<span class="footer-copyright-year">© 2024</span></h5>
<span class="footer-contact-info">Kumpulantie 3, 3 krs
<br>00520 Helsinki, Finland
<br>info@gispo.fi
</span>
</div>

</div>
</div>
</footer>
</div>


<script src="js/nav-script.js"></script>
<script src="js/answer-key.js"></script>

</body>
</html>

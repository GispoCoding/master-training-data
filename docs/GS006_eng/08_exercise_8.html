<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<link rel="icon" href="/master-training-data/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="/master-training-data/favicon.ico" type="image/x-icon">

<!-- Based on TemplateMo 553 Xtra Blog: https://templatemo.com/tm-553-xtra-blog -->

<meta name="robots" content="noindex, nofollow" />
<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="EXERCISE 2.1: WFS SERVICES | Introduction to GeoServer" />
<meta property="og:type" content="book" />





<meta name="author" content="Gispo Oy" />

<meta name="date" content="2024-04-24" />


<meta name="description" content="EXERCISE 2.1: WFS SERVICES | Introduction to GeoServer">

<title>EXERCISE 2.1: WFS SERVICES | Introduction to GeoServer</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="custom.css" type="text/css" />

<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/hamburgers.css" rel="stylesheet">

</head>

<body>


<div class="main-content">
<!-- special comment to mark beginning of title section for bookdown -->
<!-- bookdown comments must be in this order: title, toc, body -->

<div class="main-content-wrapper">

<div class="row">
<div class="col-sm-12">
<header class="main-toc sidebar" id="sidebar">
<div class="sidebar-wrapper">

<button class="navbar-toggle hamburger hamburger--collapse" id="navbar-toggle"
type="button" onclick="navToggle()" aria-label="Toggle navigation">
<span class="hamburger-box"><span class="hamburger-inner"></span></span>
</button>

<div class="sidebar-title-wrapper">
<img alt="Logo" width="100" src="img/gispo_white_sm.png" class="sidebar-logo">
<div class="sidebar-title"><h1>Introduction to GeoServer</h1></div>
<div class="abstract-sidebar"><p>A course covering basic GeoServer topics.</p></div>
</div>

<nav class="sidebar-nav">
<div id="TOC" class="toc">
<ul>
<li class="has-sub"><a href="index.html#introduction-to-geoserver">INTRODUCTION TO GEOSERVER</a>
<ul>
<li><a href="index.html#welcome-to-this-geoserver-course">Welcome to this GeoServer Course!</a></li>
<li><a href="index.html#background-of-geoserver">Background of GeoServer</a></li>
<li><a href="index.html#how-to-read">How to read</a></li>
<li><a href="index.html#additional-information">Additional information</a></li>
<li><a href="index.html#mistakes">Mistakes</a></li>
<li><a href="index.html#license-and-permissions">License and permissions</a></li>
</ul></li>
<li class="has-sub"><a href="01_exercise_1.html#exercise-1.1-installation-and-commissioning">EXERCISE 1.1: INSTALLATION AND COMMISSIONING</a>
<ul>
<li><a href="01_exercise_1.html#preparation"><strong>Preparation</strong></a></li>
<li class="has-sub"><a href="01_exercise_1.html#main-menu"><strong>Main menu</strong></a>
<ul>
<li><a href="01_exercise_1.html#about-geoserver"><strong>About GeoServer</strong></a></li>
<li><a href="01_exercise_1.html#layer-preview"><strong>Layer Preview</strong></a></li>
<li><a href="01_exercise_1.html#service-capabilities"><strong>Service Capabilities</strong></a></li>
<li><a href="01_exercise_1.html#demos"><strong>Demos</strong></a></li>
<li><a href="01_exercise_1.html#demo-requests"><strong>Demo requests</strong></a></li>
</ul></li>
<li><a href="01_exercise_1.html#srs-list-ja-reprojection-console"><strong>SRS List ja Reprojection console</strong></a></li>
<li><a href="01_exercise_1.html#wcs-request-builder"><strong>WCS request builder</strong></a></li>
</ul></li>
<li class="has-sub"><a href="02_exercise_2.html#exercise-1.2-geoserver-web-interface">EXERCISE 1.2: GEOSERVER WEB INTERFACE</a>
<ul>
<li><a href="02_exercise_2.html#preparation-1"><strong>Preparation</strong></a></li>
<li><a href="02_exercise_2.html#administrators-interface"><strong>Administrator’s interface</strong></a></li>
<li><a href="02_exercise_2.html#master-and-administrator-users"><strong>Master and Administrator users</strong></a></li>
<li class="has-sub"><a href="02_exercise_2.html#about-status-settings"><strong>About &amp; Status settings</strong></a>
<ul>
<li><a href="02_exercise_2.html#contact-information"><strong>Contact Information</strong></a></li>
<li><a href="02_exercise_2.html#server-status"><strong>Server Status</strong></a></li>
<li><a href="02_exercise_2.html#geoserver-logs"><strong>GeoServer Logs</strong></a></li>
</ul></li>
<li class="has-sub"><a href="02_exercise_2.html#data-menu"><strong>Data menu</strong></a>
<ul>
<li><a href="02_exercise_2.html#layer-preview-1"><strong>Layer Preview</strong></a></li>
<li><a href="02_exercise_2.html#workspaces"><strong>Workspaces</strong></a></li>
<li><a href="02_exercise_2.html#stores"><strong>Stores</strong></a></li>
<li><a href="02_exercise_2.html#layers"><strong>Layers</strong></a></li>
</ul></li>
<li><a href="02_exercise_2.html#layer-groups"><strong>Layer Groups</strong></a></li>
<li><a href="02_exercise_2.html#styles"><strong>Styles</strong></a></li>
<li><a href="02_exercise_2.html#settings"><strong>Settings</strong></a></li>
<li><a href="02_exercise_2.html#tile-caching-1"><strong>Tile Caching</strong></a></li>
<li><a href="02_exercise_2.html#security-1"><strong>Security</strong></a></li>
</ul></li>
<li class="has-sub"><a href="03_exercise_3.html#exercise-1.3-vector-data">Exercise 1.3: VECTOR DATA</a>
<ul>
<li><a href="03_exercise_3.html#preparation-2"><strong>Preparation</strong></a></li>
<li><a href="03_exercise_3.html#creating-vector-data-store"><strong>Creating vector data store</strong></a></li>
<li><a href="03_exercise_3.html#publishing-vector-layer"><strong>Publishing vector layer</strong></a></li>
<li class="has-sub"><a href="03_exercise_3.html#data-settings"><strong>Data settings</strong></a>
<ul>
<li><a href="03_exercise_3.html#coordinate-reference-systems"><strong>Coordinate Reference Systems</strong></a></li>
<li><a href="03_exercise_3.html#bounding-boxes"><strong>Bounding Boxes</strong></a></li>
<li><a href="03_exercise_3.html#feature-type-details"><strong>Feature Type Details</strong></a></li>
</ul></li>
<li><a href="03_exercise_3.html#add-helsinki-road-network"><strong>Add Helsinki road network</strong></a></li>
</ul></li>
<li class="has-sub"><a href="04_exercise_4.html#exercise-1.4-basics-of-styling-sld">EXERCISE 1.4: BASICS OF STYLING (SLD)</a>
<ul>
<li><a href="04_exercise_4.html#preparation-3"><strong>Preparation</strong></a></li>
<li><a href="04_exercise_4.html#geoserverin-styling-technique"><strong>GeoServerin styling technique</strong></a></li>
<li><a href="04_exercise_4.html#sld-styling"><strong>SLD-styling</strong></a></li>
<li><a href="04_exercise_4.html#creating-a-new-style"><strong>Creating a new style</strong></a></li>
<li><a href="04_exercise_4.html#deployment-of-sld-styling-technique"><strong>Deployment of SLD styling technique</strong></a></li>
<li><a href="04_exercise_4.html#sld-cookbook"><strong>SLD Cookbook</strong></a></li>
<li><a href="04_exercise_4.html#editing-sld-styling-technique"><strong>Editing SLD styling technique</strong></a></li>
<li><a href="04_exercise_4.html#create-a-road-style"><strong>Create a road style</strong></a></li>
</ul></li>
<li class="has-sub"><a href="05_exercise_5.html#exercise-1.5-wms-and-wcs-services">EXERCISE 1.5: WMS AND WCS SERVICES</a>
<ul>
<li><a href="05_exercise_5.html#preparation-4"><strong>Preparation</strong></a></li>
<li><a href="05_exercise_5.html#ogc-standards"><strong>OGC-standards</strong></a></li>
<li><a href="05_exercise_5.html#general-map-service-settings"><strong>General map service settings</strong></a></li>
<li><a href="05_exercise_5.html#wms"><strong>WMS</strong></a></li>
<li><a href="05_exercise_5.html#workspace-specific-server-settings"><strong>Workspace-specific server settings</strong></a></li>
<li><a href="05_exercise_5.html#dpi-resolution-of-the-wms-map-service-image"><strong>DPI resolution of the WMS map service image</strong></a></li>
<li><a href="05_exercise_5.html#wcs"><strong>WCS</strong></a></li>
</ul></li>
<li class="has-sub"><a href="06_exercise_6.html#exercise-1.6-raster-data">EXERCISE 1.6: RASTER DATA</a>
<ul>
<li><a href="06_exercise_6.html#preparation-5"><strong>Preparation</strong></a></li>
<li><a href="06_exercise_6.html#adding-raster-data"><strong>Adding raster data</strong></a></li>
<li><a href="06_exercise_6.html#adding-an-aerial-image"><strong>Adding an aerial image</strong></a></li>
<li><a href="06_exercise_6.html#image-mosaic"><strong>Image Mosaic</strong></a></li>
<li class="has-sub"><a href="06_exercise_6.html#layer-groups-1"><strong>Layer Groups</strong></a>
<ul>
<li><a href="06_exercise_6.html#form-of-publication-of-group-layers"><strong>Form of publication of group layers</strong></a></li>
<li><a href="06_exercise_6.html#use-of-external-wms-services-cascading-wms"><strong>Use of external WMS services (cascading WMS)</strong></a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="07_exercise_7.html#exercise-1.7-spatial-databases">EXERCISE 1.7: SPATIAL DATABASES</a>
<ul>
<li><a href="07_exercise_7.html#preparation-6"><strong>Preparation</strong></a></li>
<li><a href="07_exercise_7.html#connecting-to-the-geodatabase"><strong>Connecting to the geodatabase</strong></a></li>
<li><a href="07_exercise_7.html#adding-a-postgis-layer"><strong>Adding a PostGIS layer</strong></a></li>
<li><a href="07_exercise_7.html#adding-a-polygon-and-line-layer-from-postgis-database"><strong>Adding a polygon and line layer from PostGIS database</strong></a></li>
<li><a href="07_exercise_7.html#setting-default-styles-for-layers"><strong>Setting default styles for layers</strong></a></li>
<li><a href="07_exercise_7.html#sql-views"><strong>SQL views</strong></a></li>
<li><a href="07_exercise_7.html#geographical-data-functions-via-sql-views"><strong>Geographical data functions via SQL views</strong></a></li>
</ul></li>
<li class="has-sub"><a href="08_exercise_8.html#exercise-2.1-wfs-services">EXERCISE 2.1: WFS SERVICES</a>
<ul>
<li><a href="08_exercise_8.html#preparation-7"><strong>Preparation</strong></a></li>
<li><a href="08_exercise_8.html#ogc-standards-1"><strong>OGC-standards</strong></a></li>
<li><a href="08_exercise_8.html#wfs-settings"><strong>WFS settings</strong></a></li>
<li><a href="08_exercise_8.html#number-of-data-requested"><strong>Number of data requested</strong></a></li>
<li><a href="08_exercise_8.html#specifying-several-coordinate-systems"><strong>Specifying several coordinate systems</strong></a></li>
<li><a href="08_exercise_8.html#service-levels"><strong>Service Levels</strong></a></li>
<li><a href="08_exercise_8.html#gml-settings"><strong>GML settings</strong></a></li>
<li><a href="08_exercise_8.html#workspace-specific-settings"><strong>Workspace specific settings</strong></a></li>
<li><a href="08_exercise_8.html#editing-via-wfs-t-service"><strong>Editing via WFS-T service</strong></a></li>
</ul></li>
<li class="has-sub"><a href="09_exercise_9.html#exercise-2.2-map-tile-services">EXERCISE 2.2: MAP TILE SERVICES</a>
<ul>
<li><a href="09_exercise_9.html#preparation-8"><strong>Preparation</strong></a></li>
<li><a href="09_exercise_9.html#tile-caching-2"><strong>Tile Caching</strong></a></li>
<li><a href="09_exercise_9.html#geowebcache-user-interface"><strong>GeoWebCache user interface</strong></a></li>
<li><a href="09_exercise_9.html#layer-specific-settings"><strong>Layer-specific settings</strong></a></li>
<li><a href="09_exercise_9.html#pre-creation-of-map-tiles"><strong>Pre-creation of map tiles</strong></a></li>
<li><a href="09_exercise_9.html#using-the-hard-disk-of-the-map-tiles"><strong>Using the hard disk of the map tiles</strong></a></li>
<li><a href="09_exercise_9.html#map-tile-grids"><strong>Map tile grids</strong></a></li>
<li><a href="09_exercise_9.html#map-tile-grid-according-to-jhs180"><strong>Map tile grid according to JHS180</strong></a></li>
<li><a href="09_exercise_9.html#creating-a-new-gridset"><strong>Creating a new gridset</strong></a></li>
<li><a href="09_exercise_9.html#finlands-openstreetmap-road-network"><strong>Finland’s OpenStreetMap road network</strong></a></li>
<li><a href="09_exercise_9.html#using-your-own-map-tile-grid"><strong>Using your own map tile grid</strong></a></li>
<li><a href="09_exercise_9.html#create-a-local-map-tile-grid"><strong>Create a local map tile grid</strong></a></li>
</ul></li>
<li class="has-sub"><a href="10_exercise_10.html#exercise-2.3-architecture-and-deployment">EXERCISE 2.3: ARCHITECTURE AND DEPLOYMENT</a>
<ul>
<li><a href="10_exercise_10.html#preparation-9"><strong>Preparation</strong></a></li>
<li><a href="10_exercise_10.html#general-information-about-the-geoserver-server"><strong>General information about the GeoServer server</strong></a></li>
<li><a href="10_exercise_10.html#image-processing-settings"><strong>Image Processing Settings</strong></a></li>
<li><a href="10_exercise_10.html#raster-access"><strong>Raster Access</strong></a></li>
<li><a href="10_exercise_10.html#geoservers-log"><strong>GeoServer’s log</strong></a></li>
<li><a href="10_exercise_10.html#rest-api-functionality"><strong>REST API functionality</strong></a></li>
<li><a href="10_exercise_10.html#using-the-monitor-plugin-tarkista-nämä-vielä"><strong>Using the Monitor plugin (tarkista nämä vielä)</strong></a></li>
</ul></li>
<li class="has-sub"><a href="11_exercise_11.html#exercise-2.4-css-styling">EXERCISE 2.4: CSS-STYLING</a>
<ul>
<li><a href="11_exercise_11.html#preparation-10"><strong>Preparation</strong></a></li>
<li><a href="11_exercise_11.html#css-styles"><strong>CSS-styles</strong></a></li>
<li><a href="11_exercise_11.html#creating-a-style"><strong>Creating a style</strong></a></li>
<li><a href="11_exercise_11.html#classification-of-data"><strong>Classification of data</strong></a></li>
<li><a href="11_exercise_11.html#tuning-the-style"><strong>Tuning the style</strong></a></li>
<li><a href="11_exercise_11.html#category-naming"><strong>Category naming</strong></a></li>
<li><a href="11_exercise_11.html#multi-scale-visibility"><strong>Multi-scale visibility</strong></a></li>
<li><a href="11_exercise_11.html#adding-subtitles"><strong>Adding subtitles</strong></a></li>
<li><a href="11_exercise_11.html#application-of-styling-technology"><strong>Application of styling technology</strong></a></li>
</ul></li>
<li class="has-sub"><a href="12_exercise_12.html#exercise-2.5-access-control">EXERCISE 2.5: ACCESS CONTROL</a>
<ul>
<li><a href="12_exercise_12.html#geoserver-general-security-settings"><strong>GeoServer general security settings</strong></a></li>
<li><a href="12_exercise_12.html#identification"><strong>Identification</strong></a></li>
<li><a href="12_exercise_12.html#create-a-new-role-and-user"><strong>Create a new role and user</strong></a></li>
<li><a href="12_exercise_12.html#limiting-access-rights-to-the-data"><strong>Limiting access rights to the data</strong></a></li>
<li><a href="12_exercise_12.html#user-specific-access-rights-for-the-data"><strong>User-specific access rights for the data</strong></a></li>
</ul></li>
<li class="has-sub"><a href="13_exercise_13.html#exercise-2.6-filtering">EXERCISE 2.6: FILTERING</a>
<ul>
<li><a href="13_exercise_13.html#filtering-with-attributes">Filtering with attributes</a></li>
</ul></li>
</ul>
</div>
</nav>
</div>
</header>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="exercise-2.1-wfs-services" class="section level1">
<h1>EXERCISE 2.1: WFS SERVICES</h1>
<p><strong>Content of the exercise</strong></p>
<p>The exercise will introduce you to the settings and functionality of the WFS map services.</p>
<p><strong>Aim of the exercise</strong></p>
<p>After the exercise, the student will be able to change the publishing settings of the WFS map services and use the WFS-T map service.</p>
<p><strong>Estimated duration</strong></p>
<p>30 minutes.</p>
<div id="preparation-7" class="section level2">
<h2><strong>Preparation</strong></h2>
<p>Stores with vector data have been added to GeoServer.</p>
</div>
<div id="ogc-standards-1" class="section level2">
<h2><strong>OGC-standards</strong></h2>
<p>Previously, the configuration of the WMS and WCS interface services defined by the Open Geospatial Consortium (OGC) was examined. The Web Feature Service (WFS) download service is also an interface service defined by the OGC through which vector data and their feature information can be downloaded for further exploitation.</p>
</div>
<div id="wfs-settings" class="section level2">
<h2><strong>WFS settings</strong></h2>
<p>WFS services allow vector data, their geometry and attributes to be processed over the network.</p>
<p>Open <strong>Services → WFS</strong>. Right at the beginning of the view, you will find the general information about the service (<strong>Service Metadata</strong>).</p>
<p>The WFS-specific settings can be found below, which define how WFS-specific service requests are handled and responded to.</p>
</div>
<div id="number-of-data-requested" class="section level2">
<h2><strong>Number of data requested</strong></h2>
<p><strong>Maximum number of features</strong> and <strong>Maximum number of features for preview</strong> will prevent the download of too much data. If a download request contains a large number of features, only a subset of them will be downloaded.</p>
<p>To test this function, set the value of these features to <strong>1</strong>.</p>
<p>Then press <strong>Submit</strong>.</p>
<p>Then view the <strong>tiesto</strong> layer through the WFS interface via the Layer Preview GML preview or e.g. with the QGIS application.</p>
<div class="hint-box">
<p>How have the attributes you have just identified influenced the final result? Why?</p>
</div>
<p>Preview the same <strong>tiesto</strong> layer now using the <strong>GML</strong> link.</p>
<p><img src="img/harjoitus_8/image1.png" /></p>
<p><img src="img/harjoitus_8/image2.png" /></p>
<p>The service response (in xml format) now contains only one geometry, as we had specified in the settings.</p>
<p>Return to the <strong>Services → WFS</strong> view and check <strong>Return bounding box with every feature</strong>. Preview the same layer again and compare it with the result of the previous service request. For certain applications, it may be necessary to obtain information about the bounding box for each spatial feature.</p>
<p>Check in the tiesto-layer GML preview that the response sent by GeoServer now also includes the rectangle delimiting the geometries.</p>
<p><img src="img/harjoitus_8/image3.png" /></p>
<p>Go back to <strong>Services → WFS</strong> view and reset the defaults to <strong>Maximum number of features</strong>: <strong>1 000 000</strong> and <strong>Maximum number of features for preview</strong>: <strong>50</strong>.</p>
<p>Press <strong>Submit</strong>.</p>
<p>You can still check that now the GML preview only shows the geometries of 50 features, although there are many more spatial features at the tiesto-layer.</p>
<div class="hint-box">
<p>Psst! “Maximum number of features for preview” is an important setting to limit the number of WFS request results in layer preview mode. It is easy to get your computer stuck if all the layer information comes in response at once.</p>
</div>
</div>
<div id="specifying-several-coordinate-systems" class="section level2">
<h2><strong>Specifying several coordinate systems</strong></h2>
<p>GeoServer is able to project and serve data in any of the more than 5000 supported coordinate systems. However, it should be noted that the systems used by the server must be manually specified, rather than having all 5000+ coordinate systems declared via a GetCapabilities request.</p>
<div class="hint-box">
<p>Psst! This setting only affects the content of the GetCapabilities request; projection is still possible using any client system (e.g. geospatial software).</p>
</div>
<p>Specify the coordinate systems used in the <strong>Extra SRS codes for WFS capabilities generation</strong> field, separated by commas: <strong>4326, 3047, 3067</strong>.</p>
<div class="hint-box">
<p>Which coordinate systems are involved?</p>
</div>
<p>You can now check that the above coordinate systems are specified in the WFS functionality document.</p>
<p>Click on the <strong>GeoServer logo</strong> in the top left corner (returning to the home page of the web interface) and then select <strong>WFS</strong> → 1.1.0 or <strong>2.0.0</strong> from the right side of the page.</p>
<p>By searching “<strong>EPSG</strong>” you can find the EPSG codes in the WFS service documentation (in xm format):</p>
<p>Note that this setting does not work for WFS 1.0.0, which only reports EPSG codes per layer.</p>
<p><img src="img/harjoitus_8/image4.png" /></p>
</div>
<div id="service-levels" class="section level2">
<h2><strong>Service Levels</strong></h2>
<p>In GeoServer, vector data can be published for editing using <strong>WFS-T (Transactional)</strong>.</p>
<p>The <strong>Service Level</strong> options define the service level provided by WFS.</p>
<table>
<colgroup>
<col width="16%" />
<col width="83%" />
</colgroup>
<tbody>
<tr class="odd">
<td><h5 id="basic"><strong>Basic</strong></h5></td>
<td>Provides basic functionality: GetCapabilities, DescribeFeatureType and GetFeature |</td>
</tr>
<tr class="even">
<td><h5 id="transactional"><strong>Transactional</strong></h5></td>
<td>(WFS-T), in addition to the basic functionality, a transactional function is available</td>
</tr>
<tr class="odd">
<td><h5 id="complete"><strong>Complete</strong></h5></td>
<td>Add LockFeature support, which prevents editing of spatial objects (features) after another user has already started editing them |</td>
</tr>
</tbody>
</table>
<p>Leave the setting at <strong>Complete</strong>. By default, GeoServer only allows users in the admin group to edit data, and unauthenticated users cannot edit data. The <strong>Basic</strong> level can be used to completely prevent editing of data by WFS-T.</p>
</div>
<div id="gml-settings" class="section level2">
<h2><strong>GML settings</strong></h2>
<p><strong>GML</strong> is a language based on XML, defined by the OGC. GML is used to model geometry elements. GeoServer produces vector data in GML format.</p>
<p>Different versions of the WFS service return different GML formats by default:</p>
<table style="width:44%;">
<colgroup>
<col width="30%" />
<col width="13%" />
</colgroup>
<tbody>
<tr class="odd">
<td><h5 id="wfs-1.0.0"><strong>WFS 1.0.0</strong></h5></td>
<td>GML 2</td>
</tr>
<tr class="even">
<td><h5 id="wfs-1.1.0"><strong>WFS 1.1.0</strong></h5></td>
<td>GML 3</td>
</tr>
<tr class="odd">
<td><h5 id="wfs-2.0.0"><strong>WFS 2.0.0</strong></h5></td>
<td>GML 3.2</td>
</tr>
</tbody>
</table>
<p>For each GML format, it is possible to define a coordinate system format that must be taken into account in the GML result. This is particularly important when developing applications using WFS services.</p>
<p><strong>EPSG CODES AND COORDINATE FORMATS IN GML DOCUMENT</strong></p>
<table>
<colgroup>
<col width="13%" />
<col width="86%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>EPSG Code</strong></td>
<td>srsName=“EPSG:4326” | | Coordinates in the format: longitude/latitude (x/y)</td>
</tr>
<tr class="even">
<td><strong>OGC HTTP URL</strong></td>
<td>srsName=“<a href="http://www.opengis.net/gml/srs/epsg.xml#4326%22">http://www.opengis.net/gml/srs/epsg.xml#4326”</a> | | Coordinates in the format: longitude/latitude (x/y)</td>
</tr>
<tr class="odd">
<td><strong>OGC Experimental URN</strong></td>
<td>srsName=“<a href="urn:x-ogc:def:crs:EPSG:4326" class="uri">urn:x-ogc:def:crs:EPSG:4326</a>”</td>
</tr>
<tr class="even">
<td><strong>OGC URN</strong></td>
<td>srsName=“<a href="urn:ogc:def:crs:EPSG" class="uri">urn:ogc:def:crs:EPSG</a>::4326” | | Coordinates in the format: latitude/longitude (y/x)</td>
</tr>
<tr class="odd">
<td><strong>OGC HTTP URI</strong></td>
<td>srsName=“<a href="http://www.opengis.net/def/crs/EPSG/0/4326%22">http://www.opengis.net/def/crs/EPSG/0/4326”</a></td>
</tr>
</tbody>
</table>
<p>For example, the <strong>Lipas areas</strong> layer from a GML2 preview (EPSG code in the form of an OGC HTTP URL):</p>
<p><img src="img/harjoitus_8/image5.png" /></p>
</div>
<div id="workspace-specific-settings" class="section level2">
<h2><strong>Workspace specific settings</strong></h2>
<p>As with WMS services, it is also possible to configure WFS settings on a workspace-by-workspace basis. For example, WFS-T functionality can be enabled only through a single workspace and access control can be used to allow only identified users to edit data.</p>
<p>Open <strong>Data → Workspaces</strong> and then select the <strong>helsinki</strong> workspace. Then check <strong>Services → WFS</strong> and then click on the <strong>WFS</strong> link.</p>
<p><img src="img/harjoitus_8/image6.png" /></p>
<p>Make sure that <strong>Service Level</strong> is set to <strong>Complete</strong>.</p>
<p><img src="img/harjoitus_8/image7.png" /></p>
<p>Then press <strong>Submit</strong> (at the bottom of the page).</p>
<p>Finally, press <strong>Save</strong> at the bottom of the page.</p>
<p>Workspace-specific settings can be used, for example, to limit coordinate systems in which the workspace data is available, or to remove the WFS-T service from the data of a specific workspace.</p>
</div>
<div id="editing-via-wfs-t-service" class="section level2">
<h2><strong>Editing via WFS-T service</strong></h2>
<p>One important feature of WFS services is the ability to edit vector data directly on the server. The WFS-T service can also be configured with a locking option (<strong>Complete</strong> service level), which is necessary when editing on shared data.</p>
<p>Editing can be done using different client software, e.g. QGIS or web applications.</p>
<p>The easiest way to test the editing functionality is to use the QGIS spatial data system.</p>
<p>First you need the address of the WFS service. For example, you can get this from the GeoServer home page, which you can access by clicking on the GeoServer logo in the top left corner. Right-click on the link <strong>1.1.0</strong> under the WFS section of the <strong>Service Capabilities</strong> panel on the home page.</p>
<p>The address will be in the format:</p>
<div class="note-box">
<p><a href="http://%3Cip.osoite%3E:8080/geoserver/ows?service=wfs&amp;version=1.1.0&amp;request=GetCapabilities" class="uri">http://%3Cip.osoite%3E:8080/geoserver/ows?service=wfs&amp;version=1.1.0&amp;request=GetCapabilities</a></p>
</div>
<p>With GeoServer’s default settings, a workspace-specific address is obtained by adding the workspace URI to the address. For example, the address of a helsinki workspace would be:</p>
<div class="note-box">
<p><a href="http://%3Cip.osoite%3E:8080/geoserver/ows?service=wfs&amp;version=1.1.0&amp;request=GetCapabilities" class="uri">http://%3Cip.osoite%3E:8080/geoserver/ows?service=wfs&amp;version=1.1.0&amp;request=GetCapabilities</a></p>
</div>
<p>Open QGIS from the desktop icon. Add a new WFS service and paste the address you just copied into the URL field. Also enter your username (admin) and password (gispo).</p>
<p><img src="img/harjoitus_8/image8.png" /></p>
<p>If necessary, follow the trainer’s instructions for using <strong>QGIS</strong>. Connect QGIS to your WFS map service, add the <strong>lipas_all_routes</strong> layer you added earlier in the second exercise to the map project. Edit some spatial data objects and save the changes.</p>
<p>Afterwards, look at the GeoServer preview of the objects you edited and verify that the changes have indeed been saved to the server. ## <strong>Muiden WFS-palvelujen hyödyntäminen (cascading WFS)</strong></p>
<p>In the same way that it is possible to continue publishing WMS services (<strong>cascading WMS</strong>), GeoServer can also continue publishing WFS services (<strong>cascading WFS</strong>).</p>
<p>To add a new store (<strong>Data → Stores → Add new Store</strong>), select <strong>Web Feature Server (NG)</strong> from the list.</p>
<p><img src="img/harjoitus_8/image9.png" /></p>
<p>The Lipas-WFS service will be added. Name the new vector-store <strong>lipas_WFS</strong> and set <strong>WFS GetCapabilities URL</strong>:</p>
<div class="note-box">
<p><a href="http://lipas.cc.jyu.fi/geoserver/lipas/ows?service=WFS&amp;REQUEST=Getcapabilities" class="uri">http://lipas.cc.jyu.fi/geoserver/lipas/ows?service=WFS&amp;REQUEST=Getcapabilities</a></p>
</div>
<p><img src="img/harjoitus_8/image10.png" /></p>
<p>The rest of the settings can be left at default values. Then press <strong>Save</strong>.</p>
<p>The new store will contain the map layers that were shared on the original WFS server:</p>
<p><img src="img/harjoitus_8/image11.png" /></p>
<p>You can publish layers directly from the service. For example, publish <strong>lipas_excursion_map_routes</strong>. Right click on <strong>Publish</strong> and define <strong>Bounding Boxes</strong> as usual.</p>
<p>Then press <strong>Save</strong>.</p>
<p>You can now preview the new layer (the default name will be <strong>Excursion_routes</strong>).</p>
<p><img src="img/harjoitus_8/image12.png" /></p>
<div class="hint-box">
<p>Psst! If the data is large and the maximum download time is set low, GeoServer may generate an error code when the data cannot be loaded by the specified time. Change this time if the data is large.</p>
</div>

</div>
</div>
<p style="text-align: center;">
<a href="07_exercise_7.html"><button class="btn btn-default">Previous</button></a>
<a href="09_exercise_9.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>

<footer class="footer text-center">

<div class="footer-container text-center">

<div class="footer-info">
<h5 class="footer-title">Introduction to GeoServer</h5>
<span class="footer-version">v2024-04-24</span>
<div class="license"><img src="img/by-nd.svg" width="80px" alt="CC-BY-ND"></div>
</div>

<div class="footer-info">
<h5 class="footer-title footer-company">Gispo Ltd.
<span class="footer-copyright-year">© 2024</span></h5>
<span class="footer-contact-info">Spaces Tripla
<br>Workery West
<br>Firdonkatu 2 T 63
<br>00520 Helsinki, Finland
<br>info@gispo.fi
</span>
</div>

</div>
</div>
</footer>
</div>


<script src="js/nav-script.js"></script>
<script src="js/answer-key.js"></script>

</body>
</html>

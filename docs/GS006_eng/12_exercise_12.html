<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<link rel="icon" href="/master-training-data/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="/master-training-data/favicon.ico" type="image/x-icon">

<!-- Based on TemplateMo 553 Xtra Blog: https://templatemo.com/tm-553-xtra-blog -->

<meta name="robots" content="noindex, nofollow" />
<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="13 EXERCISE 2.5: ACCESS CONTROL | Introduction to GeoServer" />
<meta property="og:type" content="book" />





<meta name="author" content="Gispo Oy" />

<meta name="date" content="2023-12-18" />


<meta name="description" content="13 EXERCISE 2.5: ACCESS CONTROL | Introduction to GeoServer">

<title>13 EXERCISE 2.5: ACCESS CONTROL | Introduction to GeoServer</title>




<link rel="stylesheet" href="custom.css" type="text/css" />

<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/hamburgers.css" rel="stylesheet">

</head>

<body>


<div class="main-content">
<!-- special comment to mark beginning of title section for bookdown -->
<!-- bookdown comments must be in this order: title, toc, body -->

<div class="main-content-wrapper">

<div class="row">
<div class="col-sm-12">
<header class="main-toc sidebar" id="sidebar">
<div class="sidebar-wrapper">

<button class="navbar-toggle hamburger hamburger--collapse" id="navbar-toggle"
type="button" onclick="navToggle()" aria-label="Toggle navigation">
<span class="hamburger-box"><span class="hamburger-inner"></span></span>
</button>

<div class="sidebar-title-wrapper">
<img alt="Logo" width="100" src="img/gispo_white_sm.png" class="sidebar-logo">
<div class="sidebar-title"><h1>Introduction to GeoServer</h1></div>
<div class="abstract-sidebar"><p>A course covering basic GeoServer topics.</p></div>
</div>

<nav class="sidebar-nav">
<div id="TOC" class="toc">
<ul>
<li class="has-sub"><a href="index.html#introduction-to-geoserver"><span class="toc-section-number">1</span> INTRODUCTION TO GEOSERVER</a>
<ul>
<li><a href="index.html#welcome-to-this-geoserver-course"><span class="toc-section-number">1.1</span> Welcome to this GeoServer Course!</a></li>
<li><a href="index.html#background-of-geoserver"><span class="toc-section-number">1.2</span> Background of GeoServer</a></li>
<li><a href="index.html#how-to-read"><span class="toc-section-number">1.3</span> How to read</a></li>
<li><a href="index.html#additional-information"><span class="toc-section-number">1.4</span> Additional information</a></li>
<li><a href="index.html#mistakes"><span class="toc-section-number">1.5</span> Mistakes</a></li>
<li><a href="index.html#license-and-permissions"><span class="toc-section-number">1.6</span> License and permissions</a></li>
</ul></li>
<li class="has-sub"><a href="01_exercise_1.html#exercise-1.1-installation-and-commissioning"><span class="toc-section-number">2</span> EXERCISE 1.1: INSTALLATION AND COMMISSIONING</a>
<ul>
<li><a href="01_exercise_1.html#preparation"><span class="toc-section-number">2.1</span> <strong>Preparation</strong></a></li>
<li class="has-sub"><a href="01_exercise_1.html#main-menu"><span class="toc-section-number">2.2</span> <strong>Main menu</strong></a>
<ul>
<li><a href="01_exercise_1.html#about-geoserver"><span class="toc-section-number">2.2.1</span> <strong>About GeoServer</strong></a></li>
<li><a href="01_exercise_1.html#layer-preview"><span class="toc-section-number">2.2.2</span> <strong>Layer Preview</strong></a></li>
<li><a href="01_exercise_1.html#service-capabilities"><span class="toc-section-number">2.2.3</span> <strong>Service Capabilities</strong></a></li>
<li><a href="01_exercise_1.html#demos"><span class="toc-section-number">2.2.4</span> <strong>Demos</strong></a></li>
<li><a href="01_exercise_1.html#demo-requests"><span class="toc-section-number">2.2.5</span> <strong>Demo requests</strong></a></li>
</ul></li>
<li><a href="01_exercise_1.html#srs-list-ja-reprojection-console"><span class="toc-section-number">2.3</span> <strong>SRS List ja Reprojection console</strong></a></li>
<li><a href="01_exercise_1.html#wcs-request-builder"><span class="toc-section-number">2.4</span> <strong>WCS request builder</strong></a></li>
</ul></li>
<li class="has-sub"><a href="02_exercise_2.html#exercise-1.2-geoserver-web-interface"><span class="toc-section-number">3</span> EXERCISE 1.2: GEOSERVER WEB INTERFACE</a>
<ul>
<li><a href="02_exercise_2.html#preparation-1"><span class="toc-section-number">3.1</span> <strong>Preparation</strong></a></li>
<li><a href="02_exercise_2.html#administrators-interface"><span class="toc-section-number">3.2</span> <strong>Administrator’s interface</strong></a></li>
<li><a href="02_exercise_2.html#master-and-administrator-users"><span class="toc-section-number">3.3</span> <strong>Master and Administrator users</strong></a></li>
<li class="has-sub"><a href="02_exercise_2.html#about-status-settings"><span class="toc-section-number">3.4</span> <strong>About &amp; Status settings</strong></a>
<ul>
<li><a href="02_exercise_2.html#contact-information"><span class="toc-section-number">3.4.1</span> <strong>Contact Information</strong></a></li>
<li><a href="02_exercise_2.html#server-status"><span class="toc-section-number">3.4.2</span> <strong>Server Status</strong></a></li>
<li><a href="02_exercise_2.html#geoserver-logs"><span class="toc-section-number">3.4.3</span> <strong>GeoServer Logs</strong></a></li>
</ul></li>
<li class="has-sub"><a href="02_exercise_2.html#data-menu"><span class="toc-section-number">3.5</span> <strong>Data menu</strong></a>
<ul>
<li><a href="02_exercise_2.html#layer-preview-1"><span class="toc-section-number">3.5.1</span> <strong>Layer Preview</strong></a></li>
<li><a href="02_exercise_2.html#workspaces"><span class="toc-section-number">3.5.2</span> <strong>Workspaces</strong></a></li>
<li><a href="02_exercise_2.html#stores"><span class="toc-section-number">3.5.3</span> <strong>Stores</strong></a></li>
<li><a href="02_exercise_2.html#layers"><span class="toc-section-number">3.5.4</span> <strong>Layers</strong></a></li>
</ul></li>
<li><a href="02_exercise_2.html#layer-groups"><span class="toc-section-number">3.6</span> <strong>Layer Groups</strong></a></li>
<li><a href="02_exercise_2.html#styles"><span class="toc-section-number">3.7</span> <strong>Styles</strong></a></li>
<li><a href="02_exercise_2.html#settings"><span class="toc-section-number">3.8</span> <strong>Settings</strong></a></li>
<li><a href="02_exercise_2.html#tile-caching-1"><span class="toc-section-number">3.9</span> <strong>Tile Caching</strong></a></li>
<li><a href="02_exercise_2.html#security-1"><span class="toc-section-number">3.10</span> <strong>Security</strong></a></li>
</ul></li>
<li class="has-sub"><a href="03_exercise_3.html#exercise-1.3-vector-data"><span class="toc-section-number">4</span> Exercise 1.3: VECTOR DATA</a>
<ul>
<li><a href="03_exercise_3.html#preparation-2"><span class="toc-section-number">4.1</span> <strong>Preparation</strong></a></li>
<li><a href="03_exercise_3.html#creating-vector-data-store"><span class="toc-section-number">4.2</span> <strong>Creating vector data store</strong></a></li>
<li><a href="03_exercise_3.html#publishing-vector-layer"><span class="toc-section-number">4.3</span> <strong>Publishing vector layer</strong></a></li>
<li class="has-sub"><a href="03_exercise_3.html#data-settings"><span class="toc-section-number">4.4</span> <strong>Data settings</strong></a>
<ul>
<li><a href="03_exercise_3.html#coordinate-reference-systems"><span class="toc-section-number">4.4.1</span> <strong>Coordinate Reference Systems</strong></a></li>
<li><a href="03_exercise_3.html#bounding-boxes"><span class="toc-section-number">4.4.2</span> <strong>Bounding Boxes</strong></a></li>
<li><a href="03_exercise_3.html#feature-type-details"><span class="toc-section-number">4.4.3</span> <strong>Feature Type Details</strong></a></li>
</ul></li>
<li><a href="03_exercise_3.html#add-helsinki-road-network"><span class="toc-section-number">4.5</span> <strong>Add Helsinki road network</strong></a></li>
</ul></li>
<li class="has-sub"><a href="04_exercise_4.html#exercise-1.4-basics-of-styling-sld"><span class="toc-section-number">5</span> EXERCISE 1.4: BASICS OF STYLING (SLD)</a>
<ul>
<li><a href="04_exercise_4.html#preparation-3"><span class="toc-section-number">5.1</span> <strong>Preparation</strong></a></li>
<li><a href="04_exercise_4.html#geoserverin-styling-technique"><span class="toc-section-number">5.2</span> <strong>GeoServerin styling technique</strong></a></li>
<li><a href="04_exercise_4.html#sld-styling"><span class="toc-section-number">5.3</span> <strong>SLD-styling</strong></a></li>
<li><a href="04_exercise_4.html#creating-a-new-style"><span class="toc-section-number">5.4</span> <strong>Creating a new style</strong></a></li>
<li><a href="04_exercise_4.html#deployment-of-sld-styling-technique"><span class="toc-section-number">5.5</span> <strong>Deployment of SLD styling technique</strong></a></li>
<li><a href="04_exercise_4.html#sld-cookbook"><span class="toc-section-number">5.6</span> <strong>SLD Cookbook</strong></a></li>
<li><a href="04_exercise_4.html#editing-sld-styling-technique"><span class="toc-section-number">5.7</span> <strong>Editing SLD styling technique</strong></a></li>
<li><a href="04_exercise_4.html#create-a-road-style"><span class="toc-section-number">5.8</span> <strong>Create a road style</strong></a></li>
</ul></li>
<li class="has-sub"><a href="05_exercise_5.html#exercise-1.5-wms-and-wcs-services"><span class="toc-section-number">6</span> EXERCISE 1.5: WMS AND WCS SERVICES</a>
<ul>
<li><a href="05_exercise_5.html#preparation-4"><span class="toc-section-number">6.1</span> <strong>Preparation</strong></a></li>
<li><a href="05_exercise_5.html#ogc-standards"><span class="toc-section-number">6.2</span> <strong>OGC-standards</strong></a></li>
<li><a href="05_exercise_5.html#general-map-service-settings"><span class="toc-section-number">6.3</span> <strong>General map service settings</strong></a></li>
<li><a href="05_exercise_5.html#wms"><span class="toc-section-number">6.4</span> <strong>WMS</strong></a></li>
<li><a href="05_exercise_5.html#workspace-specific-server-settings"><span class="toc-section-number">6.5</span> <strong>Workspace-specific server settings</strong></a></li>
<li><a href="05_exercise_5.html#dpi-resolution-of-the-wms-map-service-image"><span class="toc-section-number">6.6</span> <strong>DPI resolution of the WMS map service image</strong></a></li>
<li><a href="05_exercise_5.html#wcs"><span class="toc-section-number">6.7</span> <strong>WCS</strong></a></li>
</ul></li>
<li class="has-sub"><a href="06_exercise_6.html#exercise-1.6-raster-data"><span class="toc-section-number">7</span> EXERCISE 1.6: RASTER DATA</a>
<ul>
<li><a href="06_exercise_6.html#preparation-5"><span class="toc-section-number">7.1</span> <strong>Preparation</strong></a></li>
<li><a href="06_exercise_6.html#adding-raster-data"><span class="toc-section-number">7.2</span> <strong>Adding raster data</strong></a></li>
<li><a href="06_exercise_6.html#adding-an-aerial-image"><span class="toc-section-number">7.3</span> <strong>Adding an aerial image</strong></a></li>
<li><a href="06_exercise_6.html#image-mosaic"><span class="toc-section-number">7.4</span> <strong>Image Mosaic</strong></a></li>
<li class="has-sub"><a href="06_exercise_6.html#layer-groups-1"><span class="toc-section-number">7.5</span> <strong>Layer Groups</strong></a>
<ul>
<li><a href="06_exercise_6.html#form-of-publication-of-group-layers"><span class="toc-section-number">7.5.1</span> <strong>Form of publication of group layers</strong></a></li>
<li><a href="06_exercise_6.html#use-of-external-wms-services-cascading-wms"><span class="toc-section-number">7.5.2</span> <strong>Use of external WMS services (cascading WMS)</strong></a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="07_exercise_7.html#exercise-1.7-spatial-databases"><span class="toc-section-number">8</span> EXERCISE 1.7: SPATIAL DATABASES</a>
<ul>
<li><a href="07_exercise_7.html#preparation-6"><span class="toc-section-number">8.1</span> <strong>Preparation</strong></a></li>
<li><a href="07_exercise_7.html#connecting-to-the-geodatabase"><span class="toc-section-number">8.2</span> <strong>Connecting to the geodatabase</strong></a></li>
<li><a href="07_exercise_7.html#adding-a-postgis-layer"><span class="toc-section-number">8.3</span> <strong>Adding a PostGIS layer</strong></a></li>
<li><a href="07_exercise_7.html#adding-a-polygon-and-line-layer-from-postgis-database"><span class="toc-section-number">8.4</span> <strong>Adding a polygon and line layer from PostGIS database</strong></a></li>
<li><a href="07_exercise_7.html#setting-default-styles-for-layers"><span class="toc-section-number">8.5</span> <strong>Setting default styles for layers</strong></a></li>
<li><a href="07_exercise_7.html#sql-views"><span class="toc-section-number">8.6</span> <strong>SQL views</strong></a></li>
<li><a href="07_exercise_7.html#geographical-data-functions-via-sql-views"><span class="toc-section-number">8.7</span> <strong>Geographical data functions via SQL views</strong></a></li>
</ul></li>
<li class="has-sub"><a href="08_exercise_8.html#exercise-2.1-wfs-services"><span class="toc-section-number">9</span> EXERCISE 2.1: WFS SERVICES</a>
<ul>
<li><a href="08_exercise_8.html#preparation-7"><span class="toc-section-number">9.1</span> <strong>Preparation</strong></a></li>
<li><a href="08_exercise_8.html#ogc-standards-1"><span class="toc-section-number">9.2</span> <strong>OGC-standards</strong></a></li>
<li><a href="08_exercise_8.html#wfs-settings"><span class="toc-section-number">9.3</span> <strong>WFS settings</strong></a></li>
<li><a href="08_exercise_8.html#number-of-data-requested"><span class="toc-section-number">9.4</span> <strong>Number of data requested</strong></a></li>
<li><a href="08_exercise_8.html#specifying-several-coordinate-systems"><span class="toc-section-number">9.5</span> <strong>Specifying several coordinate systems</strong></a></li>
<li><a href="08_exercise_8.html#service-levels"><span class="toc-section-number">9.6</span> <strong>Service Levels</strong></a></li>
<li><a href="08_exercise_8.html#gml-settings"><span class="toc-section-number">9.7</span> <strong>GML settings</strong></a></li>
<li><a href="08_exercise_8.html#workspace-specific-settings"><span class="toc-section-number">9.8</span> <strong>Workspace specific settings</strong></a></li>
<li><a href="08_exercise_8.html#editing-via-wfs-t-service"><span class="toc-section-number">9.9</span> <strong>Editing via WFS-T service</strong></a></li>
</ul></li>
<li class="has-sub"><a href="09_exercise_9.html#exercise-2.2-map-tile-services"><span class="toc-section-number">10</span> EXERCISE 2.2: MAP TILE SERVICES</a>
<ul>
<li><a href="09_exercise_9.html#preparation-8"><span class="toc-section-number">10.1</span> <strong>Preparation</strong></a></li>
<li><a href="09_exercise_9.html#tile-caching-2"><span class="toc-section-number">10.2</span> <strong>Tile Caching</strong></a></li>
<li><a href="09_exercise_9.html#geowebcache-user-interface"><span class="toc-section-number">10.3</span> <strong>GeoWebCache user interface</strong></a></li>
<li><a href="09_exercise_9.html#layer-specific-settings"><span class="toc-section-number">10.4</span> <strong>Layer-specific settings</strong></a></li>
<li><a href="09_exercise_9.html#pre-creation-of-map-tiles"><span class="toc-section-number">10.5</span> <strong>Pre-creation of map tiles</strong></a></li>
<li><a href="09_exercise_9.html#using-the-hard-disk-of-the-map-tiles"><span class="toc-section-number">10.6</span> <strong>Using the hard disk of the map tiles</strong></a></li>
<li><a href="09_exercise_9.html#map-tile-grids"><span class="toc-section-number">10.7</span> <strong>Map tile grids</strong></a></li>
<li><a href="09_exercise_9.html#map-tile-grid-according-to-jhs180"><span class="toc-section-number">10.8</span> <strong>Map tile grid according to JHS180</strong></a></li>
<li><a href="09_exercise_9.html#creating-a-new-gridset"><span class="toc-section-number">10.9</span> <strong>Creating a new gridset</strong></a></li>
<li><a href="09_exercise_9.html#finlands-openstreetmap-road-network"><span class="toc-section-number">10.10</span> <strong>Finland’s OpenStreetMap road network</strong></a></li>
<li><a href="09_exercise_9.html#using-your-own-map-tile-grid"><span class="toc-section-number">10.11</span> <strong>Using your own map tile grid</strong></a></li>
<li><a href="09_exercise_9.html#create-a-local-map-tile-grid"><span class="toc-section-number">10.12</span> <strong>Create a local map tile grid</strong></a></li>
</ul></li>
<li class="has-sub"><a href="10_exercise_10.html#exercise-2.3-architecture-and-deployment"><span class="toc-section-number">11</span> EXERCISE 2.3: ARCHITECTURE AND DEPLOYMENT</a>
<ul>
<li><a href="10_exercise_10.html#preparation-9"><span class="toc-section-number">11.1</span> <strong>Preparation</strong></a></li>
<li><a href="10_exercise_10.html#general-information-about-the-geoserver-server"><span class="toc-section-number">11.2</span> <strong>General information about the GeoServer server</strong></a></li>
<li><a href="10_exercise_10.html#image-processing-settings"><span class="toc-section-number">11.3</span> <strong>Image Processing Settings</strong></a></li>
<li><a href="10_exercise_10.html#raster-access"><span class="toc-section-number">11.4</span> <strong>Raster Access</strong></a></li>
<li><a href="10_exercise_10.html#geoservers-log"><span class="toc-section-number">11.5</span> <strong>GeoServer’s log</strong></a></li>
<li><a href="10_exercise_10.html#rest-api-functionality"><span class="toc-section-number">11.6</span> <strong>REST API functionality</strong></a></li>
<li><a href="10_exercise_10.html#using-the-monitor-plugin-tarkista-nämä-vielä"><span class="toc-section-number">11.7</span> <strong>Using the Monitor plugin (tarkista nämä vielä)</strong></a></li>
</ul></li>
<li class="has-sub"><a href="11_exercise_11.html#exercise-2.4-css-styling"><span class="toc-section-number">12</span> EXERCISE 2.4: CSS-STYLING</a>
<ul>
<li><a href="11_exercise_11.html#preparation-10"><span class="toc-section-number">12.1</span> <strong>Preparation</strong></a></li>
<li><a href="11_exercise_11.html#css-styles"><span class="toc-section-number">12.2</span> <strong>CSS-styles</strong></a></li>
<li><a href="11_exercise_11.html#creating-a-style"><span class="toc-section-number">12.3</span> <strong>Creating a style</strong></a></li>
<li><a href="11_exercise_11.html#classification-of-data"><span class="toc-section-number">12.4</span> <strong>Classification of data</strong></a></li>
<li><a href="11_exercise_11.html#tuning-the-style"><span class="toc-section-number">12.5</span> <strong>Tuning the style</strong></a></li>
<li><a href="11_exercise_11.html#category-naming"><span class="toc-section-number">12.6</span> <strong>Category naming</strong></a></li>
<li><a href="11_exercise_11.html#multi-scale-visibility"><span class="toc-section-number">12.7</span> <strong>Multi-scale visibility</strong></a></li>
<li><a href="11_exercise_11.html#adding-subtitles"><span class="toc-section-number">12.8</span> <strong>Adding subtitles</strong></a></li>
<li><a href="11_exercise_11.html#application-of-styling-technology"><span class="toc-section-number">12.9</span> <strong>Application of styling technology</strong></a></li>
</ul></li>
<li class="has-sub"><a href="12_exercise_12.html#exercise-2.5-access-control"><span class="toc-section-number">13</span> EXERCISE 2.5: ACCESS CONTROL</a>
<ul>
<li><a href="12_exercise_12.html#geoserver-general-security-settings"><span class="toc-section-number">13.1</span> <strong>GeoServer general security settings</strong></a></li>
<li><a href="12_exercise_12.html#identification"><span class="toc-section-number">13.2</span> <strong>Identification</strong></a></li>
<li><a href="12_exercise_12.html#create-a-new-role-and-user"><span class="toc-section-number">13.3</span> <strong>Create a new role and user</strong></a></li>
<li><a href="12_exercise_12.html#limiting-access-rights-to-the-data"><span class="toc-section-number">13.4</span> <strong>Limiting access rights to the data</strong></a></li>
<li><a href="12_exercise_12.html#user-specific-access-rights-for-the-data"><span class="toc-section-number">13.5</span> <strong>User-specific access rights for the data</strong></a></li>
</ul></li>
<li class="has-sub"><a href="13_exercise_13.html#exercise-2.6-filtering"><span class="toc-section-number">14</span> EXERCISE 2.6: FILTERING</a>
<ul>
<li><a href="13_exercise_13.html#filtering-with-attributes"><span class="toc-section-number">14.1</span> Filtering with attributes</a></li>
</ul></li>
</ul>
</div>
</nav>
</div>
</header>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="exercise-2.5-access-control" class="section level1" number="13">
<h1><span class="header-section-number">13</span> EXERCISE 2.5: ACCESS CONTROL</h1>
<p><strong>Content of the exercise</strong></p>
<p>The exercise will introduce you to different security settings and create users and roles. Set permissions for services, datas and users.</p>
<p><strong>Aim of the exercise</strong></p>
<p>After the exercise, the student will be able to set up basic server settings, create users and roles. The student will also be able to set permissions for services and data.</p>
<p><strong>Estimated duration</strong></p>
<p>40 minutes.</p>
<div id="geoserver-general-security-settings" class="section level2" number="13.1">
<h2><span class="header-section-number">13.1</span> <strong>GeoServer general security settings</strong></h2>
<p>Open <strong>Security → Settings</strong> This view allows you to configure commonly used security settings.</p>
<p><img src="img/harjoitus_12/image1.2.png" /></p>
<p>In this view, you can also specify which <strong>Active role service</strong> is enabled. GeoServer allows only one role service type to be selected for a server. The role service contains all user, group and role rules for the server. Keep <strong>default</strong> role service enabled.</p>
<p>Under <strong>Encryption</strong> you will find settings related to encryption. The <strong>Encrypt web admin URL parameter</strong> option encrypts the URL parameters of the user interface in the browser.</p>
<p>For example, the URL of the browser in the <strong>Security</strong> menu (where we are now)…</p>
<p>… without encryption is:</p>
<div class="note-box">
<p><a href="http://localhost:8080/geoserver/web/?wicket:bookmarkablePage=:org.geoserver.security.web.SecuritySettingsPage" class="uri">http://[your-training-instance]/geoserver/web/?wicket:bookmarkablePage=:org.geoserver.security.web.SecuritySettingsPage</a></p>
</div>
<p>… with encryption it is:</p>
<div class="note-box">
<p><a href="http://localhost:8080/geoserver/web/?x=xAiOmyK-CQmBXDhILZrWpny28bhFcImLrBRYk0INwrBDmbzQlmeLRdiaRoNSaBSx3o6elVC9JMPcy5gkRljLXMKGrvMx3Yui3*ANGkUW-hE" class="uri">http://[your-training-instance]/geoserver/web/?x=xAiOmyK-CQmBXDhILZrWpny28bhFcImLrBRYk0INwrBDmbzQlmeLRdiaRoNSaBSx3o6elVC9JMPcy5gkRljLXMKGrvMx3Yui3*ANGkUW-hE</a></p>
</div>
<div class="hint-box">
<p>Psst! The installation of Java policy files depends on the Java Software installed on your server. If Open JDK is installed, then the policy files are installed by default and Strong cryptography is enabled. If, on the other hand, Oracle Java is installed (which has been GeoServer’s recommendation in the past) then you need to download Oracle’s JCE policy jars and extract them to the JRE_HOME/lib/security folder, after which Strong cryptography is enabled.</p>
</div>
<p><strong>Password encryption</strong> specifies which encryption style is used for password storage: <strong>Plain text</strong>, <strong>Weak PBE</strong> and <strong>Strong PBE</strong>.</p>
<p>Hold <strong>Weak PBE</strong> and press <strong>Save</strong>.</p>
</div>
<div id="identification" class="section level2" number="13.2">
<h2><span class="header-section-number">13.2</span> <strong>Identification</strong></h2>
<p>The <strong>Authentication</strong> settings define how GeoServer collects and verifies user IDs.</p>
<p>By default, GeoServer settings allow access to the server (i.e. WMS, WFS and WCS services) without any user ID. You can check this as follows.</p>
<p>Preview the layer <strong>aerialimages_ofthecitycentre</strong> in the same way as you previewed the other layers before. The level will open in your browser without any problems because you are logged in with <strong>admin</strong>. Do not close the preview page yet.</p>
<p>Now go back to the GeoServer maintenance page and press <strong>Logout</strong>.</p>
<p>Return to the preview page and reload the page by pressing F5. The page will still load normally.</p>
<p>Let’s now change the settings so that the user must be logged in to access the services, and users who are not logged in will no longer be able to access the services. Open <strong>Security → Authentication</strong> again, search for <strong>Filter Chains</strong> and click on the <strong>default</strong> link.</p>
<p>Now, under <strong>Chain filters</strong>, select <strong>anonymous</strong> from the <strong>Selected</strong> box and move it to the <strong>Available</strong> box using the arrows between the boxes. Anonymous authentication style allows services to be accessed by unauthenticated users.</p>
<p><img src="img/harjoitus_12/image2.png" /></p>
<p>Now only the <strong>basic</strong> authentication style is in the Selected box, i.e. in use. This means that in the future, you will always need an ID and password to access the server.</p>
<p><img src="img/harjoitus_12/image3.png" /></p>
<p>Now press <strong>Close</strong> to return to the <strong>Authentication</strong> menu. Then press <strong>Save</strong> and the changes will take effect.</p>
<p>If you now log out of GeoServer and refresh the preview page you opened earlier, authentication with your login and password is mandatory.</p>
<div class="hint-box">
<p>Psst! The easiest way to test the server’s access control settings is to use a different web browser (Internet Explorer / FireFox / Chrome) or the browser’s privacy encryption feature (Incognito mode) alongside your normal browser. One browser is used to log in with administrator identifiers (as up to now) and the other to test different login modes. You can ask the trainer for guidance if necessary. Please note that you may need to log out and log in again to reload the settings.</p>
</div>
</div>
<div id="create-a-new-role-and-user" class="section level2" number="13.3">
<h2><span class="header-section-number">13.3</span> <strong>Create a new role and user</strong></h2>
<p>The user, group and role settings play a key role in GeoServer’s access control.</p>
<p>Let’s create a new user who only has rights to handle <strong>helsinki</strong> workspace data.</p>
<p>From the main menu, open <strong>Security → Users</strong>, <strong>Groups, and Roles</strong>.</p>
<p>The <strong>Services</strong> tab provides access control settings for users and roles. They store information about which users belong to which groups, or which roles are defined in the access manager in general.</p>
<p>The list contains <strong>default</strong> settings created by GeoServer. Let’s take advantage of them now.</p>
<p>First, let’s create the role to which the new user will belong.</p>
<div class="hint-box">
<p>Psst! To facilitate access control management, access rights are defined on a role-by-role basis.</p>
</div>
<p>Open the <strong>Roles</strong> tab and press <strong>Add new role</strong>, name the new role <strong>hki_role</strong>.</p>
<p><img src="img/harjoitus_12/image4.2.png" /></p>
<p>Then press <strong>Save</strong>.</p>
<p>A new user is now created. Open the <strong>Users/Groups</strong> tab.</p>
<p>Note that the <strong>admin</strong> ID you used during the training is defined here.</p>
<p><img src="img/harjoitus_12/image5.png" /></p>
<p>Create a new user by pressing <strong>Add new user</strong>.</p>
<p>Enter <strong>hki_user</strong> as user name and <strong>hki-user</strong> as password.</p>
<div class="hint-box">
<p>Psst! Please note that special characters and letters ä &amp; ö are allowed in GeoServer, but for reasons of expediency and differences between browsers, their use will be avoided in this training.</p>
</div>
<p>A new user is given rights by specifying which roles the user has. The roles are defined in <strong>Roles taken from active role service: default</strong>. Among other things, <strong>hki_role</strong> can be selected, add it to the <strong>Selected Roles</strong> box using the transfer arrows found between the boxes.</p>
<p>Then press <strong>Save</strong>, then a new user <strong>hki_user</strong> has been created and has rights according to <strong>hki_role</strong>. Since no rights have been defined for <strong>hki_role</strong> yet, no rights have been defined for the new user either.</p>
<p><img src="img/harjoitus_12/image6.2.png" /></p>
<p>Try new user rights by logging in with a new username. You can either log in again or use a different browser, as mentioned earlier.</p>
</div>
<div id="limiting-access-rights-to-the-data" class="section level2" number="13.4">
<h2><span class="header-section-number">13.4</span> <strong>Limiting access rights to the data</strong></h2>
<p>Open <strong>Security → Data.</strong> This view shows the rules assigned to users (roles) of the GeoServer server. In the default installation, only two rules are defined, i.e. read (r) and write rights (w):</p>
<p><img src="img/harjoitus_12/image7.png" /></p>
<p>The rules under the <strong>Rule path</strong> column are in the form <strong>*.*.r</strong>, which gives read access to all levels in all workspaces.</p>
<p>Please also note that under the <strong>Roles</strong> column it is defined which roles have been granted rights. Defined here with <strong>*</strong> to mean “all roles”.</p>
<p>The following image shows the definition of GeoServer’s data rules:</p>
<p><img src="img/harjoitus_12/image8.png" /></p>
<p>The rule consists of three parts, separated by a period. The first part defines the workspace where the rule is valid. The second part defines the layer on which the rule is valid. The third and last part defines which action is allowed. There are three functions: reading (r = read), writing (w = write) and maintaining (a = admin).</p>
<div class="hint-box">
<p>Psst! The * character can also be used in all parts, which can be used to refer to all workspaces, layers or rights.</p>
</div>
<p>Press <strong>*.*.r</strong> from the list.</p>
<p>This rule specifies that all workspaces and all layers have read access.</p>
<p><img src="img/harjoitus_12/image9.png" /></p>
<p>Under the <strong>Roles</strong> section, it is defined that this rule applies to all roles (<strong>Grant access to any role</strong>). Note that <strong>Grant access to any role</strong> is checked, so all roles can read all levels from all workspaces.</p>
<p>Now let’s limit the rule to admin roles only.</p>
<p><img src="img/harjoitus_12/image10.2.png" /></p>
<p>Uncheck <strong>Grant access to any role</strong> and add the roles <strong>Admin</strong> and <strong>GROUP_ADMIN</strong> to the box <strong>Selected Roles</strong>.</p>
<p>Finally press <strong>Save</strong>.</p>
<p>Finally, make the same changes to the <strong>*.*.w</strong> rule.</p>
<p><img src="img/harjoitus_12/image11.png" /></p>
<p>After these changes, only <strong>Admin</strong> has read and preview access.</p>
<p>Now try to preview some data with the <strong>hki_user</strong> ID, no data is available.</p>
<p><img src="img/harjoitus_12/image12.2.png" /></p>
</div>
<div id="user-specific-access-rights-for-the-data" class="section level2" number="13.5">
<h2><span class="header-section-number">13.5</span> <strong>User-specific access rights for the data</strong></h2>
<p>Next, read and write rights to the <strong>helsinki</strong> workspace are defined for the <strong>hki_user</strong> ID. In practice, rights must be defined for the role to which the user belongs, i.e. for the <strong>hki_role</strong> role.</p>
<p>Until now, <strong>hki_role</strong> has not been given any rights, thus <strong>hki_user</strong> no longer has rights to any material (unless some rule has been defined for all roles using the <strong>*</strong> character).</p>
<p>Let’s now add <strong>Read</strong> and <strong>Write</strong> access rights to <strong>hki_user</strong>, but only to the <strong>Helsinki</strong> workspace. This is done by defining more rules for the data.</p>
<div class="hint-box">
<p>Psst! Make sure you are logged in as an administrator (username: admin and password: gispo).</p>
</div>
<p>Open <strong>Security → Data</strong> again and now add two new rules using the <strong>Add new rule</strong> option.</p>
<p>In <strong>Workspace</strong>, put <strong>helsinki</strong> and leave <strong>Layer</strong> as “<strong>*</strong>” which refers to all layers.</p>
<p>In the <strong>Access mode</strong> menu, set the value to <strong>Read</strong>, which gives reading rights to the data specified above.</p>
<p>Finally, move <strong>hki_role</strong> from the box <strong>Available Roles</strong>, to the box <strong>Selected Roles</strong>.</p>
<p><img src="img/harjoitus_12/image13.2.png" /></p>
<p>Finally press <strong>Save</strong>. </p>
<p>Now <strong>hki_user</strong> has read rights to all layers of the Helsinki workspace.</p>
<p>Add <strong>Write</strong> in the same way. Write rights allow the user to edit data whenever it is allowed in GeoServer, for example through the WFS-T service.</p>
<p>Try again to preview data with the <strong>hki_user</strong> ID. Preview is now possible with all layers of the <strong>helsinki</strong> workspace, but other layers are not visible.</p>
<p>Please note that the user does not have rights to add new data or layers to GeoServer. You can give <strong>hki_user</strong> ID <strong>Admin</strong> rights by specifying administrator rights.</p>
<p>At the end of the day, three new rules have been created that apply to <strong>hki_role</strong>.</p>
<p><img src="img/harjoitus_12/image14.2.png" /></p>
<p>Log in to the server again using the <strong>hki_user</strong> ID and check that the layers of the <strong>Helsinki</strong> workspace are available and that the data can be maintained. Note that the other workspaces are not visible at all.<br />
</p>
<p><img src="img/harjoitus_12/image15.2.png" /></p>
<p>## <strong>Map service-specific rights</strong></p>
<p>Geoserver’s documentation says that “The default service security configuration in GeoServer contains no rules and allows any anonymous user to access any operation of any service. The following are some examples of desired security restrictions and the corresponding rules.” So, this means that there are no rules to be defined. The security page should look like this:</p>
<p><img src="img/harjoitus_12/image19.png" /></p>
<p>The following image shows the definition of GeoServer’s service access rules:</p>
<p><img src="img/harjoitus_12/image16.png" /></p>

</div>
</div>
<p style="text-align: center;">
<a href="11_exercise_11.html"><button class="btn btn-default">Previous</button></a>
<a href="13_exercise_13.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>

<footer class="footer text-center">

<div class="footer-container text-center">

<div class="footer-info">
<h5 class="footer-title">Introduction to GeoServer</h5>
<span class="footer-version">v2023-12-18</span>
<div class="license"><img src="img/by-nd.svg" width="80px" alt="CC-BY-ND"></div>
</div>

<div class="footer-info">
<h5 class="footer-title footer-company">Gispo Ltd.
<span class="footer-copyright-year">© 2023</span></h5>
<span class="footer-contact-info">Kumpulantie 3, 3 krs
<br>00520 Helsinki, Finland
<br>info@gispo.fi
</span>
</div>

</div>
</div>
</footer>
</div>


<script src="js/nav-script.js"></script>
<script src="js/answer-key.js"></script>

</body>
</html>

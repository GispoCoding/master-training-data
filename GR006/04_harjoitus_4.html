<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<link rel="icon" href="/master-training-data/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="/master-training-data/favicon.ico" type="image/x-icon">

<!-- Based on TemplateMo 553 Xtra Blog: https://templatemo.com/tm-553-xtra-blog -->

<meta name="robots" content="noindex, nofollow" />
<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="4. QGISin Python-konsoli | Lausekkeet ja PyQGIS" />
<meta property="og:type" content="book" />





<meta name="author" content="Gispo Oy." />

<meta name="date" content="2025-10-31" />


<meta name="description" content="4. QGISin Python-konsoli | Lausekkeet ja PyQGIS">

<title>4. QGISin Python-konsoli | Lausekkeet ja PyQGIS</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="custom.css" type="text/css" />

<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/hamburgers.css" rel="stylesheet">

</head>

<body>


<div class="main-content">
<!-- special comment to mark beginning of title section for bookdown -->
<!-- bookdown comments must be in this order: title, toc, body -->

<div class="main-content-wrapper">

<div class="row">
<div class="col-sm-12">
<header class="main-toc sidebar" id="sidebar">
<div class="sidebar-wrapper">

<button class="navbar-toggle hamburger hamburger--collapse" id="navbar-toggle"
type="button" onclick="navToggle()" aria-label="Toggle navigation">
<span class="hamburger-box"><span class="hamburger-inner"></span></span>
</button>

<div class="sidebar-title-wrapper">
<img alt="Logo" width="100" src="img/gispo_white_sm.png" class="sidebar-logo">
<div class="sidebar-title"><h1>Lausekkeet ja PyQGIS</h1></div>
<div class="abstract-sidebar"><p>Helsingin kaupungille räätälöity kurssi</p></div>
</div>

<nav class="sidebar-nav">
<div id="TOC" class="toc">
<ul>
<li class="has-sub"><a href="index.html#lausekkeet-ja-pyqgis">Lausekkeet ja PyQGIS</a>
<ul>
<li><a href="index.html#kurssimateriaalien-lataaminen">Kurssimateriaalien lataaminen</a></li>
<li><a href="index.html#lukuohje">Lukuohje</a></li>
<li><a href="index.html#mistä-lisätietoja">Mistä lisätietoja?</a></li>
<li><a href="index.html#virheet">Virheet</a></li>
<li><a href="index.html#lisenssi-ja-oikeudet">Lisenssi ja oikeudet</a></li>
</ul></li>
<li class="has-sub"><a href="01_harjoitus_1.html#qgis-ja-lausekkeet">1. QGIS ja lausekkeet</a>
<ul>
<li><a href="01_harjoitus_1.html#ennen-tehtäviä">Ennen tehtäviä</a></li>
<li><a href="01_harjoitus_1.html#tehtävä-1.1">Tehtävä 1.1</a></li>
</ul></li>
<li class="has-sub"><a href="02_harjoitus_2.html#kappale-4-kohteiden-muokkaus---field-calculator-osa-1">Kappale 4: Kohteiden muokkaus - Field Calculator (Osa 1)</a>
<ul>
<li><a href="02_harjoitus_2.html#tehtävä-4.1">Tehtävä 4.1</a></li>
<li><a href="02_harjoitus_2.html#tehtävä-4.2">Tehtävä 4.2</a></li>
<li><a href="02_harjoitus_2.html#tehtävä-4.3">Tehtävä 4.3</a></li>
<li><a href="02_harjoitus_2.html#lisätehtävät">Lisätehtävät</a></li>
</ul></li>
<li class="has-sub"><a href="03_harjoitus_3.html#harjoitus-0-python-kertaus">Harjoitus 0: Python-kertaus</a>
<ul>
<li><a href="03_harjoitus_3.html#esivalmistelut">Esivalmistelut</a></li>
<li class="has-sub"><a href="03_harjoitus_3.html#python-perusteita">Python-perusteita</a>
<ul>
<li><a href="03_harjoitus_3.html#komennot">Komennot</a></li>
<li><a href="03_harjoitus_3.html#kommentit">Kommentit</a></li>
<li><a href="03_harjoitus_3.html#luvuilla-laskeminen">Luvuilla laskeminen</a></li>
<li><a href="03_harjoitus_3.html#muuttujat">Muuttujat</a></li>
<li><a href="03_harjoitus_3.html#tyypit">Tyypit</a></li>
<li><a href="03_harjoitus_3.html#ehtolauseet-ja-vertailu">Ehtolauseet ja vertailu</a></li>
<li><a href="03_harjoitus_3.html#funktiot">Funktiot</a></li>
<li><a href="03_harjoitus_3.html#tietorakenteita">Tietorakenteita</a></li>
<li><a href="03_harjoitus_3.html#silmukat-ja-iterointi">Silmukat ja iterointi</a></li>
<li><a href="03_harjoitus_3.html#moduulit">Moduulit</a></li>
<li><a href="03_harjoitus_3.html#oliot">Oliot</a></li>
<li><a href="03_harjoitus_3.html#luokat">Luokat</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="04_harjoitus_4.html#qgisin-python-konsoli">4. QGISin Python-konsoli</a>
<ul>
<li><a href="04_harjoitus_4.html#harjoitusten-rakenne">Harjoitusten rakenne</a></li>
<li><a href="04_harjoitus_4.html#esimerkit">Esimerkit</a></li>
<li><a href="04_harjoitus_4.html#harjoitukset">Harjoitukset</a></li>
<li><a href="04_harjoitus_4.html#harjoitus-1.1">Harjoitus 1.1</a></li>
</ul></li>
<li class="has-sub"><a href="05_harjoitus_5.html#harjoitus-2-pyqgis-perusteet">Harjoitus 2: PyQGIS-perusteet</a>
<ul>
<li><a href="05_harjoitus_5.html#tasojen-käsittely">Tasojen käsittely</a></li>
<li><a href="05_harjoitus_5.html#harjoitus-2.1">Harjoitus 2.1</a></li>
<li><a href="05_harjoitus_5.html#harjoitus-2.2">Harjoitus 2.2</a></li>
<li><a href="05_harjoitus_5.html#harjoitus-2.3">Harjoitus 2.3</a></li>
</ul></li>
<li class="has-sub"><a href="06_harjoitus_6.html#harjoitus-3-tasot-kohteet-ja-geometriat">Harjoitus 3: Tasot, kohteet ja geometriat</a>
<ul>
<li><a href="06_harjoitus_6.html#tasot">Tasot</a></li>
<li><a href="06_harjoitus_6.html#väliaikaisen-tason-luominen">Väliaikaisen tason luominen</a></li>
<li><a href="06_harjoitus_6.html#geometriat">Geometriat</a></li>
<li><a href="06_harjoitus_6.html#harjoitus-3.1">Harjoitus 3.1</a></li>
<li><a href="06_harjoitus_6.html#harjoitus-3.2-etäisyydet">Harjoitus 3.2: Etäisyydet</a></li>
</ul></li>
<li class="has-sub"><a href="07_harjoitus_7.html#python-lisätehtäviä">Python-lisätehtäviä</a>
<ul>
<li class="has-sub"><a href="07_harjoitus_7.html#aihe-1-listakoosteet">Aihe 1: Listakoosteet</a>
<ul>
<li><a href="07_harjoitus_7.html#lisätehtävä-1.1">Lisätehtävä 1.1</a></li>
<li><a href="07_harjoitus_7.html#sisäkkäisiä-koosteita">Sisäkkäisiä koosteita</a></li>
</ul></li>
<li class="has-sub"><a href="07_harjoitus_7.html#aihe-2-lambda-funktiot">Aihe 2: Lambda-funktiot</a>
<ul>
<li><a href="07_harjoitus_7.html#lisätehtävä-2.1">Lisätehtävä 2.1</a></li>
</ul></li>
<li class="has-sub"><a href="07_harjoitus_7.html#aihe-3-dekoraattorit">Aihe 3: Dekoraattorit</a>
<ul>
<li><a href="07_harjoitus_7.html#lisätehtävä-3.1">Lisätehtävä 3.1</a></li>
<li><a href="07_harjoitus_7.html#dekoraattorit-ja-parametrit">Dekoraattorit ja parametrit</a></li>
<li><a href="07_harjoitus_7.html#lisätehtävä-3.2">Lisätehtävä 3.2</a></li>
</ul></li>
<li><a href="07_harjoitus_7.html#aihe-4-tyypitys">Aihe 4: Tyypitys</a></li>
<li><a href="07_harjoitus_7.html#lisätehtävä-4.1">Lisätehtävä 4.1</a></li>
</ul></li>
<li class="has-sub"><a href="08_harjoitus_8.html#oman-funktion-lunti-pyqgisillä">8. Oman funktion lunti PyQGISillä</a>
<ul>
<li class="has-sub"><a href="08_harjoitus_8.html#taustaa">Taustaa</a>
<ul>
<li><a href="08_harjoitus_8.html#prosessointialgoritmin-kutsuminen">Prosessointialgoritmin kutsuminen</a></li>
</ul></li>
<li><a href="08_harjoitus_8.html#algoritmi-lisäosassa">Algoritmi lisäosassa</a></li>
<li><a href="08_harjoitus_8.html#harjoitus-8.1-algoritmin-kirjoitus">Harjoitus 8.1: Algoritmin kirjoitus</a></li>
<li><a href="08_harjoitus_8.html#harjoitus-8.2-testit-algoritmille">Harjoitus 8.2: Testit algoritmille</a></li>
</ul></li>
</ul>
</div>
</nav>
</div>
</header>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="qgisin-python-konsoli" class="section level1">
<h1>4. QGISin Python-konsoli</h1>
<p><strong>Harjoituksen sisältö:</strong> QGISin Python-konsoli ja skriptieditori.</p>
<p><strong>Harjoituksen tavoite:</strong> Tutustua Python-komentojen ajamiseen konsolissa ja
skriptien ajamiseen skriptieditorissa.</p>
<div class="note-box">
<p>Seuraavissa harjoituksissa oletetaan, että tunnet Python-kielen perusteet.
Tarvittaessa voit kerrata Pythonia <a href="00_harjoitus_0.html">täällä</a>.</p>
</div>
<p>Yksinkertaisin tapa käyttää Python-rajapintaa QGISissä on Python-konsolin kautta.
Konsolin avulla voidaan syöttää ja ajaa yksittäisiä komentoja tai pidempiä skriptejä.
Windowsilla QGIS-asennukseen sisältyy erillinen Python-tulkki, jonka versio on 3.12.
Lisäksi asennukseen sisältyy joitain Python-paketteja standardikirjaston lisäksi.
Asennukseen kuuluu myös QGIS- ja gdal/ogr-kirjastot, jotka mahdollistavat eri
komponenttien hyödyntämisen konsolissa ja lisäosissa. Näiden lisäksi asennukseen
kuuluu myös PyQt-kirjasto, eli Qt-käyttöliittymäkirjaston Python-sidonta (binding),
joka mahdollistaa graafisen käyttöliittymän luomisen lisäosille.</p>
<div class="hint-box">
<p>Python toimii käyttöjärjestelmien välillä hieman eri tavalla. Windows- ja
MacOS-käyttöjärjestelmissä QGIS-asennukseen kuuluu oma Python-tulkki, kun
taas Linux-pohjaisilla käyttöjärjestelmillä QGIS käyttää järjestelmän Python-tulkkia.</p>
</div>
<p>Python-konsoliin pääsee usealla tavalla (kts. alla oleva kuva):</p>
<ul>
<li>Sen voi avata QGISin ylävalikosta Lisäosat &gt; Python-konsoli (Plugins &gt; Python Console),</li>
<li>Pikanäppäinyhdistelmällä Ctrl + Alt + P,</li>
<li>Klikkaamalla työkalupalkista Python-logon kohdalta</li>
</ul>
<p><img src="img/harjoitus_4/image1.png" /></p>
<p>Tarkastellaan konsoli-ikkunan eri osia: vihreästä kolmiosta klikkaamalla komennot
suoritetaan (enter-näppäin ajaa saman asian). Muista ikoneista:</p>
<ul>
<li><p><img src="https://raw.githubusercontent.com/qgis/QGIS/master/images/themes/default/console/iconTabEditorConsole.svg" />
Avaa skriptieditorin. Editori helpottaa pidempien skriptien tekoa ja ajamista</p></li>
<li><p><img src="https://raw.githubusercontent.com/qgis/QGIS/master/images/themes/default/console/iconClearConsole.svg" />
Tyhjentää konsoli-ikkunan edellisistä komennoista</p></li>
<li><p><img src="https://raw.githubusercontent.com/qgis/QGIS/master/images/themes/default/console/iconHelpConsole.svg" />
Täältä löydät kätevästi linkit PyQGIs API -dokumentaatioon, PyQGIS Cookbookiin
sekä konsolin ohjeisiin.</p></li>
</ul>
<p>Avaa konsolista skriptieditori ja tutki samoin sen ominaisuuksia.</p>
<div id="harjoitusten-rakenne" class="section level2">
<h2>Harjoitusten rakenne</h2>
</div>
<div id="esimerkit" class="section level2">
<h2>Esimerkit</h2>
<p>Eri harjoitusosioissa on annettu esimerkkejä Python-koodista. Suosittelemme,
että esimerkkejä läpikäydessä kopioit esimerkin QGIS-konsolin skriptieditorin
puolelle ja ajat koodin. Esimerkkien yhteydessä voi myös muokata koodia
kokeillakseen eri toimintoja ja lopputuloksia. Esimerkit on annettu
koodilaatikossa, josta sen sisällön voi kopioida viemällä hiiren osoittimen
laatikon päälle ja klikkaamalla laatikon oikeaan yläreunaan ilmestyvää
painiketta.</p>
<div class="code-box">
<div class="sourceCode" id="cb84"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb84-1"><a href="04_harjoitus_4.html#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Esimerkkikoodia</span></span>
<span id="cb84-2"><a href="04_harjoitus_4.html#cb84-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-3"><a href="04_harjoitus_4.html#cb84-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Run me as an example!&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="harjoitukset" class="section level2">
<h2>Harjoitukset</h2>
<p>Suosittelemme, että työstät myös harjoitusten vastaukset skriptieditorissa.
Harjoitusten yhteydessä on joskus annettu oikeaan suuntaan ohjaava vinkki,
sekä aina malliratkaisu. Saat nämä näkyville painamalla <strong>Näytä ratkaisu</strong> ja
<strong>Näytä vinkki</strong> -painikkeita. Suosittelemme kuitenkin, ettet katso malliratkaisua
liian aikaisin vaan yrität ensin keksiä ratkaisun itse.
Saman asian voi myös tehdä usealla tavalla, ja malliratkaisu on vain yksi
tapa ratkaista ongelma!</p>
</div>
<div id="harjoitus-1.1" class="section level2">
<h2>Harjoitus 1.1</h2>
<p>Aseta muuttujan a arvoksi 5 Python- konsolissa ja tulosta muuttujan arvo.</p>
<button onclick="toggleAnswer(this)" class="btn answer_btn">
vinkki
</button>
<div class="hidden-box">
<div class="code-box">
<div class="sourceCode" id="cb85"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb85-1"><a href="04_harjoitus_4.html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aseta ensin arvo</span></span>
<span id="cb85-2"><a href="04_harjoitus_4.html#cb85-2" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb85-3"><a href="04_harjoitus_4.html#cb85-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-4"><a href="04_harjoitus_4.html#cb85-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Millä funktiolla voit tulostaa muuttujan arvon?</span></span></code></pre></div>
</div>
</div>
<button onclick="toggleAnswer(this)" class="btn answer_btn">
ratkaisu
</button>
<div class="hidden-box">
<div class="code-box">
<div class="sourceCode" id="cb86"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb86-1"><a href="04_harjoitus_4.html#cb86-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb86-2"><a href="04_harjoitus_4.html#cb86-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-3"><a href="04_harjoitus_4.html#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">5</span>)</span></code></pre></div>
</div>
</div>
<p><br />
<br />
</p>
<div class="hint-box">
<p>Lisävinkkejä konsolin käyttöön:</p>
<ul>
<li><p>Konsoli sopii hyvin myös esimerkiksi PyQGIS-olioiden ominaisuuksien tutkimiseen sekä
testailuun, ja se tukee esimerkiksi PyQGIS-kirjastojen koodintäydennystä (code completion).</p></li>
<li><p>Konsolissa voi myös suorittaa useammalle riville jatkuvia komentoja, kuten for-loopin.
Konsoliin ilmestyy tällöin rivinvaihdon jälkeen kolme pistettä sen merkiksi, että se
odottaa lisäkomentoja. Huomaa kuitenkin, että pisteet eivät vastaa Python-koodin
sisennystä, vaan käyttäjän on huolehdittava tästä.</p></li>
<li><p>Nuolinäppäimillä ylös- ja alaspäin pääsee siirtymään konsoliin syötettyjen komentojen
historiassa.</p></li>
<li><p>Konsolipaneeli aukeaa todennäköisesti karttaikkunan alapuolelle, mutta sen pystyy
raahaamaan ja telakoimaan haluttaessa muuallekin QGISin käyttöliittymässä tai irrottamaan
omaksi ikkunakseen.</p></li>
</ul>
</div>

</div>
</div>
<p style="text-align: center;">
<a href="03_harjoitus_3.html"><button class="btn btn-default">Previous</button></a>
<a href="05_harjoitus_5.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>

<footer class="footer text-center">

<div class="footer-container text-center">

<div class="footer-info">
<h5 class="footer-title">Lausekkeet ja PyQGIS</h5>
<span class="footer-version">v2025-10-31</span>
<div class="license"><img src="img/by-nd.svg" width="80px" alt="CC-BY-ND"></div>
</div>

<div class="footer-info">
<h5 class="footer-title footer-company">Gispo Suomi Oy.
<span class="footer-copyright-year">© 2025</span></h5>
<span class="footer-contact-info">Kyllikinportti 2
<br>00240 Helsinki, Finland
<br>info@gispo.fi
</span>
</div>

</div>
</div>
</footer>
</div>


<script src="js/nav-script.js"></script>
<script src="js/answer-key.js"></script>

</body>
</html>

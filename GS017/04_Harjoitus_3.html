<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<link rel="icon" href="/master-training-data/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="/master-training-data/favicon.ico" type="image/x-icon">

<!-- Based on TemplateMo 553 Xtra Blog: https://templatemo.com/tm-553-xtra-blog -->

<meta name="robots" content="noindex, nofollow" />
<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Harjoitus 3: Lomakkeet | Paikkatiedon mobiilikeruu Mergin Mapsilla" />
<meta property="og:type" content="book" />





<meta name="author" content="Gispo Suomi Oy." />

<meta name="date" content="2025-10-31" />


<meta name="description" content="Harjoitus 3: Lomakkeet | Paikkatiedon mobiilikeruu Mergin Mapsilla">

<title>Harjoitus 3: Lomakkeet | Paikkatiedon mobiilikeruu Mergin Mapsilla</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="custom.css" type="text/css" />

<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/hamburgers.css" rel="stylesheet">

</head>

<body>


<div class="main-content">
<!-- special comment to mark beginning of title section for bookdown -->
<!-- bookdown comments must be in this order: title, toc, body -->

<div class="main-content-wrapper">

<div class="row">
<div class="col-sm-12">
<header class="main-toc sidebar" id="sidebar">
<div class="sidebar-wrapper">

<button class="navbar-toggle hamburger hamburger--collapse" id="navbar-toggle"
type="button" onclick="navToggle()" aria-label="Toggle navigation">
<span class="hamburger-box"><span class="hamburger-inner"></span></span>
</button>

<div class="sidebar-title-wrapper">
<img alt="Logo" width="100" src="img/gispo_white_sm.png" class="sidebar-logo">
<div class="sidebar-title"><h1>Paikkatiedon mobiilikeruu Mergin Mapsilla</h1></div>
<div class="abstract-sidebar"><p>Peruskurssi Mergin Maps -lisäosan ja mobiilisovelluksen käytöstä</p></div>
</div>

<nav class="sidebar-nav">
<div id="TOC" class="toc">
<ul>
<li class="has-sub"><a href="index.html#paikkatiedon-mobiilikeruu-mergin-mapsilla"><strong>Paikkatiedon mobiilikeruu Mergin Mapsilla</strong></a>
<ul>
<li><a href="index.html#tervetuloa-paikkatiedon-mobiilikeruun-peruskurssille"><strong>Tervetuloa paikkatiedon mobiilikeruun peruskurssille!</strong></a></li>
<li><a href="index.html#mergin-maps-inputin-taustaa"><strong>Mergin Maps Inputin taustaa</strong></a></li>
<li><a href="index.html#miksi-mergin-maps"><strong>Miksi Mergin Maps?</strong></a></li>
<li><a href="index.html#lukuohje"><strong>Lukuohje</strong></a></li>
<li><a href="index.html#mistä-lisätietoja"><strong>Mistä lisätietoja?</strong></a></li>
<li><a href="index.html#virheet"><strong>Virheet</strong></a></li>
<li><a href="index.html#lisenssi-ja-oikeudet"><strong>Lisenssi ja oikeudet</strong></a></li>
<li><a href="index.html#materiaali-pdf-muodossa">Materiaali PDF-muodossa</a></li>
</ul></li>
<li class="has-sub"><a href="01_Ennen_harjoituksia.html#ennen-harjoituksia-asennus-ja-käyttöönotto"><strong>Ennen harjoituksia: asennus ja käyttöönotto</strong></a>
<ul>
<li><a href="01_Ennen_harjoituksia.html#valmistautuminen"><strong>Valmistautuminen</strong></a></li>
<li><a href="01_Ennen_harjoituksia.html#sovelluksen-asentaminen-sovelluskaupasta"><strong>Sovelluksen asentaminen sovelluskaupasta</strong></a></li>
<li><a href="01_Ennen_harjoituksia.html#käyttäjätunnusten-luominen-pilvipalveluun"><strong>Käyttäjätunnusten luominen pilvipalveluun</strong></a></li>
</ul></li>
<li class="has-sub"><a href="02_Harjoitus_1.html#harjoitus-1-sovelluksen-käyttöönotto"><strong>Harjoitus 1: Sovelluksen käyttöönotto</strong></a>
<ul>
<li><a href="02_Harjoitus_1.html#sovelluksen-avaaminen-ja-käyttöliittymä"><strong>Sovelluksen avaaminen ja käyttöliittymä</strong></a></li>
<li><a href="02_Harjoitus_1.html#mergin-mapsin-käyttöliittymä"><strong>Mergin Mapsin käyttöliittymä</strong></a></li>
</ul></li>
<li class="has-sub"><a href="03_Harjoitus_2.html#harjoitus-2-qgis-projektin-valmistelu-synkronointi-ja-digitointi"><strong>Harjoitus 2: QGIS-projektin valmistelu, synkronointi ja digitointi</strong></a>
<ul>
<li><a href="03_Harjoitus_2.html#valmistautuminen-1"><strong>Valmistautuminen</strong></a></li>
<li><a href="03_Harjoitus_2.html#projektin-perusasetukset"><strong>Projektin perusasetukset</strong></a></li>
<li><a href="03_Harjoitus_2.html#mergin-maps--lisäosan-asentaminen-ja-palveluun-kirjautuminen"><strong>Mergin Maps -lisäosan asentaminen ja palveluun kirjautuminen</strong></a></li>
<li><a href="03_Harjoitus_2.html#mergin-maps--lisäosan-käyttö"><strong>Mergin Maps -lisäosan käyttö</strong></a></li>
<li><a href="03_Harjoitus_2.html#taustakarttojen-lisäys"><strong>Taustakarttojen lisäys</strong></a></li>
<li><a href="03_Harjoitus_2.html#tasojen-luonti"><strong>Tasojen luonti</strong></a></li>
<li><a href="03_Harjoitus_2.html#projektin-synkronointi-pilveen-ja-siihen-liittyviä-huomioita"><strong>Projektin synkronointi pilveen ja siihen liittyviä huomioita</strong></a></li>
<li><a href="03_Harjoitus_2.html#projektin-avaaminen-mobiililaitteessa"><strong>Projektin avaaminen mobiililaitteessa</strong></a></li>
<li><a href="03_Harjoitus_2.html#digitointitila"><strong>Digitointitila</strong></a></li>
<li><a href="03_Harjoitus_2.html#lisätehtävä-tasojen-luominen"><strong>Lisätehtävä: Tasojen luominen</strong></a></li>
</ul></li>
<li class="has-sub"><a href="04_Harjoitus_3.html#harjoitus-3-lomakkeet"><strong>Harjoitus 3: Lomakkeet</strong></a>
<ul>
<li><a href="04_Harjoitus_3.html#valmistautuminen-2"><strong>Valmistautuminen</strong></a></li>
<li><a href="04_Harjoitus_3.html#taustatietoja"><strong>Taustatietoja</strong></a></li>
<li><a href="04_Harjoitus_3.html#ominaisuustietolomakkeen-muokkaus"><strong>Ominaisuustietolomakkeen muokkaus</strong></a></li>
<li><a href="04_Harjoitus_3.html#laji-tietokenttä"><strong>Laji-tietokenttä</strong></a></li>
<li><a href="04_Harjoitus_3.html#lisätiedot-tietokenttä"><strong>Lisätiedot-tietokenttä</strong></a></li>
<li><a href="04_Harjoitus_3.html#luoja--ja-muokkaaja-tietokenttien-automatisointi"><strong>Luoja- ja muokkaaja-tietokenttien automatisointi</strong></a></li>
<li><a href="04_Harjoitus_3.html#luonti--ja-muokkausaika-tietokentät"><strong>Luonti- ja muokkausaika-tietokentät</strong></a></li>
<li><a href="04_Harjoitus_3.html#kohteen-uuid-kenttä"><strong>Kohteen uuid-kenttä</strong></a></li>
<li><a href="04_Harjoitus_3.html#lomakkeen-välilehdet"><strong>Lomakkeen välilehdet</strong></a></li>
<li><a href="04_Harjoitus_3.html#näyttö-ja-kohdelistaus"><strong>Näyttö ja kohdelistaus</strong></a></li>
<li><a href="04_Harjoitus_3.html#tarttumisen-asetukset"><strong>Tarttumisen asetukset</strong></a></li>
<li><a href="04_Harjoitus_3.html#lomakkeet-mergin-mapsissa"><strong>Lomakkeet Mergin Mapsissa</strong></a></li>
</ul></li>
<li class="has-sub"><a href="05_Harjoitus_4.html#harjoitus-4-relaatioiden-käyttö"><strong>Harjoitus 4: Relaatioiden käyttö</strong></a>
<ul>
<li><a href="05_Harjoitus_4.html#valmistautuminen-3"><strong>Valmistautuminen</strong></a></li>
<li><a href="05_Harjoitus_4.html#kasvualusta-taso"><strong>Kasvualusta-taso</strong></a></li>
<li><a href="05_Harjoitus_4.html#relaatioiden-luonti"><strong>Relaatioiden luonti</strong></a></li>
<li><a href="05_Harjoitus_4.html#lomakkeen-asetusten-määrittäminen"><strong>Lomakkeen asetusten määrittäminen</strong></a></li>
<li><a href="05_Harjoitus_4.html#lapsikohteiden-luominen-mergin-mapsissa"><strong>Lapsikohteiden luominen Mergin Mapsissa</strong></a></li>
</ul></li>
<li class="has-sub"><a href="06_Harjoitus_5.html#harjoitus-5-lisäominaisuudet-ja-kenttätyö"><strong>Harjoitus 5: Lisäominaisuudet ja kenttätyö</strong></a>
<ul>
<li><a href="06_Harjoitus_5.html#valmistautuminen-4"><strong>Valmistautuminen</strong></a></li>
<li><a href="06_Harjoitus_5.html#laitteen-paikannuksen-käyttäminen"><strong>Laitteen paikannuksen käyttäminen</strong></a></li>
<li><a href="06_Harjoitus_5.html#edistyneemmät-digitointityökalut"><strong>Edistyneemmät digitointityökalut</strong></a></li>
<li><a href="06_Harjoitus_5.html#tarttuminen-sekä-topologinen-editointi"><strong>Tarttuminen sekä topologinen editointi</strong></a></li>
<li><a href="06_Harjoitus_5.html#taitepiste--ja-halkaisutyökalut"><strong>Taitepiste- ja halkaisutyökalut</strong></a></li>
<li><a href="06_Harjoitus_5.html#lyhyt-ohjeistus-kenttätöihin"><strong>Lyhyt ohjeistus kenttätöihin</strong></a></li>
</ul></li>
</ul>
</div>
</nav>
</div>
</header>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="harjoitus-3-lomakkeet" class="section level1">
<h1><strong>Harjoitus 3: Lomakkeet</strong></h1>
<p><strong>Harjoituksen sisältö</strong></p>
<p>Tässä harjoituksessa muokataan projektissa olevien tasojen tietojen syötön lomakkeita digitoinnin helpottamiseen ja tehostamiseen.</p>
<p><strong>Harjoituksen tavoite</strong></p>
<p>Kouluttautuja oppii muokkaamaan tiedon syöttötapoja QGISin widgettejä käyttäen, sekä osaa tunnistaa mobiilitiedonkeruussa ja etenkin Mergin Mapsissä tähän liittyvät erityispiirteet.</p>
<p><strong>Arvioitu kesto</strong></p>
<p>45 min.</p>
<div id="valmistautuminen-2" class="section level2">
<h2><strong>Valmistautuminen</strong></h2>
<p>Avaa QGIS tietokoneellasi ja avaa siellä aiemmin luomasi QGIS-projekti (<strong>Projekti &gt; Avaa</strong>), siirry oikeaan kansioon, valitse projektitiedosto (<strong>“Mergin-kurssiprojekti tai vastaava”)</strong> ja paina <strong>Avaa</strong>.</p>
</div>
<div id="taustatietoja" class="section level2">
<h2><strong>Taustatietoja</strong></h2>
<p>Tässä harjoituksessa muokataan projektissa olevien tasojen tietojen syötön lomakkeita digitoinnin helpottamiseen ja tehostamiseen. QGISissa on erityyppisille tiedoille ja niiden syöttötavoille valittavissa monenlaisia vimpaimia (widgets). Tuettujen widget-tyyppien ajantasaisen listan näet dokumentaatiosta: <a href="https://merginmaps.com/docs/layer/settingup_forms/" class="uri">https://merginmaps.com/docs/layer/settingup_forms/</a></p>
</div>
<div id="ominaisuustietolomakkeen-muokkaus" class="section level2">
<h2><strong>Ominaisuustietolomakkeen muokkaus</strong></h2>
<p>Avaa QGISissa <strong>Lintuhavainnot</strong>-tason ominaisuudet klikkaamalla hiiren oikealla napilla <strong>Tasot</strong>-paneelista tason kohdalta. Valitse <strong>Ominaisuudet…</strong> ja mene <strong>Attribuuttilomake</strong>-välilehdelle. Valitse välilehdellä ylhäällä olevasta pudotusvalikosta <strong>Drag and Drop Designer</strong> -tila (suom. Raahaa ja pudota -muokkain) automaattisen sijaan. Tässä lomakkeeseen sisällytettävät kentät on välilehden keskimmäisessä, <strong>Lomakenäkymä</strong>-nimisessä (ent. taitosta) sarakkeessa. Tähän voidaan lisätä objekteja vasemmanpuolimmaisesta sarakkeesta keskimmäiseen raahaamalla. Samoin tarpeettomia vimpaimia ja kenttiä voi poistaa lomakkeen taitosta klikkaamalla kyseistä objektia ja poistamalla se punaisesta miinus-nappulasta (kts. kuva). Drag and Drop Designer -näkymässä voidaan myös ryhmitellä lomakkeen kenttiä esimerkiksi eri välilehtiin ja nämä ryhmitykset toimivat myös Mergin Maps käyttöliittymässä.</p>
<p>Pidetään nyt kuitenkin kaikki kentät samassa välilehdessä. Poistetaan sen sijaan lomakenäkymästä kentät <strong>fid</strong> sekä <strong>uuid</strong>, joita ei lomakkeessa haluta manuaalisesti lisätä. <strong>Lomakenäkymä</strong> -sarakkeessa voi myös muuttaa lomakkeen kenttien järjestystä raahaamalla. Muokkaa nyt kenttien järjestys alla olevan kuvan <strong>Taitosta</strong>-osion  mukaiseksi.</p>
<p><img src="img/harjoitus_3/image1.png" /></p>
</div>
<div id="laji-tietokenttä" class="section level2">
<h2><strong>Laji-tietokenttä</strong></h2>
<p>Ruvetaan nyt muokkaamaan tietojen syöttötapoja. Ennen kuin lähdetään muuttamaan arvojen sisältöä, lisätään uusi taso, joka voidaan linkittää osaksi laji-kenttää. Lisää nyt harjoituskansiossa oleva tekstitiedosto <strong>lintulajit</strong> projektiin. Tekstitiedoston pääset lisäämään <strong>tasot - tietolähteiden hallinta</strong> ja välilehdeltä <strong>eroteltu teksti.</strong> Etsi lintulajit-tiedosto “tiedostonimi” -kohtaan ja täytä tason asetukset kuvan mukaisesti:</p>
<p><img src="img/harjoitus_3/image2.png" /></p>
<p>Paina <strong>Lisää</strong>.</p>
<p>Tuplaklikkaa nyt lintuhavainnot-tasoa ja mene attribuuttilomakkeelle. Klikkaa keskimmäisessä Lomakenäkymä-sarakkeessa <strong>laji</strong>-kenttää. Valitse oikeaan sarakkeeseen aukeavasta Widgetin tyyppi -pudotusvalikosta <strong>Arvoluettelo</strong> Tekstin muokkaus -tyypin sijasta. Tällä tavoin lajitieto lisätään digitoidessa suoraan luettelosta (jossa on valmiit arvot). Tällöin kirjoitusasu säilyy yhdenmukaisena ja esimerkiksi aineiston myöhempi analyysi helpottuu.</p>
<p>Avautuvaan taulukkoon kohtaan <strong>Arvo</strong> voit syöttää manuaalisesti lintulajien nimiä, mutta jos lajilista on laaja, kannattaa arvot hakea taulukkoon suoraan tiedostosta. Tätä varten lisäämämme lintulajit-taulukko onkin luotu. Paina laatikosta “Load Data From Layer” ja valitse tasoksi “lintulajit”, arvoksi “lajinimi” sekä kuvaukseksi “lajinimi”. Paina OK.</p>
<p><img src="img/harjoitus_3/image3.png" /></p>
<p>Aseta tämän jälkeen vielä <strong>Ehdot</strong>-osioon alle ruksi valintalaatikkoon <strong>Ei tyhjä (null)</strong> sekä <strong>ei NULL -ehto on pakottava</strong>, jolloin ainakin tämä tieto on aina täytettävä.</p>
</div>
<div id="lisätiedot-tietokenttä" class="section level2">
<h2><strong>Lisätiedot-tietokenttä</strong></h2>
<p>Tähän kenttään on tarkoitus lisätä vapaamuotoisia lisähuomioita, joten kentän voi pitää oletusasetuksilla <strong>Tekstin muokkaus</strong> -tyyppisenä. Valitaan tähän alle lisäksi <strong>Monirivi</strong> (Multiline), jolloin pidemmätkin huomiot voi lisätä kätevästi. Koska huomioita ei toisaalta välttämättä ole, jätetään <strong>Ei tyhjä</strong> -ehto valitsematta.</p>
<p><img src="img/harjoitus_3/image4.png" /></p>
</div>
<div id="luoja--ja-muokkaaja-tietokenttien-automatisointi" class="section level2">
<h2><strong>Luoja- ja muokkaaja-tietokenttien automatisointi</strong></h2>
<p>Luoja- ja muokkaaja-kentät ovat teksti-muotoisia kenttiä, jotka sisältävät tiedon muokkauksen tekijästä. Pidä siis widgettinä <strong>Tekstin muokkaus</strong>. Koska muokkaaja tietyllä laitteella on yleensä yksi ja sama henkilö, tätä ei haluta joka kerta lisätä manuaalisesti, vaan automaatio on suotavaa, ja se voidaan saavuttaa <strong>Oletusarvot</strong>-kohdan avulla. Olemme aiemmin määritelleet Merginin asetuksissa käyttäjän oman muuttujan <strong>username</strong>. Tällaiseen muuttujan arvoon voi QGISissa viitata <strong>@</strong>-merkillä. Kirjoita siis tähän Oletusarvo-kohtaan Luonti- ja muokkauskentille kummallekin erikseen <strong>@mergin_username</strong>, jolloin Mergin osaa lisätä kohteelle käyttäjänimen.</p>
<p>Luonti ja muokkaus eroavat toisistaan siinä, että kohde luodaan vain kerran, kun taas sitä voidaan muokata moneen kertaan. <strong>Muokkaaja</strong>-tietokentälle pitääkin varmistaa, että tässä on <strong>Yleistä</strong>-kohdassa valittuna <strong>Muokattava</strong> ja <strong>Oletusarvo</strong>-kohdassa <strong>Käytä oletusarvoa päivityksessä</strong>. Vastaavasti <strong>Luoja</strong>-tietokentässä nämä kaksi kohtaa eivät saa olla valittuna, jotta tietojen syöttö toimisi kuten haluamme! Sen sijaan kohteella tulee aina olla luoja, joten laitetaan sille vielä <strong>Ehdot</strong>-kohdassa ehdot <strong>Ei tyhjä (null)</strong> ja <strong>EI NULL -ehto on pakottava</strong>.</p>
</div>
<div id="luonti--ja-muokkausaika-tietokentät" class="section level2">
<h2><strong>Luonti- ja muokkausaika-tietokentät</strong></h2>
<p>Myös luonti- ja muokkausaika-kentille pätee sama, mitä edellä sanottiin luonnista ja muokkauksesta, ja ne käsitellään kumpikin melko samalla tavalla. Valitse kummallekin Widgetin tyypiksi <strong>Päivä/Aika</strong>. Näidenkin tietojen syöttö halutaan automatisoida, ja tämä onnistuu käyttämällä QGISin sisäistä funktiota <strong>now()</strong>, joka kirjoitetaan <strong>Oletusarvo</strong>-kohtaan kummallekin kentälle. <strong>Muokattava, oletusarvon päivitys</strong> ja <strong>null-ehdot</strong> määritetään täsmälleen kuten edellä <strong>Luoja-</strong> ja <strong>Muokkaaja</strong>-kentille ohjeistettiin.</p>
<div class="hint-box">
<p>Jos haluat muotoilla Päivä/Aika-muotoa käytä format_date komentoa. Esim. format_date(now(),‘dd.MM.yyyy klo hh:MM’) muotoilee päiväyksen ja kellonajan esimerkiksi näin 03.08.2023 klo 14:08</p>
</div>
</div>
<div id="kohteen-uuid-kenttä" class="section level2">
<h2><strong>Kohteen uuid-kenttä</strong></h2>
<p>Vaikka uuid-tietokenttä poistettiinkin taitosta tarpeettomana tietona, määritetään nyt miten kyseinen tieto kohteelle syötetään. Tässäkin apuun tuleen QGISin sisäinen funktio nimeltä <strong>uuid()</strong>, joka luo tarvittavan UUID-koodin. Klikkaa vasemmanpuoleisesta Käytettävissä olevat widgetit -sarakkeesta kohtaa uuid. Pidä widgetin tyyppinä <strong>Tekstin muokkaus</strong>, mutta mene jälleen <strong>Oletusarvo</strong>-osioon ja kirjoita oletusarvoksi funktio <strong>uuid()</strong>. Poista myös <strong>Muokattava</strong>- sekä <strong>Käytä oletusarvoa päivityksessä</strong> -valinnat, sillä kun kohde on luotu, UUID:n ei tule enää muuttua.</p>
<div class="hint-box">
<p>Mikä on UUID? UUID (<strong>U</strong>niversal <strong>U</strong>nique <strong>Id</strong>entifier) on Open Software Foundationin (OSF) määrittelemä yksilöintijärjestelmä. Tällä tarkoitetaan kohteen kiinteän kokoista uniikkia tunnistetta. Generointi toteutetaan valmiiksi ohjelmointiympäristössä suoraan funktiokutsun avulla.</p>
</div>
</div>
<div id="lomakkeen-välilehdet" class="section level2">
<h2><strong>Lomakkeen välilehdet</strong></h2>
<p>Kun täytettäviä ominaisuustietokenttiä on paljon, niiden jaotteleminen eri välilehdille saattaa helpottaa työskentelyä. Myös Mergin Maps tukee välilehtien käyttöä. Välilehti-ominaisuus luodaan QGISissa samassa näkymässä, jossa juuri määrittelimme tietojen syöttötavat eri kentille.</p>
<p>Vaikka lisättäviä ominaisuustietoja ei nykyisessä projektissamme ole valtavasti, saattaa olla kätevää jaotella metatiedot omalle välilehdelleen, sillä nämä liittyvät toisiinsa eikä niitä myöskään täytetä manuaalisesti. Klikkaa vihreää plus-merkkiä lisätäksesi uuden välilehden (kts. kuva). Anna välilehdelle (tab) nimeksi “metatiedot” ja sarakkeiden lukumääräksi 1. Paina OK, jolloin välilehti ilmestyy Taitosta-sarakkeeseen. Raahaa metatieto-kentät välilehden päälle ja irrota, jolloin ne sisältyvät välilehteen alla olevan kuvan mukaisesti. Lisää sitten toinen välilehti ja anna sille nimeksi “perustiedot”. Raahaa loput ominaisuustietokentät tähän välilehteen. Huomaa että pystyt muokkaamaan välilehtien ja niiden sisältämien kenttien järjestystä sopivaksi samaan tapaan raahaamalla.</p>
<p>Tämän jälkeen voit klikata OK, jolloin attribuuttilomakkeen muutokset tulevat voimaan QGIS-projektissa. Muista tallentaa myös projektitiedosto pikanäppäimellä <strong>CTRL + T</strong> tai päävalikosta <strong>Projekti &gt; Tallenna</strong>. Muista myös synkronoida projekti Mergin Maps pilvipalveluun.</p>
<p><img src="img/harjoitus_3/image5.png" /></p>
<div class="hint-box">
<p>Voit asettaa myös välilehdille ehdot joiden mukaan ne tulevat näkyviin. Esimerkiksi, kun käyttäjä antaa johonkin kenttään tietyn arvon, ilmestyy haluttu välilehti näkyviin. Lisää tästä ominaisuudesta <a href="https://merginmaps.com/docs/layer/settingup_forms_settings/#tabs-and-groups" title="Show and hide field depending on a field value">dokumentaatiossa</a>.</p>
<p><img src="img/harjoitus_4/image10.png" /></p>
</div>
</div>
<div id="näyttö-ja-kohdelistaus" class="section level2">
<h2><strong>Näyttö ja kohdelistaus</strong></h2>
<p>Huomasimme edellisen harjoituksen lopussa, että kohdelistauksesta oli hankala erottaa kohteita toisistaan selkeyttävien kohdenimien puuttuessa. Tilannetta voi helpottaa QGISin Näyttö-valikon avulla. Avaa siis jälleen lintuhavainnot-tason ominaisuudet, ja avaa tällä kertaa <strong>Näyttö</strong>-välilehti. Siellä voidaan määrittää <strong>Näyttönimi</strong>, joka on nimi, joka kohdelistauksessa näkyy. Varsinaisia nimiä lajikohteillamme ei nyt ole, mutta voimme yrittää erotella kohteita toisistaan esimerkiksi laji-kentän ja jonkin muun kentän, esimerkiksi luontiajan, arvon avulla. Lausekkeen voi kirjoittaa suoraan kuvassakin näkyvään laatikkoon, tai voi käyttää apuna <strong>Lausekkeen muokkaus</strong> -ikkunaa painamalla “epsilon”-ikonia laatikon oikealta puolelta. Muista, että kenttien nimet tulevat tavallisten, kaksinkertaisten lainausmerkkien sisälle (“laji”), kun taas muut tekstipätkät yksinkertaisten heittomerkkien sisälle (‘,’). Esimerkkinä karttavihjeelle voisi siis olla: <strong>“laji” || ‘,’ || “luontiaika”</strong>. Kirjoita tämä tai muu haluamasi lauseke näyttönimeksi, ja paina OK.</p>
<p><img src="img/harjoitus_3/image6.png" /></p>
</div>
<div id="tarttumisen-asetukset" class="section level2">
<h2><strong>Tarttumisen asetukset</strong></h2>
<p>Määritellään tässä kohtaa projektille vielä toinen digitointia käytännössä helpottava asetus, nimittäin <strong>tarttuminen</strong> (snapping), vaikka tätä tarkastellaankin lähemmin vasta harjoituksessa 5. Mikäli QGISin työkalupalkissa ei näy alla olevan kuvan kaltaista magneetti-ikonia, avaa ylävalikosta: <strong>Näytä &gt; Työkalut &gt; Tarttumisen työkalut</strong>. Jotta tarttuminen toimisi Merginissä, on nämä asetukset määriteltävä QGIS-projektille. Voit käyttää kuvassa näkyviä asetuksia, eli</p>
<ul>
<li><p>magneetti-ikoni on aktivoituna,</p></li>
<li><p>“kaikki tasot” valittuna,</p></li>
<li><p>Taitepiste ja Segmentti valittuna</p></li>
<li><p>etäisyysarvo on 15 pikseliä (px).</p></li>
</ul>
<p><img src="img/harjoitus_3/image7.png" /></p>
<div class="hint-box">
<p>Mergin Maps projektin tarttumisasetuksia voidaan vielä tarkemmin räätälöidän Projektin ominaisuuksissa. Projekti –&gt; Ominaisuudet. Voit valita noudattaako Mergin Maps oletustartuntaa, noudattaako se QGISin tartuntaa tai valita, ettei tartuntaa ole ollenkaan.</p>
<p><img src="img/harjoitus_4/image11.png" /></p>
</div>
</div>
<div id="lomakkeet-mergin-mapsissa" class="section level2">
<h2><strong>Lomakkeet Mergin Mapsissa</strong></h2>
<p>Voit testata nyt miltä lomake näyttää tehdyillä muutoksilla. Päivitä projekti jälleen Merginin pilvipalveluun ja testaa Mergin Mapsissa. Voit lisätä uusia kohteita tai vain selata olemassa olevien kohteiden attribuuttitietoja. Kummassakin tapauksessa näet aukeavassa lomakkeessa luodut välilehdet (perustiedot ja metatiedot). Pääset liikkumaan välilehdeltä toiselle joko klikkaamalla välilehden otsikkoa tai liu’uttamalla näyttöä sormella sivulle.</p>
<p><img src="img/harjoitus_3/image8.png" /></p>
<p><img src="img/harjoitus_3/image9.png" /></p>
<div class="hintbox">
<p>Psst! Koulutuksen jälkeen saat henkilökohtaista tukea Gispon tukipalvelusta. Lähetä kysymyksesi tai kommenttisi osoitteeseen koulutustuki@gispo.fi!</p>
</div>
<p><br />
</p>

</div>
</div>
<p style="text-align: center;">
<a href="03_Harjoitus_2.html"><button class="btn btn-default">Previous</button></a>
<a href="05_Harjoitus_4.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>

<footer class="footer text-center">

<div class="footer-container text-center">

<div class="footer-info">
<h5 class="footer-title">Paikkatiedon mobiilikeruu Mergin Mapsilla</h5>
<span class="footer-version">v2025-10-31</span>
<div class="license"><img src="img/by-nd.svg" width="80px" alt="CC-BY-ND"></div>
</div>

<div class="footer-info">
<h5 class="footer-title footer-company">Gispo Suomi Oy.
<span class="footer-copyright-year">© 2025</span></h5>
<span class="footer-contact-info">Kyllikinportti 2
<br>00240 Helsinki, Finland
<br>info@gispo.fi
</span>
</div>

</div>
</div>
</footer>
</div>


<script src="js/nav-script.js"></script>
<script src="js/answer-key.js"></script>

</body>
</html>
